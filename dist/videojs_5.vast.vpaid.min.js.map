{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///videojs_5.vast.vpaid.min.js","webpack:///webpack/bootstrap dc38d35cdc6ab712697e?c0f5","webpack:///./src/scripts/utils/utilityFunctions.js?018e","webpack:///./~/vpaid-flash-client/js/utils.js?e589","webpack:///./src/scripts/utils/xml.js?aa3e","webpack:///./src/scripts/ads/vast/VASTError.js?6464","webpack:///./src/scripts/ads/vast/vastUtil.js?defa","webpack:///./src/scripts/utils/consoleLogger.js?8def","webpack:///./src/scripts/utils/dom.js?a63a","webpack:///./~/vpaid-flash-client/js/registry.js?692c","webpack:///./src/scripts/ads/vast/VASTResponse.js?0e69","webpack:///./src/scripts/utils/async.js?14c1","webpack:///./src/scripts/utils/mimetypes.js?a77c","webpack:///./src/scripts/utils/playerUtils.js?8d99","webpack:///./~/vpaid-flash-client/js/VPAIDFLASHClient.js?c07d","webpack:///./~/vpaid-flash-client/js/jsFlashBridge.js?e7c0","webpack:///./~/vpaid-html5-client/js/utils.js?6c41","webpack:///./src/scripts/ads/vast/Ad.js?4a6c","webpack:///./src/scripts/ads/vast/Creative.js?4850","webpack:///./src/scripts/ads/vast/InLine.js?be9f","webpack:///./src/scripts/ads/vast/Linear.js?ace9","webpack:///./src/scripts/ads/vast/TrackingEvent.js?c620","webpack:///./src/scripts/ads/vast/VASTTracker.js?4331","webpack:///./src/scripts/ads/vast/VideoClicks.js?d966","webpack:///./src/scripts/ads/vast/Wrapper.js?e0cc","webpack:///./src/scripts/ads/vast/parsers.js?efd9","webpack:///./src/scripts/utils/urlUtils.js?c9c0","webpack:///./~/swfobject/index.js?cef9","webpack:///./src/scripts/plugin/videojs.vast.vpaid.js?1625","webpack:///./src/styles/videojs.vast.vpaid.scss?004e","webpack:///./~/vpaid-flash-client/js/IVPAIDAdUnit.js?ea95","webpack:///./~/vpaid-flash-client/js/VPAIDAdUnit.js?eab3","webpack:///./~/vpaid-flash-client/js/flashTester.js?e9b5","webpack:///./~/vpaid-flash-client/js/jsFlashBridgeRegistry.js?e822","webpack:///./~/vpaid-html5-client/js/IVPAIDAdUnit.js?42a3","webpack:///./~/vpaid-html5-client/js/VPAIDAdUnit.js?bcef","webpack:///./~/vpaid-html5-client/js/VPAIDHTML5Client.js?a026","webpack:///./~/vpaid-html5-client/js/subscriber.js?f5af","webpack:///./src/scripts/ads/vast/Companion.js?5fc7","webpack:///./src/scripts/ads/vast/MediaFile.js?17e4","webpack:///./src/scripts/ads/vast/VASTClient.js?caa2","webpack:///./src/scripts/ads/vast/VASTIntegrator.js?37a9","webpack:///./src/scripts/ads/vpaid/VPAIDAdUnitWrapper.js?cbe6","webpack:///./src/scripts/ads/vpaid/VPAIDFlashTech.js?7326","webpack:///./src/scripts/ads/vpaid/VPAIDHTML5Tech.js?c249","webpack:///./src/scripts/ads/vpaid/VPAIDIntegrator.js?8af2","webpack:///./src/scripts/plugin/components/ads-label.js?079e","webpack:///./src/scripts/plugin/components/black-poster.js?dcf3","webpack:///./src/scripts/utils/http.js?18c3","webpack:///./src/styles/videojs.vast.vpaid.scss?757d*","webpack:///./~/css-loader/lib/css-base.js?da04","webpack:///./~/vpaid-flash-client/bin/VPAIDFlash.swf?45eb","webpack:///./~/style-loader/addStyles.js?b980","webpack:///./src/scripts/plugin/components/ads-label_5.js?a77f","webpack:///./src/scripts/plugin/components/black-poster_5.js?bbb1","webpack:///./src/scripts/videojs_5.vast.vpaid.js?97ee"],"names":["root","factory","exports","module","define","amd","a","i","this","modules","__webpack_require__","moduleId","installedModules","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","noop","isNull","isDefined","undefined","isUndefined","isObject","obj","_typeof","isFunction","str","isNumber","num","isWindow","utilities","window","isArray","array","toString","isArrayLike","length","nodeType","NODE_TYPE_ELEMENT","isString","isEmptyString","isNotEmptyString","arrayLikeObjToArray","args","Array","slice","forEach","iterator","context","key","isPrimitive","snake_case","separator","replace","SNAKE_CASE_REGEXP","letter","pos","toLowerCase","isValidEmail","email","EMAIL_REGEXP","test","trim","extend","arg","k","arguments","capitalize","charAt","toUpperCase","decapitalize","transformArray","transformer","transformedArray","item","index","transformedItem","push","toFixedDigits","digits","formattedNum","String","parseInt","isNaN","NaN","throttle","callback","delay","previousCall","Date","getTime","time","apply","debounce","wait","timeoutId","clearTimeout","setTimeout","treeSearch","getChildren","found","children","el","echoFn","val","isISO8601","ISO8086_REGEXP","isOldIE","version","getInternetExplorerVersion","navigator","rv","appName","ua","userAgent","re","RegExp","res","exec","parseFloat","isIDevice","UA","isMobile","isIPhone","isAndroid","Symbol","constructor","unique","prefix","count","f","callbackTimeout","timer","onSuccess","onTimeout","timeout","createElementWithID","parent","id","cleanContent","nEl","document","createElement","innerHTML","appendChild","isPositiveInt","newVal","oldVal","isFinite","stringEndsWith","string","search","endsWith","hideFlashEl","style","position","left","top","width","height","searchString","subjectString","lastIndex","indexOf","xml","strToXMLDoc","stringContainingXMLSource","isParseError","parsedDocument","parser","DOMParser","erroneousParse","parseFromString","parsererrorNS","getElementsByTagName","namespaceURI","getElementsByTagNameNS","e","xmlDocument","ActiveXObject","async","loadXML","Error","parseText","sValue","JXONTree","oXMLParent","documentElement","hasChildNodes","oNode","sProp","vContent","sCollectedTxt","nItem","childNodes","nodeValue","nodeName","keyValue","hasAttributes","attributes","oAttrib","nAttrib","attr","toJXONTree","xmlString","xmlDoc","xmlObj","encode","decode","VASTError","message","code","VPAIDFLASHClient","VPAIDHTML5Tech","VPAIDFlashTech","vastUtil","track","URLMacros","variables","sources","parseURLMacros","trackImgs","src","img","Image","parsedURLs","CACHEBUSTING","Math","round","random","URLMacro","_parseURLMacro","parseURLMacro","parseDuration","durationStr","durationRegex","match","durationInMs","hourStr","minStr","secStr","parseImpressions","impressions","impression","formatProgress","progress","hours","minutes","seconds","milliseconds","floor","parseOffset","offset","duration","calcPercent","quantity","percent","percentStr","VPAID_techs","isVPAID","mediaFile","Boolean","apiFramework","findSupportedVPAIDTech","mimeType","len","VPAIDTech","supports","isFlashSupported","isSupported","runFlashSupportCheck","vpaidFlashLoaderPath","runFlashTest","data","setVerbosity","v","_verbosity","handleMsg","method","_prefix","console","debug","log","info","warn","error","consoleLogger","dom","isVisible","getComputedStyle","visibility","isHidden","display","isShown","hide","__prev_style_display_","show","hasClass","cssClass","classes","classList","contains","getAttribute","split","addClass","add","setAttribute","join","removeClass","remove","newClasses","addEventListener","type","handler","t","attachEvent","removeEventListener","detachEvent","dispatchEvent","event","fireEvent","eventType","isDescendant","child","node","parentNode","getTextContent","textContent","text","prependChild","removeChild","insertBefore","firstChild","isDomElement","Element","click","once","handlerWrap","getDimension","element","rect","getBoundingClientRect","offsetWidth","offsetHeight","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","descriptor","writable","protoProps","staticProps","MultipleValuesRegistry","_registries","keys","filter","_this","splice","old","_this2","findByValue","map","SingleValueRegistry","_this3","_this4","VASTResponse","_linearAdded","ads","errorURLMacros","clickTrackings","customClicks","trackingEvents","mediaFiles","clickThrough","adTitle","skipoffset","appendToArray","items","VideoClicks","Linear","InLine","Ad","Wrapper","InLine__A","addAd","ad","inLine","wrapper","_addInLine","_addWrapper","_addErrorTrackUrl","errorURL","_addImpressions","_addClickThrough","_addClickTrackings","_addCustomClicks","_addTrackingEvents","eventsMap","trackingEvent","_addTitle","title","_addDuration","_addVideoClicks","videoClicks","_addMediaFiles","_addSkipoffset","_addAdParameters","adParameters","_addLinear","linear","that","creatives","creative","hasLinear","_toConsumableArray","arr","arr2","from","setImmediate","fn","tasks","makeCallback","next","waterfall","err","wrapIterator","when","condition","isAllowed","pop","unshift","html5","flash","playerUtils","getPlayerSnapshot","player","tech","querySelector","snapshot","ended","currentSrc","currentTime","currentType","playing","paused","suppressedTracks","tracks","remoteTextTracks","mode","nativePoster","poster","restorePlayerSnapshot","restoreTracks","trackSnapshot","tryToResume","isReadyToResume","attempts","one","play","videojs","trigger","load","readyState","seekable","prepareForAds","isAdPlaying","vast","adUnit","tryToTriggerFirstPlay","isFirstPlay","_firstPlay","resetFirstPlay","blackPoster","restoreContentVolume","saveVolumeSnapshot","muted","volume","volumeSnapshot","restoreVolumeSnapshot","hideBlackPoster","addStyles","removeStyles","addChild","origPlay","callOrigPlay","resumeAd","origPause","pause","callOrigPause","pauseAd","origPaused","callOrigPaused","isPaused","on","removeNativePoster","removeAttribute","events","listener","off","$throwIfDestroyed","_destroyed","$loadPendedAdUnit","_loadLater","loadAdUnit","url","setStaticProperty","propertyName","swfobject","JSFlashBridge","VPAIDAdUnit","uniqueVPAID","createFlashTester","FLASH_VERSION","flashTester","vpaidParentEl","onError","me","swfConfig","params","wmode","salign","align","allowScriptAccess","scale","allowFullScreen","quality","vpaidOptions","_vpaidParentEl","_flashID","movie","FlashVars","VPAID_FLASH_HANDLER","createSWF","_flash","_destroyAdUnit","destroy","_adUnitLoad","removeCallback","_adUnit","_destroy","adURL","isReady","callFlashMethod","getFlashID","getFlashURL","hasFlashPlayerVersion","body","$asyncCallback","callbackID","result","_callbacks","registry","flashURL","flashID","loadHandShake","_el","_flashURL","_width","_height","_handlers","_uniqueMethodIdentifier","_ready","_handShakeHandler","addInstance","eventName","removeByKey","removeAll","methodName","concat","_trigger","removeByValue","suffix","filterKeys","newWidth","newHeight","setSize","offAll","removeAllCallbacks","removeInstanceByID","parentElement","typeID","typeName","getInstanceByID","_handShake","_callCallback","validate","isValid","clearCallbackTimeout","func","timeouts","createElementInEl","tagName","createIframeWithContent","template","iframe","createIframe","zIndex","setIframeContent","simpleTemplate","marginWidth","marginHeight","frameBorder","setFullSizeStyle","margin","padding","border","JSON","stringify","iframeEl","content","iframeDoc","contentWindow","write","toExtend","fromSource","adJTree","initialize","sequence","Creative","creativeJTree","adId","companionAds","companions","companion","companionData","Companion","parseCreatives","creativesJTree","creativesData","inlineJTree","adSystem","description","advertiser","surveys","inlineSurveys","survey","uri","pricing","extensions","linearJTree","parsers","mediaFilesJxonTree","mfData","MediaFile","trackings","trackingData","TrackingEvent","tracking","trackingJTree","VASTTracker","assetURI","vastResponse","sanityCheck","response","quartiles","firstQuartile","tracked","midpoint","thirdQuartile","trackURLs","urls","ASSETURI","CONTENTPLAYHEAD","trackEvent","trackOnce","uris","trackProgress","newProgressInMs","addTrackEvent","canBeAdded","canBeTracked","quartile","quartileTime","ONCE","currentProgress","newProgress","abs","trackQuartile","quartileName","pendingProgressEvts","evt","trackComplete","trackErrorWithCode","errorcode","ERRORCODE","trackImpressions","trackCreativeView","trackClick","videoClickJTree","parseClickTrackings","clickTrackingData","clickTracking","customClick","wrapperJTree","VASTAdTagURI","vASTAdTagURI","followAdditionalWrappers","allowMultipleAds","fallbackOnNoAd","urlParts","href","msie","urlParsingNode","protocol","host","hash","hostname","port","pathname","queryStringToObj","qs","cond","pairs","qsObj","pair","objToQueryString","documentMode","J","Z","j","C","aa","X","U","Y","K","O","D","onload","h","T","V","H","r","q","GetVariable","ab","M","pv","callee","ag","af","callbackFn","success","ae","F","swfVersion","wk","expressInstall","A","ai","styleclass","ah","ac","P","w","ref","z","SetVariable","win","mac","E","B","g","Q","R","ie","location","flashvars","u","replaceChild","cloneNode","outerHTML","N","y","b","getElementById","I","G","styleSheets","addRule","createTextNode","L","encodeURIComponent","S","x","platform","plugins","mimeTypes","enabledPlugin","w3","doScroll","registerObject","getObjectById","embedSWF","aj","al","am","ak","an","switchOffAutoHideShow","getFlashPlayerVersion","major","minor","release","showExpressInstall","removeSWF","createCSS","addDomLoadEvent","addLoadEvent","getQueryParamValue","substring","expressInstallCallback","VASTClient","VASTIntegrator","VPAIDIntegrator","logger","options","tryToPlayPrerollAd","removeAdUnit","restoreVideoContent","setupContentEvents","checkAdsEnabled","settings","adsEnabled","preparePlayerForAd","canPlayPrerollAd","addSpinnerIcon","iosPrerollCancelTimeout","startAdCancelTimeout","clearAdCancelTimeout","adCancelTimeoutId","adsCanceled","trackAdError","adCancelTimeout","removeSpinnerIcon","playPrerollAd","cancelAds","getVastResponse","playAd","getAdTag","adTag","getVASTResponse","adTagXML","addAdsLabel","adFinished","controlBar","getChild","removeAdsLabel","adIntegrator","preventAdSkip","previousTime","PROGRESS_THRESHOLD","preventAdSeek","skipad_attempts","stopPreventManualProgress","defaultOpts","playAdAlways","autoResize","verbosity","isEnabled","enable","disable","locals","IVPAIDAdUnit","viewMode","desiredBitrate","soundVolume","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","setPrototypeOf","__proto__","ALL_VPAID_METHODS","getOwnPropertyNames","_IVPAIDAdUnit","getPrototypeOf","removeCallbackByMethodName","EVENTS","offEvent","playerVPAIDVersion","creativeData","AdParameters","environmentVars","flashVars","getWidth","getHeight","FLASH_TEST","FLASH_TEST_EL","utils","FlashTester","parentEl","_isSupported","instances","JSFlashBridgeRegistry","video","addStaticToInterface","Interface","METHODS","GETTERS","SETTERS","handshakeVersion","VPAIDVersion","initAd","startAd","stopAd","skipAd","resizeAd","expandAd","collapseAd","subscribe","unsubscribe","getAdLinear","getAdWidth","getAdHeight","getAdExpanded","getAdSkippableState","getAdRemainingTime","getAdDuration","getAdVolume","getAdCompanions","getAdIcons","setAdVolume","VPAID1_METHODS","every","VPAIDCreative","_isValid","checkVPAIDInterface","_creative","_videoEl","_iframe","_subscribers","Subscriber","$addEventsSubscribers","FILTERED_EVENTS","$trigger","bind","$clickThruHook","AD_CLICK","contentDocument","videoEl","playerHandles","triggerSync","callOrTriggerEvent","subscribers","ERROR","isValidVPAIDAd","ariaty","slot","videoSlot","unsubscribeAll","VPAIDHTML5Client","templateConfig","_id","_frameContainer","_vpaidOptions","_templateConfig","defaultTemplate","extraOptions","$removeEl","$adDestroyed","$removeAdElements","$unloadPreviousAdUnit","$destroyAdUnit","$destroyLoadListener","_onLoad","getOrigin","origin","isDestroyed","onLoad","parse","getID","createAd","_frame","getVPAIDAd","adEl","frame","iframeURL_JS","iframeID","unloadAdUnit","isHandlerAttached","subscriber","some","companionJTree","creativeType","staticResource","htmlResource","HTMLResource","hTMLResource","iframeResource","IFrameResource","iFrameresource","expandedWidth","expandedHeight","scalable","maintainAspectRatio","minSuggestedDuration","companionClickThrough","mediaFileJTree","attributesList","attribute","urlUtils","pageProtocol","defaultOptions","WRAPPER_LIMIT","http","buildVASTResponse","adsChain","cb","_buildVASTResponse","_getVASTAd","buildVastWaterfall","xmlStr","vastTree","validateVASTTree","vastVersion","getAd","adChain","requestVASTAd","buildAd","adJxonTree","validateAd","errMsgPrefix","_requestVASTXml","requestVastXML","waterfallHandler","_trackError","waterfallAds","shift","requestHandler","status","errMsg","withCredentials","progressEvents","progressEvent","addErrorUrlMacros","_selectAdSource","_createVASTTracker","_addSkipButton","_setupEvents","_playSelectedAd","_src","getSrc","source","playerWidth","sort","selectSource","adMediaFile","tracker","unbindEvents","trackFullscreenChange","trackPause","trackVolumeChange","isFullscreen","trackFullscreen","trackExitFullscreen","trackResume","currentTimeInMs","trackMute","previouslyMuted","trackUnmute","createSkipButton","skipButton","onclick","trackSkip","Event","stopPropagation","updateSkipButtonState","skipOffset","timeLeft","ceil","skipOffsetInSec","removeSkipButton","updateSkipButton","updateBlockerURL","blocker","generateClickThroughURL","clickThroughMacro","removeBlocker","updateBlocker","proceed","preload","VPAIDAdUnitWrapper","vpaidAdUnit","opts","responseTimeout","VPAIDInterfaceMethods","adUnitAsyncCall","_len","_key","evtName","waitForEvent","responseListener","adUnitData","getterName","containerEl","vpaidFlashClient","MimeTypes","objectEl","flashClientOpts","container","INVALID_MEDIA_FILE","vpaidHTMLClient","INVALID_DOM_CONTAINER_EL","MISSING_CALLBACK","PREFIX","INVALID_DOM_VIDEO_EL","VIEW_MODE","NORMAL","FULLSCREEN","THUMBNAIL","VPAID_VERSION","dimension","MODE","logError","adComplete","triggerVpaidAdEnd","_findSupportedTech","_loadAdUnit","_playAdUnit","_finishPlaying","_paused","vpaidMediaFiles","preferredTech","skippedSupportTechs","firstTech","_createVPAIDAdUnitWrapper","vjsTechEl","WrappedAdUnit","techClass","_handshake","_initAd","_linkPlayerControls","_startAd","isSupportedVersion","majorNum","parts","adUnitSrc","notifyPlayToPlayer","notifyPauseToPlayer","pauseAdUnit","resumeAdUnit","trackStart","trackFirstQuartile","trackMidpoint","trackThirdQuartile","clickThruUrl","open","trackAcceptInvitation","trackAcceptInvitationLinear","trackClose","trackCloseLinear","trackCollapse","lastVolume","currentVolume","updateViewSize","updateViewSizeThrottled","isSkippable","addSkipButton","updateAdUnitVolume","vol","updatePlayerVolume","finishPlayingAd","errorCode","className","AdsLabelFactory","baseComponent","init","currentTimeComp","BlackPosterFactory","posterImg","HttpRequestError","HttpRequest","createXhr","xhr","XMLHttpRequest","XDomainRequest","run","requestError","headers","setRequestHeader","statusText","getAllResponseHeaders","responseText","onerror","onabort","send","abort","processResponse","headersString","isSuccess","list","mediaQuery","alreadyImportedModules","addStylesToDom","styles","domStyle","stylesInDom","refs","addStyle","listToStyles","newStyles","css","media","sourceMap","part","insertStyleElement","styleElement","head","getHeadElement","lastStyleElementInsertedAtTop","styleElementsInsertedAtTop","insertAt","nextSibling","removeStyleElement","idx","createStyleElement","createLinkElement","linkElement","rel","update","singleton","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","btoa","updateLink","applyToTag","newObj","styleSheet","cssText","replaceText","cssNode","unescape","blob","oldSrc","memoize","memo","DEBUG","newList","mayRemove","textStore","replacement","baseVideoJsComponent","getComponent","AdsLabel","registerComponent","BlackPoster","videoJsVAST","plugin"],"mappings":"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","file":"videojs_5.vast.vpaid.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 56);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/* eslint no-useless-escape: 0 */\nvar NODE_TYPE_ELEMENT = 1;\nvar SNAKE_CASE_REGEXP = /[A-Z]/g;\nvar EMAIL_REGEXP = /^[a-z0-9!#$%&'*+\\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)+$/i;\nvar ISO8086_REGEXP = /^([\\+-]?\\d{4}(?!\\d{2}\\b))((-?)((0[1-9]|1[0-2])(\\3([12]\\d|0[1-9]|3[01]))?|W([0-4]\\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\\d|[12]\\d{2}|3([0-5]\\d|6[1-6])))([T\\s]((([01]\\d|2[0-3])((:?)[0-5]\\d)?|24:?00)([\\.,]\\d+(?!:))?)?(\\17[0-5]\\d([\\.,]\\d+)?)?([zZ]|([\\+-])([01]\\d|2[0-3]):?([0-5]\\d)?)?)?)?$/;\n\nfunction noop() {}\n\nfunction isNull(o) {\n  return o === null;\n}\n\nfunction isDefined(o) {\n  return o !== undefined;\n}\n\nfunction isUndefined(o) {\n  return o === undefined;\n}\n\nfunction isObject(obj) {\n  return (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object';\n}\n\nfunction isFunction(str) {\n  return typeof str === 'function';\n}\n\nfunction isNumber(num) {\n  return typeof num === 'number';\n}\n\nfunction isWindow(obj) {\n  return utilities.isObject(obj) && obj.window === obj;\n}\n\nfunction isArray(array) {\n  return Object.prototype.toString.call(array) === '[object Array]';\n}\n\nfunction isArrayLike(obj) {\n  if (obj === null || utilities.isWindow(obj) || utilities.isFunction(obj) || utilities.isUndefined(obj)) {\n    return false;\n  }\n\n  var length = obj.length;\n\n  if (obj.nodeType === NODE_TYPE_ELEMENT && length) {\n    return true;\n  }\n\n  return utilities.isString(obj) || utilities.isArray(obj) || length === 0 || typeof length === 'number' && length > 0 && length - 1 in obj;\n}\n\nfunction isString(str) {\n  return typeof str === 'string';\n}\n\nfunction isEmptyString(str) {\n  return utilities.isString(str) && str.length === 0;\n}\n\nfunction isNotEmptyString(str) {\n  return utilities.isString(str) && str.length !== 0;\n}\n\nfunction arrayLikeObjToArray(args) {\n  return Array.prototype.slice.call(args);\n}\n\nfunction forEach(obj, iterator, context) {\n  var key = void 0,\n      length = void 0;\n\n  if (obj) {\n    if (isFunction(obj)) {\n      for (key in obj) {\n        // Need to check if hasOwnProperty exists,\n        // as on IE8 the result of querySelectorAll is an object without a hasOwnProperty function\n        if (key !== 'prototype' && key !== 'length' && key !== 'name' && (!obj.hasOwnProperty || obj.hasOwnProperty(key))) {\n          iterator.call(context, obj[key], key, obj);\n        }\n      }\n    } else if (isArray(obj)) {\n      var isPrimitive = (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) !== 'object';\n\n      for (key = 0, length = obj.length; key < length; key++) {\n        if (isPrimitive || key in obj) {\n          iterator.call(context, obj[key], key, obj);\n        }\n      }\n    } else if (obj.forEach && obj.forEach !== forEach) {\n      obj.forEach(iterator, context, obj);\n    } else {\n      for (key in obj) {\n        if (obj.hasOwnProperty(key)) {\n          iterator.call(context, obj[key], key, obj);\n        }\n      }\n    }\n  }\n\n  return obj;\n}\n\nfunction snake_case(name, separator) {\n  separator = separator || '_';\n\n  return name.replace(SNAKE_CASE_REGEXP, function (letter, pos) {\n    return (pos ? separator : '') + letter.toLowerCase();\n  });\n}\n\nfunction isValidEmail(email) {\n  if (!utilities.isString(email)) {\n    return false;\n  }\n\n  return EMAIL_REGEXP.test(email.trim());\n}\n\nfunction extend(obj) {\n  var arg = void 0,\n      i = void 0,\n      k = void 0;\n\n  for (i = 1; i < arguments.length; i++) {\n    arg = arguments[i];\n    for (k in arg) {\n      if (arg.hasOwnProperty(k)) {\n        if (isObject(obj[k]) && !isNull(obj[k]) && isObject(arg[k])) {\n          obj[k] = extend({}, obj[k], arg[k]);\n        } else {\n          obj[k] = arg[k];\n        }\n      }\n    }\n  }\n\n  return obj;\n}\n\nfunction capitalize(s) {\n  return s.charAt(0).toUpperCase() + s.slice(1);\n}\n\nfunction decapitalize(s) {\n  return s.charAt(0).toLowerCase() + s.slice(1);\n}\n\n/**\n * This method works the same way array.prototype.map works but if the transformer returns undefine, then\n * it won't be added to the transformed Array.\n */\nfunction transformArray(array, transformer) {\n  var transformedArray = [];\n\n  array.forEach(function (item, index) {\n    var transformedItem = transformer(item, index);\n\n    if (utilities.isDefined(transformedItem)) {\n      transformedArray.push(transformedItem);\n    }\n  });\n\n  return transformedArray;\n}\n\nfunction toFixedDigits(num, digits) {\n  var formattedNum = String(num);\n\n  digits = utilities.isNumber(digits) ? digits : 0;\n  num = utilities.isNumber(num) ? num : parseInt(num, 10);\n  if (utilities.isNumber(num) && !isNaN(num)) {\n    formattedNum = String(num);\n    while (formattedNum.length < digits) {\n      formattedNum = '0' + formattedNum;\n    }\n\n    return formattedNum;\n  }\n\n  return String(NaN);\n}\n\nfunction throttle(callback, delay) {\n  var previousCall = new Date().getTime() - (delay + 1);\n\n  return function () {\n    var time = new Date().getTime();\n\n    if (time - previousCall >= delay) {\n      previousCall = time;\n      callback.apply(this, arguments);\n    }\n  };\n}\n\nfunction debounce(callback, wait) {\n  var timeoutId = void 0;\n\n  return function () {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n    }\n    timeoutId = setTimeout(function () {\n      callback.apply(this, arguments);\n      timeoutId = undefined;\n    }, wait);\n  };\n}\n\n// a function designed to blow up the stack in a naive way\n// but it is ok for videoJs children components\nfunction treeSearch(root, getChildren, found) {\n  var children = getChildren(root);\n\n  for (var i = 0; i < children.length; i++) {\n    if (found(children[i])) {\n      return children[i];\n    } else {\n      var el = treeSearch(children[i], getChildren, found);\n\n      if (el) {\n        return el;\n      }\n    }\n  }\n}\n\nfunction echoFn(val) {\n  return function () {\n    return val;\n  };\n}\n\n// Note: Supported formats come from http://www.w3.org/TR/NOTE-datetime\n// and the iso8601 regex comes from http://www.pelagodesign.com/blog/2009/05/20/iso-8601-date-validation-that-doesnt-suck/\nfunction isISO8601(value) {\n  if (utilities.isNumber(value)) {\n    value = String(value); // we make sure that we are working with strings\n  }\n\n  if (!utilities.isString(value)) {\n    return false;\n  }\n\n  return ISO8086_REGEXP.test(value.trim());\n}\n\n/**\n * Checks if the Browser is IE9 and below\n * @returns {boolean}\n */\nfunction isOldIE() {\n  var version = utilities.getInternetExplorerVersion(navigator);\n\n  if (version === -1) {\n    return false;\n  }\n\n  return version < 10;\n}\n\n/**\n * Returns the version of Internet Explorer or a -1 (indicating the use of another browser).\n * Source: https://msdn.microsoft.com/en-us/library/ms537509(v=vs.85).aspx\n * @returns {number} the version of Internet Explorer or a -1 (indicating the use of another browser).\n */\nfunction getInternetExplorerVersion(navigator) {\n  var rv = -1;\n\n  if (navigator.appName === 'Microsoft Internet Explorer') {\n    var ua = navigator.userAgent;\n    var re = new RegExp('MSIE ([0-9]{1,}[.0-9]{0,})');\n    var res = re.exec(ua);\n\n    if (res !== null) {\n      rv = parseFloat(res[1]);\n    }\n  }\n\n  return rv;\n}\n\n/** * Mobile Utility functions ***/\nfunction isIDevice() {\n  return (/iP(hone|ad)/.test(utilities.UA)\n  );\n}\n\nfunction isMobile() {\n  return (/iP(hone|ad|od)|Android|Windows Phone/.test(utilities.UA)\n  );\n}\n\nfunction isIPhone() {\n  return (/iP(hone|od)/.test(utilities.UA)\n  );\n}\n\nfunction isAndroid() {\n  return (/Android/.test(utilities.UA)\n  );\n}\n\nvar utilities = {\n  UA: navigator.userAgent,\n  noop: noop,\n  isNull: isNull,\n  isDefined: isDefined,\n  isUndefined: isUndefined,\n  isObject: isObject,\n  isFunction: isFunction,\n  isNumber: isNumber,\n  isWindow: isWindow,\n  isArray: isArray,\n  isArrayLike: isArrayLike,\n  isString: isString,\n  isEmptyString: isEmptyString,\n  isNotEmptyString: isNotEmptyString,\n  arrayLikeObjToArray: arrayLikeObjToArray,\n  forEach: forEach,\n  snake_case: snake_case,\n  isValidEmail: isValidEmail,\n  extend: extend,\n  capitalize: capitalize,\n  decapitalize: decapitalize,\n  transformArray: transformArray,\n  toFixedDigits: toFixedDigits,\n  throttle: throttle,\n  debounce: debounce,\n  treeSearch: treeSearch,\n  echoFn: echoFn,\n  isISO8601: isISO8601,\n  isOldIE: isOldIE,\n  getInternetExplorerVersion: getInternetExplorerVersion,\n  isIDevice: isIDevice,\n  isMobile: isMobile,\n  isIPhone: isIPhone,\n  isAndroid: isAndroid\n};\n\nmodule.exports = utilities;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.unique = unique;\nexports.noop = noop;\nexports.callbackTimeout = callbackTimeout;\nexports.createElementWithID = createElementWithID;\nexports.isPositiveInt = isPositiveInt;\nexports.stringEndsWith = stringEndsWith;\nexports.hideFlashEl = hideFlashEl;\nfunction unique(prefix) {\n    var count = -1;\n    return function (f) {\n        return prefix + '_' + ++count;\n    };\n}\n\nfunction noop() {}\n\nfunction callbackTimeout(timer, onSuccess, onTimeout) {\n\n    var timeout = setTimeout(function () {\n\n        onSuccess = noop;\n        onTimeout();\n    }, timer);\n\n    return function () {\n        clearTimeout(timeout);\n        onSuccess.apply(this, arguments);\n    };\n}\n\nfunction createElementWithID(parent, id) {\n    var cleanContent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    var nEl = document.createElement('div');\n    nEl.id = id;\n    if (cleanContent) {\n        parent.innerHTML = '';\n    }\n    parent.appendChild(nEl);\n    return nEl;\n}\n\nfunction isPositiveInt(newVal, oldVal) {\n    return !isNaN(parseFloat(newVal)) && isFinite(newVal) && newVal > 0 ? newVal : oldVal;\n}\n\nvar endsWith = function () {\n    if (String.prototype.endsWith) return String.prototype.endsWith;\n    return function endsWith(searchString, position) {\n        var subjectString = this.toString();\n        if (position === undefined || position > subjectString.length) {\n            position = subjectString.length;\n        }\n        position -= searchString.length;\n        var lastIndex = subjectString.indexOf(searchString, position);\n        return lastIndex !== -1 && lastIndex === position;\n    };\n}();\n\nfunction stringEndsWith(string, search) {\n    return endsWith.call(string, search);\n}\n\nfunction hideFlashEl(el) {\n    // can't use display none or visibility none because will block flash in some browsers\n    el.style.position = 'absolute';\n    el.style.left = '-1px';\n    el.style.top = '-1px';\n    el.style.width = '1px';\n    el.style.height = '1px';\n}\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utilities = __webpack_require__(0);\n\nvar xml = {};\n\nxml.strToXMLDoc = function strToXMLDoc(stringContainingXMLSource) {\n  // IE 8\n  if (typeof window.DOMParser === 'undefined') {\n    var xmlDocument = new ActiveXObject('Microsoft.XMLDOM');\n\n    xmlDocument.async = false;\n    xmlDocument.loadXML(stringContainingXMLSource);\n\n    return xmlDocument;\n  }\n\n  return parseString(stringContainingXMLSource);\n\n  function parseString(stringContainingXMLSource) {\n    var parser = new DOMParser();\n    var parsedDocument = void 0;\n\n    // Note: This try catch is to deal with the fact that on IE parser.parseFromString does throw an error but the rest of the browsers don't.\n    try {\n      parsedDocument = parser.parseFromString(stringContainingXMLSource, 'application/xml');\n\n      if (isParseError(parsedDocument) || utilities.isEmptyString(stringContainingXMLSource)) {\n        throw new Error();\n      }\n    } catch (e) {\n      throw new Error('xml.strToXMLDOC: Error parsing the string: \\'' + stringContainingXMLSource + '\\'');\n    }\n\n    return parsedDocument;\n  }\n\n  function isParseError(parsedDocument) {\n    try {\n      // parser and parsererrorNS could be cached on startup for efficiency\n      var parser = new DOMParser(),\n          erroneousParse = parser.parseFromString('INVALID', 'text/xml'),\n          parsererrorNS = erroneousParse.getElementsByTagName('parsererror')[0].namespaceURI;\n\n      if (parsererrorNS === 'http://www.w3.org/1999/xhtml') {\n        // In PhantomJS the parseerror element doesn't seem to have a special namespace, so we are just guessing here :(\n        return parsedDocument.getElementsByTagName('parsererror').length > 0;\n      }\n\n      return parsedDocument.getElementsByTagNameNS(parsererrorNS, 'parsererror').length > 0;\n    } catch (e) {\n      // Note on IE parseString throws an error by itself and it will never reach this code. Because it will have failed before\n    }\n  }\n};\n\nxml.parseText = function parseText(sValue) {\n  if (/^\\s*$/.test(sValue)) {\n    return null;\n  }\n  if (/^(?:true|false)$/i.test(sValue)) {\n    return sValue.toLowerCase() === 'true';\n  }\n  if (isFinite(sValue)) {\n    return parseFloat(sValue);\n  }\n  if (utilities.isISO8601(sValue)) {\n    return new Date(sValue);\n  }\n\n  return sValue.trim();\n};\n\nxml.JXONTree = function JXONTree(oXMLParent) {\n  var parseText = xml.parseText;\n\n  // The document object is an especial object that it may miss some functions or attrs depending on the browser.\n  // To prevent this problem with create the JXONTree using the root childNode which is a fully fleshed node on all supported\n  // browsers.\n  if (oXMLParent.documentElement) {\n    return new xml.JXONTree(oXMLParent.documentElement);\n  }\n\n  if (oXMLParent.hasChildNodes()) {\n    var sCollectedTxt = '';\n\n    for (var oNode, sProp, vContent, nItem = 0; nItem < oXMLParent.childNodes.length; nItem++) {\n      oNode = oXMLParent.childNodes.item(nItem);\n\n      /* jshint bitwise: false*/\n      if ((oNode.nodeType - 1 | 1) === 3) {\n        sCollectedTxt += oNode.nodeType === 3 ? oNode.nodeValue.trim() : oNode.nodeValue;\n      } else if (oNode.nodeType === 1 && !oNode.prefix) {\n        sProp = utilities.decapitalize(oNode.nodeName);\n        vContent = new xml.JXONTree(oNode);\n        if (this.hasOwnProperty(sProp)) {\n          if (this[sProp].constructor !== Array) {\n            this[sProp] = [this[sProp]];\n          }\n          this[sProp].push(vContent);\n        } else {\n          this[sProp] = vContent;\n        }\n      }\n    }\n    if (sCollectedTxt) {\n      this.keyValue = parseText(sCollectedTxt);\n    }\n  }\n\n  // IE8 Stupid fix\n  var hasAttr = typeof oXMLParent.hasAttributes === 'undefined' ? oXMLParent.attributes.length > 0 : oXMLParent.hasAttributes();\n\n  if (hasAttr) {\n    var oAttrib = void 0;\n\n    for (var nAttrib = 0; nAttrib < oXMLParent.attributes.length; nAttrib++) {\n      oAttrib = oXMLParent.attributes.item(nAttrib);\n      this['@' + utilities.decapitalize(oAttrib.name)] = parseText(oAttrib.value.trim());\n    }\n  }\n};\n\nxml.JXONTree.prototype.attr = function (attr) {\n  return this['@' + utilities.decapitalize(attr)];\n};\n\nxml.toJXONTree = function toJXONTree(xmlString) {\n  var xmlDoc = xml.strToXMLDoc(xmlString);\n\n  return new xml.JXONTree(xmlDoc);\n};\n\n/**\n * Helper function to extract the keyvalue of a JXONTree obj\n *\n * @param xmlObj {JXONTree}\n * return the key value or undefined;\n */\nxml.keyValue = function getKeyValue(xmlObj) {\n  if (xmlObj) {\n    return xmlObj.keyValue;\n  }\n\n  return undefined;\n};\n\nxml.attr = function getAttrValue(xmlObj, attr) {\n  if (xmlObj) {\n    return xmlObj['@' + utilities.decapitalize(attr)];\n  }\n\n  return undefined;\n};\n\nxml.encode = function encodeXML(str) {\n  if (!utilities.isString(str)) {\n    return undefined;\n  }\n\n  return str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/'/g, '&apos;');\n};\n\nxml.decode = function decodeXML(str) {\n  if (!utilities.isString(str)) {\n    return undefined;\n  }\n\n  return str.replace(/&apos;/g, '\\'').replace(/&quot;/g, '\"').replace(/&gt;/g, '>').replace(/&lt;/g, '<').replace(/&amp;/g, '&');\n};\n\nmodule.exports = xml;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction VASTError(message, code) {\n  this.message = 'VAST Error: ' + (message || '');\n  if (code) {\n    this.code = code;\n  }\n}\n\nVASTError.prototype = new Error();\nVASTError.prototype.name = 'VAST Error';\n\nmodule.exports = VASTError;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar VPAIDFLASHClient = __webpack_require__(12);\nvar utilities = __webpack_require__(0);\nvar VPAIDHTML5Tech = __webpack_require__(42);\nvar VPAIDFlashTech = __webpack_require__(41);\n\nvar vastUtil = {\n\n  track: function track(URLMacros, variables) {\n    var sources = vastUtil.parseURLMacros(URLMacros, variables);\n    var trackImgs = [];\n\n    sources.forEach(function (src) {\n      var img = new Image();\n\n      img.src = src;\n      trackImgs.push(img);\n    });\n\n    return trackImgs;\n  },\n\n  parseURLMacros: function parseMacros(URLMacros, variables) {\n    var parsedURLs = [];\n\n    variables = variables || {};\n\n    if (!variables.CACHEBUSTING) {\n      variables.CACHEBUSTING = Math.round(Math.random() * 1.0e+10);\n    }\n\n    URLMacros.forEach(function (URLMacro) {\n      parsedURLs.push(vastUtil._parseURLMacro(URLMacro, variables));\n    });\n\n    return parsedURLs;\n  },\n\n  parseURLMacro: function parseMacro(URLMacro, variables) {\n    variables = variables || {};\n\n    if (!variables.CACHEBUSTING) {\n      variables.CACHEBUSTING = Math.round(Math.random() * 1.0e+10);\n    }\n\n    return vastUtil._parseURLMacro(URLMacro, variables);\n  },\n\n  _parseURLMacro: function parseMacro(URLMacro, variables) {\n    variables = variables || {};\n\n    utilities.forEach(variables, function (value, key) {\n      //eslint-disable-next-line\n      URLMacro = URLMacro.replace(new RegExp('\\\\[' + key + '\\\\\\]', 'gm'), value);\n    });\n\n    return URLMacro;\n  },\n\n  parseDuration: function parseDuration(durationStr) {\n    var durationRegex = /(\\d\\d):(\\d\\d):(\\d\\d)(\\.(\\d\\d\\d))?/;\n    var match = void 0,\n        durationInMs = void 0;\n\n    if (utilities.isString(durationStr)) {\n      match = durationStr.match(durationRegex);\n      if (match) {\n        durationInMs = parseHoursToMs(match[1]) + parseMinToMs(match[2]) + parseSecToMs(match[3]) + parseInt(match[5] || 0, 10);\n      }\n    }\n\n    return isNaN(durationInMs) ? null : durationInMs;\n\n    /** * local functions ***/\n    function parseHoursToMs(hourStr) {\n      return parseInt(hourStr, 10) * 60 * 60 * 1000;\n    }\n\n    function parseMinToMs(minStr) {\n      return parseInt(minStr, 10) * 60 * 1000;\n    }\n\n    function parseSecToMs(secStr) {\n      return parseInt(secStr, 10) * 1000;\n    }\n  },\n\n  parseImpressions: function parseImpressions(impressions) {\n    if (impressions) {\n      impressions = utilities.isArray(impressions) ? impressions : [impressions];\n\n      return utilities.transformArray(impressions, function (impression) {\n        if (utilities.isNotEmptyString(impression.keyValue)) {\n          return impression.keyValue;\n        }\n\n        return undefined;\n      });\n    }\n\n    return [];\n  },\n\n  // We assume that the progress is going to arrive in milliseconds\n  formatProgress: function formatProgress(progress) {\n    var hours = void 0,\n        minutes = void 0,\n        seconds = void 0,\n        milliseconds = void 0;\n\n    hours = progress / (60 * 60 * 1000);\n    hours = Math.floor(hours);\n    minutes = progress / (60 * 1000) % 60;\n    minutes = Math.floor(minutes);\n    seconds = progress / 1000 % 60;\n    seconds = Math.floor(seconds);\n    milliseconds = progress % 1000;\n\n    return utilities.toFixedDigits(hours, 2) + ':' + utilities.toFixedDigits(minutes, 2) + ':' + utilities.toFixedDigits(seconds, 2) + '.' + utilities.toFixedDigits(milliseconds, 3);\n  },\n\n  parseOffset: function parseOffset(offset, duration) {\n    if (isPercentage(offset)) {\n      return calculatePercentage(offset, duration);\n    }\n\n    return vastUtil.parseDuration(offset);\n\n    /** * Local function ***/\n    function isPercentage(offset) {\n      var percentageRegex = /^\\d+(\\.\\d+)?%$/g;\n\n      return percentageRegex.test(offset);\n    }\n\n    function calculatePercentage(percentStr, duration) {\n      if (duration) {\n        return calcPercent(duration, parseFloat(percentStr.replace('%', '')));\n      }\n\n      return null;\n    }\n\n    function calcPercent(quantity, percent) {\n      return quantity * percent / 100;\n    }\n  },\n\n  // List of supported VPAID technologies\n  VPAID_techs: [VPAIDFlashTech, VPAIDHTML5Tech],\n\n  isVPAID: function isVPAIDMediaFile(mediaFile) {\n    return Boolean(mediaFile) && mediaFile.apiFramework === 'VPAID';\n  },\n\n  findSupportedVPAIDTech: function findSupportedVPAIDTech(mimeType) {\n    var i = void 0,\n        len = void 0,\n        VPAIDTech = void 0;\n\n    for (i = 0, len = this.VPAID_techs.length; i < len; i += 1) {\n      VPAIDTech = this.VPAID_techs[i];\n      if (VPAIDTech.supports(mimeType)) {\n        return VPAIDTech;\n      }\n    }\n\n    return null;\n  },\n\n  isFlashSupported: function isFlashSupported() {\n    return VPAIDFLASHClient.isSupported();\n  },\n\n  /**\n   * Necessary step for VPAIDFLAShClient to know if flash is supported and not blocked.\n   * IMPORTANT NOTE: This is an async test and needs to be run as soon as possible.\n   *\n   * @param vpaidFlashLoaderPath the path to the vpaidFlashLoader swf obj.\n   */\n  runFlashSupportCheck: function runFlashSupportCheck(vpaidFlashLoaderPath) {\n    VPAIDFLASHClient.runFlashTest({ data: vpaidFlashLoaderPath });\n  }\n\n};\n\nmodule.exports = vastUtil;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/* jshint unused:false */\n\nvar _verbosity = 0;\nvar _prefix = '[videojs-vast-vpaid] ';\n\nfunction setVerbosity(v) {\n  _verbosity = v;\n}\n\nfunction handleMsg(method, args) {\n  if (args.length > 0 && typeof args[0] === 'string') {\n    args[0] = _prefix + args[0];\n  }\n\n  if (method.apply) {\n    method.apply(console, Array.prototype.slice.call(args));\n  } else {\n    method(Array.prototype.slice.call(args));\n  }\n}\n\nfunction debug() {\n  if (_verbosity < 4) {\n    return;\n  }\n\n  if (typeof console.debug === 'undefined') {\n    // IE 10 doesn't have a console.debug() function\n    handleMsg(console.log, arguments);\n  } else {\n    handleMsg(console.debug, arguments);\n  }\n}\n\nfunction log() {\n  if (_verbosity < 3) {\n    return;\n  }\n\n  handleMsg(console.log, arguments);\n}\n\nfunction info() {\n  if (_verbosity < 2) {\n    return;\n  }\n\n  handleMsg(console.info, arguments);\n}\n\nfunction warn() {\n  if (_verbosity < 1) {\n    return;\n  }\n\n  handleMsg(console.warn, arguments);\n}\n\nfunction error() {\n  handleMsg(console.error, arguments);\n}\n\nvar consoleLogger = {\n  setVerbosity: setVerbosity,\n  debug: debug,\n  log: log,\n  info: info,\n  warn: warn,\n  error: error\n};\n\nif (typeof console === 'undefined' || !console.log) {\n  // no console available; make functions no-op\n  consoleLogger.debug = function () {};\n  consoleLogger.log = function () {};\n  consoleLogger.info = function () {};\n  consoleLogger.warn = function () {};\n  consoleLogger.error = function () {};\n}\n\nmodule.exports = consoleLogger;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utilities = __webpack_require__(0);\n\nvar dom = {};\n\ndom.isVisible = function isVisible(el) {\n  var style = window.getComputedStyle(el);\n\n  return style.visibility !== 'hidden';\n};\n\ndom.isHidden = function isHidden(el) {\n  var style = window.getComputedStyle(el);\n\n  return style.display === 'none';\n};\n\ndom.isShown = function isShown(el) {\n  return !dom.isHidden(el);\n};\n\ndom.hide = function hide(el) {\n  el.__prev_style_display_ = el.style.display;\n  el.style.display = 'none';\n};\n\ndom.show = function show(el) {\n  if (dom.isHidden(el)) {\n    el.style.display = el.__prev_style_display_;\n  }\n  el.__prev_style_display_ = undefined;\n};\n\ndom.hasClass = function hasClass(el, cssClass) {\n  var classes = void 0,\n      i = void 0,\n      len = void 0;\n\n  if (utilities.isNotEmptyString(cssClass)) {\n    if (el.classList) {\n      return el.classList.contains(cssClass);\n    }\n\n    classes = utilities.isString(el.getAttribute('class')) ? el.getAttribute('class').split(/\\s+/) : [];\n    cssClass = cssClass || '';\n\n    for (i = 0, len = classes.length; i < len; i += 1) {\n      if (classes[i] === cssClass) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n};\n\ndom.addClass = function (el, cssClass) {\n  var classes = void 0;\n\n  if (utilities.isNotEmptyString(cssClass)) {\n    if (el.classList) {\n      return el.classList.add(cssClass);\n    }\n\n    classes = utilities.isString(el.getAttribute('class')) ? el.getAttribute('class').split(/\\s+/) : [];\n    if (utilities.isString(cssClass) && utilities.isNotEmptyString(cssClass.replace(/\\s+/, ''))) {\n      classes.push(cssClass);\n      el.setAttribute('class', classes.join(' '));\n    }\n  }\n};\n\ndom.removeClass = function (el, cssClass) {\n  var classes = void 0;\n\n  if (utilities.isNotEmptyString(cssClass)) {\n    if (el.classList) {\n      return el.classList.remove(cssClass);\n    }\n\n    classes = utilities.isString(el.getAttribute('class')) ? el.getAttribute('class').split(/\\s+/) : [];\n    var newClasses = [];\n    var i = void 0,\n        len = void 0;\n\n    if (utilities.isString(cssClass) && utilities.isNotEmptyString(cssClass.replace(/\\s+/, ''))) {\n      for (i = 0, len = classes.length; i < len; i += 1) {\n        if (cssClass !== classes[i]) {\n          newClasses.push(classes[i]);\n        }\n      }\n      el.setAttribute('class', newClasses.join(' '));\n    }\n  }\n};\n\ndom.addEventListener = function addEventListener(el, type, handler) {\n  if (utilities.isArray(el)) {\n    utilities.forEach(el, function (e) {\n      dom.addEventListener(e, type, handler);\n    });\n\n    return;\n  }\n\n  if (utilities.isArray(type)) {\n    utilities.forEach(type, function (t) {\n      dom.addEventListener(el, t, handler);\n    });\n\n    return;\n  }\n\n  if (el.addEventListener) {\n    el.addEventListener(type, handler, false);\n  } else if (el.attachEvent) {\n    // WARNING!!! this is a very naive implementation !\n    // the event object that should be passed to the handler\n    // would not be there for IE8\n    // we should use \"window.event\" and then \"event.srcElement\"\n    // instead of \"event.target\"\n    el.attachEvent('on' + type, handler);\n  }\n};\n\ndom.removeEventListener = function removeEventListener(el, type, handler) {\n  if (utilities.isArray(el)) {\n    utilities.forEach(el, function (e) {\n      dom.removeEventListener(e, type, handler);\n    });\n\n    return;\n  }\n\n  if (utilities.isArray(type)) {\n    utilities.forEach(type, function (t) {\n      dom.removeEventListener(el, t, handler);\n    });\n\n    return;\n  }\n\n  if (el.removeEventListener) {\n    el.removeEventListener(type, handler, false);\n  } else if (el.detachEvent) {\n    el.detachEvent('on' + type, handler);\n  } else {\n    el['on' + type] = null;\n  }\n};\n\ndom.dispatchEvent = function dispatchEvent(el, event) {\n  if (el.dispatchEvent) {\n    el.dispatchEvent(event);\n  } else {\n    el.fireEvent('on' + event.eventType, event);\n  }\n};\n\ndom.isDescendant = function isDescendant(parent, child) {\n  var node = child.parentNode;\n\n  while (node !== null) {\n    if (node === parent) {\n      return true;\n    }\n    node = node.parentNode;\n  }\n\n  return false;\n};\n\ndom.getTextContent = function getTextContent(el) {\n  return el.textContent || el.text;\n};\n\ndom.prependChild = function prependChild(parent, child) {\n  if (child.parentNode) {\n    child.parentNode.removeChild(child);\n  }\n\n  return parent.insertBefore(child, parent.firstChild);\n};\n\ndom.remove = function removeNode(node) {\n  if (node && node.parentNode) {\n    node.parentNode.removeChild(node);\n  }\n};\n\ndom.isDomElement = function isDomElement(o) {\n  return o instanceof Element;\n};\n\ndom.click = function (el, handler) {\n  dom.addEventListener(el, 'click', handler);\n};\n\ndom.once = function (el, type, handler) {\n  function handlerWrap() {\n    handler.apply(undefined, arguments);\n    dom.removeEventListener(el, type, handlerWrap);\n  }\n\n  dom.addEventListener(el, type, handlerWrap);\n};\n\n// Note: there is no getBoundingClientRect on iPad so we need a fallback\ndom.getDimension = function getDimension(element) {\n  var rect = void 0;\n\n  // On IE9 and below getBoundingClientRect does not work consistently\n  if (!utilities.isOldIE() && element.getBoundingClientRect) {\n    rect = element.getBoundingClientRect();\n\n    return {\n      width: rect.width,\n      height: rect.height\n    };\n  }\n\n  return {\n    width: element.offsetWidth,\n    height: element.offsetHeight\n  };\n};\n\nmodule.exports = dom;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MultipleValuesRegistry = exports.MultipleValuesRegistry = function () {\n    function MultipleValuesRegistry() {\n        _classCallCheck(this, MultipleValuesRegistry);\n\n        this._registries = {};\n    }\n\n    _createClass(MultipleValuesRegistry, [{\n        key: 'add',\n        value: function add(id, value) {\n            if (!this._registries[id]) {\n                this._registries[id] = [];\n            }\n            if (this._registries[id].indexOf(value) === -1) {\n                this._registries[id].push(value);\n            }\n        }\n    }, {\n        key: 'get',\n        value: function get(id) {\n            return this._registries[id] || [];\n        }\n    }, {\n        key: 'filterKeys',\n        value: function filterKeys(handler) {\n            return Object.keys(this._registries).filter(handler);\n        }\n    }, {\n        key: 'findByValue',\n        value: function findByValue(value) {\n            var _this = this;\n\n            var keys = Object.keys(this._registries).filter(function (key) {\n                return _this._registries[key].indexOf(value) !== -1;\n            });\n\n            return keys;\n        }\n    }, {\n        key: 'remove',\n        value: function remove(key, value) {\n            if (!this._registries[key]) {\n                return;\n            }\n\n            var index = this._registries[key].indexOf(value);\n\n            if (index < 0) {\n                return;\n            }\n            return this._registries[key].splice(index, 1);\n        }\n    }, {\n        key: 'removeByKey',\n        value: function removeByKey(id) {\n            var old = this._registries[id];\n            delete this._registries[id];\n            return old;\n        }\n    }, {\n        key: 'removeByValue',\n        value: function removeByValue(value) {\n            var _this2 = this;\n\n            var keys = this.findByValue(value);\n            return keys.map(function (key) {\n                return _this2.remove(key, value);\n            });\n        }\n    }, {\n        key: 'removeAll',\n        value: function removeAll() {\n            var old = this._registries;\n            this._registries = {};\n            return old;\n        }\n    }, {\n        key: 'size',\n        value: function size() {\n            return Object.keys(this._registries).length;\n        }\n    }]);\n\n    return MultipleValuesRegistry;\n}();\n\nvar SingleValueRegistry = exports.SingleValueRegistry = function () {\n    function SingleValueRegistry() {\n        _classCallCheck(this, SingleValueRegistry);\n\n        this._registries = {};\n    }\n\n    _createClass(SingleValueRegistry, [{\n        key: 'add',\n        value: function add(id, value) {\n            this._registries[id] = value;\n        }\n    }, {\n        key: 'get',\n        value: function get(id) {\n            return this._registries[id];\n        }\n    }, {\n        key: 'filterKeys',\n        value: function filterKeys(handler) {\n            return Object.keys(this._registries).filter(handler);\n        }\n    }, {\n        key: 'findByValue',\n        value: function findByValue(value) {\n            var _this3 = this;\n\n            var keys = Object.keys(this._registries).filter(function (key) {\n                return _this3._registries[key] === value;\n            });\n\n            return keys;\n        }\n    }, {\n        key: 'remove',\n        value: function remove(id) {\n            var old = this._registries[id];\n            delete this._registries[id];\n            return old;\n        }\n    }, {\n        key: 'removeByValue',\n        value: function removeByValue(value) {\n            var _this4 = this;\n\n            var keys = this.findByValue(value);\n            return keys.map(function (key) {\n                return _this4.remove(key);\n            });\n        }\n    }, {\n        key: 'removeAll',\n        value: function removeAll() {\n            var old = this._registries;\n            this._registries = {};\n            return old;\n        }\n    }, {\n        key: 'size',\n        value: function size() {\n            return Object.keys(this._registries).length;\n        }\n    }]);\n\n    return SingleValueRegistry;\n}();\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utilities = __webpack_require__(0);\nvar xml = __webpack_require__(2);\nvar VideoClicks = __webpack_require__(21);\nvar Linear = __webpack_require__(18);\nvar InLine = __webpack_require__(17);\nvar Ad = __webpack_require__(15);\nvar Wrapper = __webpack_require__(22);\n\nwindow.InLine__A = InLine;\nfunction VASTResponse() {\n  if (!(this instanceof VASTResponse)) {\n    return new VASTResponse();\n  }\n\n  this._linearAdded = false;\n  this.ads = [];\n  this.errorURLMacros = [];\n  this.impressions = [];\n  this.clickTrackings = [];\n  this.customClicks = [];\n  this.trackingEvents = {};\n  this.mediaFiles = [];\n  this.clickThrough = undefined;\n  this.adTitle = '';\n  this.duration = undefined;\n  this.skipoffset = undefined;\n}\n\nVASTResponse.prototype.addAd = function (ad) {\n  var inLine = void 0,\n      wrapper = void 0;\n\n  if (ad instanceof Ad) {\n    inLine = ad.inLine;\n    wrapper = ad.wrapper;\n\n    this.ads.push(ad);\n\n    if (inLine) {\n      this._addInLine(inLine);\n    }\n\n    if (wrapper) {\n      this._addWrapper(wrapper);\n    }\n  }\n};\n\nVASTResponse.prototype._addErrorTrackUrl = function (error) {\n  var errorURL = error instanceof xml.JXONTree ? xml.keyValue(error) : error;\n\n  if (errorURL) {\n    this.errorURLMacros.push(errorURL);\n  }\n};\n\nVASTResponse.prototype._addImpressions = function (impressions) {\n  if (Array.isArray(impressions)) {\n    appendToArray(this.impressions, impressions);\n  }\n};\n\nVASTResponse.prototype._addClickThrough = function (clickThrough) {\n  if (utilities.isNotEmptyString(clickThrough)) {\n    this.clickThrough = clickThrough;\n  }\n};\n\nVASTResponse.prototype._addClickTrackings = function (clickTrackings) {\n  if (Array.isArray(clickTrackings)) {\n    appendToArray(this.clickTrackings, clickTrackings);\n  }\n};\n\nVASTResponse.prototype._addCustomClicks = function (customClicks) {\n  if (Array.isArray(customClicks)) {\n    appendToArray(this.customClicks, customClicks);\n  }\n};\n\nVASTResponse.prototype._addTrackingEvents = function (trackingEvents) {\n  var eventsMap = this.trackingEvents;\n\n  if (trackingEvents) {\n    trackingEvents = utilities.isArray(trackingEvents) ? trackingEvents : [trackingEvents];\n    trackingEvents.forEach(function (trackingEvent) {\n      if (!eventsMap[trackingEvent.name]) {\n        eventsMap[trackingEvent.name] = [];\n      }\n      eventsMap[trackingEvent.name].push(trackingEvent);\n    });\n  }\n};\n\nVASTResponse.prototype._addTitle = function (title) {\n  if (utilities.isNotEmptyString(title)) {\n    this.adTitle = title;\n  }\n};\n\nVASTResponse.prototype._addDuration = function (duration) {\n  if (utilities.isNumber(duration)) {\n    this.duration = duration;\n  }\n};\n\nVASTResponse.prototype._addVideoClicks = function (videoClicks) {\n  if (videoClicks instanceof VideoClicks) {\n    this._addClickThrough(videoClicks.clickThrough);\n    this._addClickTrackings(videoClicks.clickTrackings);\n    this._addCustomClicks(videoClicks.customClicks);\n  }\n};\n\nVASTResponse.prototype._addMediaFiles = function (mediaFiles) {\n  if (Array.isArray(mediaFiles)) {\n    appendToArray(this.mediaFiles, mediaFiles);\n  }\n};\n\nVASTResponse.prototype._addSkipoffset = function (offset) {\n  if (offset) {\n    this.skipoffset = offset;\n  }\n};\n\nVASTResponse.prototype._addAdParameters = function (adParameters) {\n  if (adParameters) {\n    this.adParameters = adParameters;\n  }\n};\n\nVASTResponse.prototype._addLinear = function (linear) {\n  if (linear instanceof Linear) {\n    this._addDuration(linear.duration);\n    this._addTrackingEvents(linear.trackingEvents);\n    this._addVideoClicks(linear.videoClicks);\n    this._addMediaFiles(linear.mediaFiles);\n    this._addSkipoffset(linear.skipoffset);\n    this._addAdParameters(linear.adParameters);\n    this._linearAdded = true;\n  }\n};\n\nVASTResponse.prototype._addInLine = function (inLine) {\n  var that = this;\n\n  if (inLine instanceof InLine) {\n    this._addTitle(inLine.adTitle);\n    this._addErrorTrackUrl(inLine.error);\n    this._addImpressions(inLine.impressions);\n\n    inLine.creatives.forEach(function (creative) {\n      if (creative.linear) {\n        that._addLinear(creative.linear);\n      }\n    });\n  }\n};\n\nVASTResponse.prototype._addWrapper = function (wrapper) {\n  var that = this;\n\n  if (wrapper instanceof Wrapper) {\n    this._addErrorTrackUrl(wrapper.error);\n    this._addImpressions(wrapper.impressions);\n\n    wrapper.creatives.forEach(function (creative) {\n      var linear = creative.linear;\n\n      if (linear) {\n        that._addVideoClicks(linear.videoClicks);\n        that.clickThrough = undefined; // We ensure that no clickThrough has been added\n        that._addTrackingEvents(linear.trackingEvents);\n      }\n    });\n  }\n};\n\nVASTResponse.prototype.hasLinear = function () {\n  return this._linearAdded;\n};\n\nfunction appendToArray(array, items) {\n  items.forEach(function (item) {\n    array.push(item);\n  });\n}\n\nmodule.exports = VASTResponse;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n// Small subset of async\n\nvar utilities = __webpack_require__(0);\n\nvar async = {};\n\nasync.setImmediate = function (fn) {\n  setTimeout(fn, 0);\n};\n\nasync.iterator = function (tasks) {\n  var makeCallback = function makeCallback(index) {\n    var fn = function fn() {\n      if (tasks.length) {\n        tasks[index].apply(null, arguments);\n      }\n\n      return fn.next();\n    };\n\n    fn.next = function () {\n      return index < tasks.length - 1 ? makeCallback(index + 1) : null;\n    };\n\n    return fn;\n  };\n\n  return makeCallback(0);\n};\n\nasync.waterfall = function (tasks, callback) {\n  callback = callback || function () {};\n  if (!utilities.isArray(tasks)) {\n    var err = new Error('First argument to waterfall must be an array of functions');\n\n    return callback(err);\n  }\n  if (!tasks.length) {\n    return callback();\n  }\n  var wrapIterator = function wrapIterator(iterator) {\n    return function (err) {\n      if (err) {\n        callback.apply(undefined, arguments);\n        callback = function callback() {};\n      } else {\n        var args = Array.prototype.slice.call(arguments, 1);\n        var next = iterator.next();\n\n        if (next) {\n          args.push(wrapIterator(next));\n        } else {\n          args.push(callback);\n        }\n        async.setImmediate(function () {\n          iterator.apply(undefined, _toConsumableArray(args));\n        });\n      }\n    };\n  };\n\n  wrapIterator(async.iterator(tasks))();\n};\n\nasync.when = function (condition, callback) {\n  if (!utilities.isFunction(callback)) {\n    throw new Error('async.when error: missing callback argument');\n  }\n\n  var isAllowed = utilities.isFunction(condition) ? condition : function () {\n    return Boolean(condition);\n  };\n\n  return function () {\n    var args = utilities.arrayLikeObjToArray(arguments);\n    var next = args.pop();\n\n    if (isAllowed.apply(undefined, _toConsumableArray(args))) {\n      return callback.apply(this, arguments);\n    }\n\n    args.unshift(null);\n\n    return next.apply(undefined, _toConsumableArray(args));\n  };\n};\n\nmodule.exports = async;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = {\n  html5: ['text/javascript', 'text/javascript1.0', 'text/javascript1.2', 'text/javascript1.4', 'text/jscript', 'application/javascript', 'application/x-javascript', 'text/ecmascript', 'text/ecmascript1.0', 'text/ecmascript1.2', 'text/ecmascript1.4', 'text/livescript', 'application/ecmascript', 'application/x-ecmascript'],\n\n  flash: ['application/x-shockwave-flash']\n};\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar dom = __webpack_require__(6);\nvar utilities = __webpack_require__(0);\n\nvar playerUtils = {};\n\n/**\n * Returns an object that captures the portions of player state relevant to\n * video playback. The result of this function can be passed to\n * restorePlayerSnapshot with a player to return the player to the state it\n * was in when this function was invoked.\n * @param {object} player The videojs player object\n */\nplayerUtils.getPlayerSnapshot = function getPlayerSnapshot(player) {\n  var tech = player.el().querySelector('.vjs-tech');\n\n  var snapshot = {\n    ended: player.ended(),\n    src: player.currentSrc(),\n    currentTime: player.currentTime(),\n    type: player.currentType(),\n    playing: !player.paused(),\n    suppressedTracks: getSuppressedTracks(player)\n  };\n\n  if (tech) {\n    snapshot.nativePoster = tech.poster;\n    snapshot.style = tech.getAttribute('style');\n  }\n\n  return snapshot;\n\n  /** ** Local Functions ****/\n  function getSuppressedTracks(player) {\n    var tracks = player.remoteTextTracks ? player.remoteTextTracks() : [];\n\n    if (tracks && utilities.isArray(tracks.tracks)) {\n      tracks = tracks.tracks;\n    }\n\n    if (!utilities.isArray(tracks)) {\n      tracks = [];\n    }\n\n    var suppressedTracks = [];\n\n    tracks.forEach(function (track) {\n      suppressedTracks.push({\n        track: track,\n        mode: track.mode\n      });\n      track.mode = 'disabled';\n    });\n\n    return suppressedTracks;\n  }\n};\n\n/**\n * Attempts to modify the specified player so that its state is equivalent to\n * the state of the snapshot.\n * @param {object} snapshot - the player state to apply\n */\nplayerUtils.restorePlayerSnapshot = function restorePlayerSnapshot(player, snapshot) {\n  var tech = player.el().querySelector('.vjs-tech');\n  var attempts = 20; // the number of remaining attempts to restore the snapshot\n\n  if (snapshot.nativePoster) {\n    tech.poster = snapshot.nativePoster;\n  }\n\n  if ('style' in snapshot) {\n    // overwrite all css style properties to restore state precisely\n    tech.setAttribute('style', snapshot.style || '');\n  }\n\n  if (hasSrcChanged(player, snapshot)) {\n    // on ios7, fiddling with textTracks too early will cause safari to crash\n    player.one('contentloadedmetadata', restoreTracks);\n\n    player.one('canplay', tryToResume);\n    ensureCanplayEvtGetsFired();\n\n    // if the src changed for ad playback, reset it\n    player.src({ src: snapshot.src, type: snapshot.type });\n\n    // safari requires a call to `load` to pick up a changed source\n    player.load();\n  } else {\n    restoreTracks();\n\n    if (snapshot.playing) {\n      player.play();\n    }\n  }\n\n  /** * Local Functions ***/\n\n  /**\n   * Sometimes firefox does not trigger the 'canplay' evt.\n   * This code ensure that it always gets triggered triggered.\n   */\n  function ensureCanplayEvtGetsFired() {\n    var timeoutId = setTimeout(function () {\n      player.trigger('canplay');\n    }, 1000);\n\n    player.one('canplay', function () {\n      clearTimeout(timeoutId);\n    });\n  }\n\n  /**\n   * Determine whether the player needs to be restored to its state\n   * before ad playback began. With a custom ad display or burned-in\n   * ads, the content player state hasn't been modified and so no\n   * restoration is required\n   */\n  function hasSrcChanged(player, snapshot) {\n    if (player.src()) {\n      return player.src() !== snapshot.src;\n    }\n\n    // the player was configured through source element children\n    return player.currentSrc() !== snapshot.src;\n  }\n\n  function restoreTracks() {\n    var suppressedTracks = snapshot.suppressedTracks;\n\n    suppressedTracks.forEach(function (trackSnapshot) {\n      trackSnapshot.track.mode = trackSnapshot.mode;\n    });\n  }\n\n  /**\n   * Determine if the video element has loaded enough of the snapshot source\n   * to be ready to apply the rest of the state\n   */\n  function tryToResume() {\n    // if some period of the video is seekable, resume playback\n    // otherwise delay a bit and then check again unless we're out of attempts\n\n    if (!playerUtils.isReadyToResume(player) && attempts--) {\n      setTimeout(tryToResume, 50);\n    } else {\n      try {\n        if (player.currentTime() !== snapshot.currentTime) {\n          if (snapshot.playing) {\n            // if needed restore playing status after seek completes\n            player.one('seeked', function () {\n              player.play();\n            });\n          }\n          player.currentTime(snapshot.currentTime);\n        } else if (snapshot.playing) {\n          // if needed and no seek has been performed, restore playing status immediately\n          player.play();\n        }\n      } catch (e) {\n        videojs.log.warn('Failed to resume the content after an advertisement', e);\n      }\n    }\n  }\n};\n\nplayerUtils.isReadyToResume = function (player) {\n  if (player.readyState() > 1) {\n    // some browsers and media aren't \"seekable\".\n    // readyState greater than 1 allows for seeking without exceptions\n    return true;\n  }\n\n  if (player.seekable() === undefined) {\n    // if the player doesn't expose the seekable time ranges, try to\n    // resume playback immediately\n    return true;\n  }\n\n  if (player.seekable().length > 0) {\n    // if some period of the video is seekable, resume playback\n    return true;\n  }\n\n  return false;\n};\n\n/**\n * This function prepares the player to display ads.\n * Adding convenience events like the 'vast.firsPlay' that gets fired when the video is first played\n * and ads the blackPoster to the player to prevent content from being displayed before the preroll ad.\n *\n * @param player\n */\nplayerUtils.prepareForAds = function (player) {\n  var blackPoster = player.addChild('blackPoster');\n  var _firstPlay = true;\n  var volumeSnapshot = void 0;\n\n  monkeyPatchPlayerApi();\n\n  player.on('play', tryToTriggerFirstPlay);\n  player.on('vast.reset', resetFirstPlay); // Every time we change the sources we reset the first play.\n  player.on('vast.firstPlay', restoreContentVolume);\n  player.on('error', hideBlackPoster); // If there is an error in the player we remove the blackposter to show the err msg\n  player.on('vast.adStart', hideBlackPoster);\n  player.on('vast.adsCancel', hideBlackPoster);\n  player.on('vast.adError', hideBlackPoster);\n  player.on('vast.adStart', addStyles);\n  player.on('vast.adEnd', removeStyles);\n  player.on('vast.adsCancel', removeStyles);\n\n  /** * Local Functions ***/\n\n  /**\n   What this function does is ugly and horrible and I should think twice before calling myself a good developer. With that said,\n   it is the best solution I could find to mute the video until the 'play' event happens (on mobile devices) and the plugin can decide whether\n   to play the ad or not.\n    We also need this monkeypatch to be able to pause and resume an ad using the player's API\n    If you have a better solution please do tell me.\n   */\n  function monkeyPatchPlayerApi() {\n    /**\n     * Monkey patch needed to handle firstPlay and resume of playing ad.\n     *\n     * @param callOrigPlay necessary flag to prevent infinite loop when you are restoring a VAST ad.\n     * @returns {player}\n     */\n    var origPlay = player.play;\n\n    player.play = function (callOrigPlay) {\n      var that = this;\n\n      if (isFirstPlay()) {\n        firstPlay();\n      } else {\n        resume(callOrigPlay);\n      }\n\n      return this;\n\n      /** * local functions ***/\n      function firstPlay() {\n        if (!utilities.isIPhone()) {\n          volumeSnapshot = saveVolumeSnapshot();\n          player.muted(true);\n        }\n\n        origPlay.apply(that, arguments);\n        tryToTriggerFirstPlay();\n      }\n\n      function resume(callOrigPlay) {\n        if (isAdPlaying() && !callOrigPlay) {\n          player.vast.adUnit.resumeAd();\n        } else {\n          origPlay.apply(that, arguments);\n        }\n      }\n    };\n\n    /**\n     * Needed monkey patch to handle pause of playing ad.\n     *\n     * @param callOrigPlay necessary flag to prevent infinite loop when you are pausing a VAST ad.\n     * @returns {player}\n     */\n    var origPause = player.pause;\n\n    player.pause = function (callOrigPause) {\n      if (isAdPlaying() && !callOrigPause) {\n        player.vast.adUnit.pauseAd();\n      } else {\n        origPause.apply(this, arguments);\n      }\n\n      return this;\n    };\n\n    /**\n     * Needed monkey patch to handle paused state of the player when ads are playing.\n     *\n     * @param callOrigPlay necessary flag to prevent infinite loop when you are pausing a VAST ad.\n     * @returns {player}\n     */\n    var origPaused = player.paused;\n\n    player.paused = function (callOrigPaused) {\n      if (isAdPlaying() && !callOrigPaused) {\n        return player.vast.adUnit.isPaused();\n      }\n\n      return origPaused.apply(this, arguments);\n    };\n  }\n\n  function isAdPlaying() {\n    return player.vast && player.vast.adUnit;\n  }\n\n  function tryToTriggerFirstPlay() {\n    if (isFirstPlay()) {\n      _firstPlay = false;\n      player.trigger('vast.firstPlay');\n    }\n  }\n\n  function resetFirstPlay() {\n    _firstPlay = true;\n    blackPoster.show();\n    restoreContentVolume();\n  }\n\n  function isFirstPlay() {\n    return _firstPlay;\n  }\n\n  function saveVolumeSnapshot() {\n    return {\n      muted: player.muted(),\n      volume: player.volume()\n    };\n  }\n\n  function restoreContentVolume() {\n    if (volumeSnapshot) {\n      player.currentTime(0);\n      restoreVolumeSnapshot(volumeSnapshot);\n      volumeSnapshot = null;\n    }\n  }\n\n  function restoreVolumeSnapshot(snapshot) {\n    if (utilities.isObject(snapshot)) {\n      player.volume(snapshot.volume);\n      player.muted(snapshot.muted);\n    }\n  }\n\n  function hideBlackPoster() {\n    if (!dom.hasClass(blackPoster.el(), 'vjs-hidden')) {\n      blackPoster.hide();\n    }\n  }\n\n  function addStyles() {\n    dom.addClass(player.el(), 'vjs-ad-playing');\n  }\n\n  function removeStyles() {\n    dom.removeClass(player.el(), 'vjs-ad-playing');\n  }\n};\n\n/**\n * Remove the poster attribute from the video element tech, if present. When\n * reusing a video element for multiple videos, the poster image will briefly\n * reappear while the new source loads. Removing the attribute ahead of time\n * prevents the poster from showing up between videos.\n * @param {object} player The videojs player object\n */\nplayerUtils.removeNativePoster = function (player) {\n  var tech = player.el().querySelector('.vjs-tech');\n\n  if (tech) {\n    tech.removeAttribute('poster');\n  }\n};\n\n/**\n * Helper function to listen to many events until one of them gets fired, then we\n * execute the handler and unsubscribe all the event listeners;\n *\n * @param player specific player from where to listen for the events\n * @param events array of events\n * @param handler function to execute once one of the events fires\n */\nplayerUtils.once = function once(player, events, handler) {\n  function listener() {\n    handler.apply(undefined, arguments);\n\n    events.forEach(function (event) {\n      player.off(event, listener);\n    });\n  }\n\n  events.forEach(function (event) {\n    player.on(event, listener);\n  });\n};\n\nmodule.exports = playerUtils;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar swfobject = __webpack_require__(25);\n\nvar JSFlashBridge = __webpack_require__(13).JSFlashBridge;\nvar VPAIDAdUnit = __webpack_require__(29).VPAIDAdUnit;\n\nvar noop = __webpack_require__(1).noop;\nvar callbackTimeout = __webpack_require__(1).callbackTimeout;\nvar isPositiveInt = __webpack_require__(1).isPositiveInt;\nvar createElementWithID = __webpack_require__(1).createElementWithID;\nvar uniqueVPAID = __webpack_require__(1).unique('vpaid');\nvar createFlashTester = __webpack_require__(30).createFlashTester;\n\nvar ERROR = 'error';\nvar FLASH_VERSION = '10.1.0';\n\nvar flashTester = { isSupported: function isSupported() {\n        return true;\n    } }; // if the runFlashTest is not run the flashTester will always return true\n\nvar VPAIDFLASHClient = function () {\n    function VPAIDFLASHClient(vpaidParentEl, callback) {\n        var swfConfig = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : { data: 'VPAIDFlash.swf', width: 800, height: 400 };\n\n        var _this = this;\n\n        var params = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : { wmode: 'transparent', salign: 'tl', align: 'left', allowScriptAccess: 'always', scale: 'noScale', allowFullScreen: 'true', quality: 'high' };\n        var vpaidOptions = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : { debug: false, timeout: 10000 };\n\n        _classCallCheck(this, VPAIDFLASHClient);\n\n        var me = this;\n\n        this._vpaidParentEl = vpaidParentEl;\n        this._flashID = uniqueVPAID();\n        this._destroyed = false;\n        callback = callback || noop;\n\n        swfConfig.width = isPositiveInt(swfConfig.width, 800);\n        swfConfig.height = isPositiveInt(swfConfig.height, 400);\n\n        createElementWithID(vpaidParentEl, this._flashID, true);\n\n        params.movie = swfConfig.data;\n        params.FlashVars = 'flashid=' + this._flashID + '&handler=' + JSFlashBridge.VPAID_FLASH_HANDLER + '&debug=' + vpaidOptions.debug + '&salign=' + params.salign;\n\n        if (!VPAIDFLASHClient.isSupported()) {\n            return onError('user don\\'t support flash or doesn\\'t have the minimum required version of flash ' + FLASH_VERSION);\n        }\n\n        this.el = swfobject.createSWF(swfConfig, params, this._flashID);\n\n        if (!this.el) {\n            return onError('swfobject failed to create object in element');\n        }\n\n        var handler = callbackTimeout(vpaidOptions.timeout, function (err, data) {\n            $loadPendedAdUnit.call(_this);\n            callback(err, data);\n        }, function () {\n            callback('vpaid flash load timeout ' + vpaidOptions.timeout);\n        });\n\n        this._flash = new JSFlashBridge(this.el, swfConfig.data, this._flashID, swfConfig.width, swfConfig.height, handler);\n\n        function onError(error) {\n            setTimeout(function () {\n                callback(new Error(error));\n            }, 0);\n            return me;\n        }\n    }\n\n    _createClass(VPAIDFLASHClient, [{\n        key: 'destroy',\n        value: function destroy() {\n            this._destroyAdUnit();\n\n            if (this._flash) {\n                this._flash.destroy();\n                this._flash = null;\n            }\n            this.el = null;\n            this._destroyed = true;\n        }\n    }, {\n        key: 'isDestroyed',\n        value: function isDestroyed() {\n            return this._destroyed;\n        }\n    }, {\n        key: '_destroyAdUnit',\n        value: function _destroyAdUnit() {\n            delete this._loadLater;\n\n            if (this._adUnitLoad) {\n                this._adUnitLoad = null;\n                this._flash.removeCallback(this._adUnitLoad);\n            }\n\n            if (this._adUnit) {\n                this._adUnit._destroy();\n                this._adUnit = null;\n            }\n        }\n    }, {\n        key: 'loadAdUnit',\n        value: function loadAdUnit(adURL, callback) {\n            var _this2 = this;\n\n            $throwIfDestroyed.call(this);\n\n            if (this._adUnit) {\n                this._destroyAdUnit();\n            }\n\n            if (this._flash.isReady()) {\n                this._adUnitLoad = function (err, message) {\n                    if (!err) {\n                        _this2._adUnit = new VPAIDAdUnit(_this2._flash);\n                    }\n                    _this2._adUnitLoad = null;\n                    callback(err, _this2._adUnit);\n                };\n\n                this._flash.callFlashMethod('loadAdUnit', [adURL], this._adUnitLoad);\n            } else {\n                this._loadLater = { url: adURL, callback: callback };\n            }\n        }\n    }, {\n        key: 'unloadAdUnit',\n        value: function unloadAdUnit() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n            $throwIfDestroyed.call(this);\n\n            this._destroyAdUnit();\n            this._flash.callFlashMethod('unloadAdUnit', [], callback);\n        }\n    }, {\n        key: 'getFlashID',\n        value: function getFlashID() {\n            $throwIfDestroyed.call(this);\n            return this._flash.getFlashID();\n        }\n    }, {\n        key: 'getFlashURL',\n        value: function getFlashURL() {\n            $throwIfDestroyed.call(this);\n            return this._flash.getFlashURL();\n        }\n    }]);\n\n    return VPAIDFLASHClient;\n}();\n\nsetStaticProperty('isSupported', function () {\n    return swfobject.hasFlashPlayerVersion(FLASH_VERSION) && flashTester.isSupported();\n}, true);\n\nsetStaticProperty('runFlashTest', function (swfConfig) {\n    flashTester = createFlashTester(document.body, swfConfig);\n});\n\nfunction $throwIfDestroyed() {\n    if (this._destroyed) {\n        throw new Error('VPAIDFlashToJS is destroyed!');\n    }\n}\n\nfunction $loadPendedAdUnit() {\n    if (this._loadLater) {\n        this.loadAdUnit(this._loadLater.url, this._loadLater.callback);\n        delete this._loadLater;\n    }\n}\n\nfunction setStaticProperty(propertyName, value) {\n    var writable = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    Object.defineProperty(VPAIDFLASHClient, propertyName, {\n        writable: writable,\n        configurable: false,\n        value: value\n    });\n}\n\nVPAIDFLASHClient.swfobject = swfobject;\n\nmodule.exports = VPAIDFLASHClient;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar unique = __webpack_require__(1).unique;\nvar isPositiveInt = __webpack_require__(1).isPositiveInt;\nvar stringEndsWith = __webpack_require__(1).stringEndsWith;\nvar SingleValueRegistry = __webpack_require__(7).SingleValueRegistry;\nvar MultipleValuesRegistry = __webpack_require__(7).MultipleValuesRegistry;\nvar registry = __webpack_require__(31);\nvar VPAID_FLASH_HANDLER = 'vpaid_video_flash_handler';\nvar ERROR = 'AdError';\n\nvar JSFlashBridge = exports.JSFlashBridge = function () {\n    function JSFlashBridge(el, flashURL, flashID, width, height, loadHandShake) {\n        _classCallCheck(this, JSFlashBridge);\n\n        this._el = el;\n        this._flashID = flashID;\n        this._flashURL = flashURL;\n        this._width = width;\n        this._height = height;\n        this._handlers = new MultipleValuesRegistry();\n        this._callbacks = new SingleValueRegistry();\n        this._uniqueMethodIdentifier = unique(this._flashID);\n        this._ready = false;\n        this._handShakeHandler = loadHandShake;\n\n        registry.addInstance(this._flashID, this);\n    }\n\n    _createClass(JSFlashBridge, [{\n        key: 'on',\n        value: function on(eventName, callback) {\n            this._handlers.add(eventName, callback);\n        }\n    }, {\n        key: 'off',\n        value: function off(eventName, callback) {\n            return this._handlers.remove(eventName, callback);\n        }\n    }, {\n        key: 'offEvent',\n        value: function offEvent(eventName) {\n            return this._handlers.removeByKey(eventName);\n        }\n    }, {\n        key: 'offAll',\n        value: function offAll() {\n            return this._handlers.removeAll();\n        }\n    }, {\n        key: 'callFlashMethod',\n        value: function callFlashMethod(methodName) {\n            var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n            var callback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n\n            var callbackID = '';\n            // if no callback, some methods the return is void so they don't need callback\n            if (callback) {\n                callbackID = this._uniqueMethodIdentifier() + '_' + methodName;\n                this._callbacks.add(callbackID, callback);\n            }\n\n            try {\n                //methods are created by ExternalInterface.addCallback in as3 code, if for some reason it failed\n                //this code will throw an error\n                this._el[methodName]([callbackID].concat(args));\n            } catch (e) {\n                if (callback) {\n                    $asyncCallback.call(this, callbackID, e);\n                } else {\n\n                    //if there isn't any callback to return error use error event handler\n                    this._trigger(ERROR, e);\n                }\n            }\n        }\n    }, {\n        key: 'removeCallback',\n        value: function removeCallback(callback) {\n            return this._callbacks.removeByValue(callback);\n        }\n    }, {\n        key: 'removeCallbackByMethodName',\n        value: function removeCallbackByMethodName(suffix) {\n            var _this = this;\n\n            this._callbacks.filterKeys(function (key) {\n                return stringEndsWith(key, suffix);\n            }).forEach(function (key) {\n                _this._callbacks.remove(key);\n            });\n        }\n    }, {\n        key: 'removeAllCallbacks',\n        value: function removeAllCallbacks() {\n            return this._callbacks.removeAll();\n        }\n    }, {\n        key: '_trigger',\n        value: function _trigger(eventName, event) {\n            var _this2 = this;\n\n            this._handlers.get(eventName).forEach(function (callback) {\n                //clickThru has to be sync, if not will be block by the popupblocker\n                if (eventName === 'AdClickThru') {\n                    callback(event);\n                } else {\n                    setTimeout(function () {\n                        if (_this2._handlers.get(eventName).length > 0) {\n                            callback(event);\n                        }\n                    }, 0);\n                }\n            });\n        }\n    }, {\n        key: '_callCallback',\n        value: function _callCallback(methodName, callbackID, err, result) {\n\n            var callback = this._callbacks.get(callbackID);\n\n            //not all methods callback's are mandatory\n            //but if there exist an error, fire the error event\n            if (!callback) {\n                if (err && callbackID === '') {\n                    this.trigger(ERROR, err);\n                }\n                return;\n            }\n\n            $asyncCallback.call(this, callbackID, err, result);\n        }\n    }, {\n        key: '_handShake',\n        value: function _handShake(err, data) {\n            this._ready = true;\n            if (this._handShakeHandler) {\n                this._handShakeHandler(err, data);\n                delete this._handShakeHandler;\n            }\n        }\n\n        //methods like properties specific to this implementation of VPAID\n\n    }, {\n        key: 'getSize',\n        value: function getSize() {\n            return { width: this._width, height: this._height };\n        }\n    }, {\n        key: 'setSize',\n        value: function setSize(newWidth, newHeight) {\n            this._width = isPositiveInt(newWidth, this._width);\n            this._height = isPositiveInt(newHeight, this._height);\n            this._el.setAttribute('width', this._width);\n            this._el.setAttribute('height', this._height);\n        }\n    }, {\n        key: 'getWidth',\n        value: function getWidth() {\n            return this._width;\n        }\n    }, {\n        key: 'setWidth',\n        value: function setWidth(newWidth) {\n            this.setSize(newWidth, this._height);\n        }\n    }, {\n        key: 'getHeight',\n        value: function getHeight() {\n            return this._height;\n        }\n    }, {\n        key: 'setHeight',\n        value: function setHeight(newHeight) {\n            this.setSize(this._width, newHeight);\n        }\n    }, {\n        key: 'getFlashID',\n        value: function getFlashID() {\n            return this._flashID;\n        }\n    }, {\n        key: 'getFlashURL',\n        value: function getFlashURL() {\n            return this._flashURL;\n        }\n    }, {\n        key: 'isReady',\n        value: function isReady() {\n            return this._ready;\n        }\n    }, {\n        key: 'destroy',\n        value: function destroy() {\n            this.offAll();\n            this.removeAllCallbacks();\n            registry.removeInstanceByID(this._flashID);\n            if (this._el.parentElement) {\n                this._el.parentElement.removeChild(this._el);\n            }\n        }\n    }]);\n\n    return JSFlashBridge;\n}();\n\nfunction $asyncCallback(callbackID, err, result) {\n    var _this3 = this;\n\n    setTimeout(function () {\n        var callback = _this3._callbacks.get(callbackID);\n        if (callback) {\n            _this3._callbacks.remove(callbackID);\n            callback(err, result);\n        }\n    }, 0);\n}\n\nObject.defineProperty(JSFlashBridge, 'VPAID_FLASH_HANDLER', {\n    writable: false,\n    configurable: false,\n    value: VPAID_FLASH_HANDLER\n});\n\n/**\n * External interface handler\n *\n * @param {string} flashID identifier of the flash who call this\n * @param {string} typeID what type of message is, can be 'event' or 'callback'\n * @param {string} typeName if the typeID is a event the typeName will be the eventName, if is a callback the typeID is the methodName that is related this callback\n * @param {string} callbackID only applies when the typeID is 'callback', identifier of the callback to call\n * @param {object} error error object\n * @param {object} data\n */\nwindow[VPAID_FLASH_HANDLER] = function (flashID, typeID, typeName, callbackID, error, data) {\n    var instance = registry.getInstanceByID(flashID);\n    if (!instance) return;\n    if (typeName === 'handShake') {\n        instance._handShake(error, data);\n    } else {\n        if (typeID !== 'event') {\n            instance._callCallback(typeName, callbackID, error, data);\n        } else {\n            instance._trigger(typeName, data);\n        }\n    }\n};\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * noop a empty function\n */\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction noop() {}\n\n/**\n * validate if is not validate will return an Error with the message\n *\n * @param {boolean} isValid\n * @param {string} message\n */\nfunction validate(isValid, message) {\n    return isValid ? null : new Error(message);\n}\n\nvar timeouts = {};\n/**\n * clearCallbackTimeout\n *\n * @param {function} func handler to remove\n */\nfunction clearCallbackTimeout(func) {\n    var timeout = timeouts[func];\n    if (timeout) {\n        clearTimeout(timeout);\n        delete timeouts[func];\n    }\n}\n\n/**\n * callbackTimeout if the onSuccess is not called and returns true in the timelimit then onTimeout will be called\n *\n * @param {number} timer\n * @param {function} onSuccess\n * @param {function} onTimeout\n */\nfunction callbackTimeout(timer, onSuccess, onTimeout) {\n    var _callback, timeout;\n\n    timeout = setTimeout(function () {\n        onSuccess = noop;\n        delete timeout[_callback];\n        onTimeout();\n    }, timer);\n\n    _callback = function callback() {\n        // TODO avoid leaking arguments\n        // https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n        if (onSuccess.apply(this, arguments)) {\n            clearCallbackTimeout(_callback);\n        }\n    };\n\n    timeouts[_callback] = timeout;\n\n    return _callback;\n}\n\n/**\n * createElementInEl\n *\n * @param {HTMLElement} parent\n * @param {string} tagName\n * @param {string} id\n */\nfunction createElementInEl(parent, tagName, id) {\n    var nEl = document.createElement(tagName);\n    if (id) nEl.id = id;\n    parent.appendChild(nEl);\n    return nEl;\n}\n\n/**\n * createIframeWithContent\n *\n * @param {HTMLElement} parent\n * @param {string} template simple template using {{var}}\n * @param {object} data\n */\nfunction createIframeWithContent(parent, template, data) {\n    var iframe = createIframe(parent, null, data.zIndex);\n    if (!setIframeContent(iframe, simpleTemplate(template, data))) return;\n    return iframe;\n}\n\n/**\n * createIframe\n *\n * @param {HTMLElement} parent\n * @param {string} url\n */\nfunction createIframe(parent, url, zIndex) {\n    var nEl = document.createElement('iframe');\n    nEl.src = url || 'about:blank';\n    nEl.marginWidth = '0';\n    nEl.marginHeight = '0';\n    nEl.frameBorder = '0';\n    nEl.width = '100%';\n    nEl.height = '100%';\n    setFullSizeStyle(nEl);\n\n    if (zIndex) {\n        nEl.style.zIndex = zIndex;\n    }\n\n    nEl.setAttribute('SCROLLING', 'NO');\n    parent.innerHTML = '';\n    parent.appendChild(nEl);\n    return nEl;\n}\n\nfunction setFullSizeStyle(element) {\n    element.style.position = 'absolute';\n    element.style.left = '0';\n    element.style.top = '0';\n    element.style.margin = '0px';\n    element.style.padding = '0px';\n    element.style.border = 'none';\n    element.style.width = '100%';\n    element.style.height = '100%';\n}\n\n/**\n * simpleTemplate\n *\n * @param {string} template\n * @param {object} data\n */\nfunction simpleTemplate(template, data) {\n    Object.keys(data).forEach(function (key) {\n        var value = (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' ? JSON.stringify(data[key]) : data[key];\n        template = template.replace(new RegExp('{{' + key + '}}', 'g'), value);\n    });\n    return template;\n}\n\n/**\n * setIframeContent\n *\n * @param {HTMLIframeElement} iframeEl\n * @param content\n */\nfunction setIframeContent(iframeEl, content) {\n    var iframeDoc = iframeEl.contentWindow && iframeEl.contentWindow.document;\n    if (!iframeDoc) return false;\n\n    iframeDoc.write(content);\n\n    return true;\n}\n\n/**\n * extend object with keys from another object\n *\n * @param {object} toExtend\n * @param {object} fromSource\n */\nfunction extend(toExtend, fromSource) {\n    Object.keys(fromSource).forEach(function (key) {\n        toExtend[key] = fromSource[key];\n    });\n    return toExtend;\n}\n\n/**\n * unique will create a unique string everytime is called, sequentially and prefixed\n *\n * @param {string} prefix\n */\nfunction unique(prefix) {\n    var count = -1;\n    return function () {\n        return prefix + '_' + ++count;\n    };\n}\n\nmodule.exports = {\n    noop: noop,\n    validate: validate,\n    clearCallbackTimeout: clearCallbackTimeout,\n    callbackTimeout: callbackTimeout,\n    createElementInEl: createElementInEl,\n    createIframeWithContent: createIframeWithContent,\n    createIframe: createIframe,\n    setFullSizeStyle: setFullSizeStyle,\n    simpleTemplate: simpleTemplate,\n    setIframeContent: setIframeContent,\n    extend: extend,\n    unique: unique\n};\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar InLine = __webpack_require__(17);\nvar Wrapper = __webpack_require__(22);\n\nfunction Ad(adJTree) {\n  if (!(this instanceof Ad)) {\n    return new Ad(adJTree);\n  }\n  this.initialize(adJTree);\n}\n\nAd.prototype.initialize = function (adJTree) {\n  this.id = adJTree.attr('id');\n  this.sequence = adJTree.attr('sequence');\n\n  if (adJTree.inLine) {\n    this.inLine = new InLine(adJTree.inLine);\n  }\n\n  if (adJTree.wrapper) {\n    this.wrapper = new Wrapper(adJTree.wrapper);\n  }\n};\n\nmodule.exports = Ad;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utilities = __webpack_require__(0);\nvar Companion = __webpack_require__(36);\nvar Linear = __webpack_require__(18);\n\nfunction Creative(creativeJTree) {\n  if (!(this instanceof Creative)) {\n    return new Creative(creativeJTree);\n  }\n\n  this.id = creativeJTree.attr('id');\n  this.sequence = creativeJTree.attr('sequence');\n  this.adId = creativeJTree.attr('adId');\n  this.apiFramework = creativeJTree.attr('apiFramework');\n\n  if (creativeJTree.linear) {\n    this.linear = new Linear(creativeJTree.linear);\n  }\n\n  if (creativeJTree.companionAds) {\n    var companions = [];\n    var companionAds = creativeJTree.companionAds && creativeJTree.companionAds.companion;\n\n    if (utilities.isDefined(companionAds)) {\n      companionAds = utilities.isArray(companionAds) ? companionAds : [companionAds];\n      companionAds.forEach(function (companionData) {\n        companions.push(new Companion(companionData));\n      });\n    }\n    this.companionAds = companions;\n  }\n}\n\n/**\n * Returns true if the browser supports at the creative.\n */\nCreative.prototype.isSupported = function () {\n  if (this.linear) {\n    return this.linear.isSupported();\n  }\n\n  return true;\n};\n\nCreative.parseCreatives = function parseCreatives(creativesJTree) {\n  var creatives = [];\n  var creativesData = void 0;\n\n  if (utilities.isDefined(creativesJTree) && utilities.isDefined(creativesJTree.creative)) {\n    creativesData = utilities.isArray(creativesJTree.creative) ? creativesJTree.creative : [creativesJTree.creative];\n    creativesData.forEach(function (creative) {\n      creatives.push(new Creative(creative));\n    });\n  }\n\n  return creatives;\n};\n\nmodule.exports = Creative;\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utilities = __webpack_require__(0);\nvar xml = __webpack_require__(2);\nvar vastUtil = __webpack_require__(4);\nvar Creative = __webpack_require__(16);\n\nfunction InLine(inlineJTree) {\n  if (!(this instanceof InLine)) {\n    return new InLine(inlineJTree);\n  }\n\n  // Required Fields\n  this.adTitle = xml.keyValue(inlineJTree.adTitle);\n  this.adSystem = xml.keyValue(inlineJTree.adSystem);\n  this.impressions = vastUtil.parseImpressions(inlineJTree.impression);\n  this.creatives = Creative.parseCreatives(inlineJTree.creatives);\n\n  // Optional Fields\n  this.description = xml.keyValue(inlineJTree.description);\n  this.advertiser = xml.keyValue(inlineJTree.advertiser);\n  this.surveys = parseSurveys(inlineJTree.survey);\n  this.error = xml.keyValue(inlineJTree.error);\n  this.pricing = xml.keyValue(inlineJTree.pricing);\n  this.extensions = inlineJTree.extensions;\n\n  /** * Local Functions ***/\n  function parseSurveys(inlineSurveys) {\n    if (inlineSurveys) {\n      return utilities.transformArray(utilities.isArray(inlineSurveys) ? inlineSurveys : [inlineSurveys], function (survey) {\n        if (utilities.isNotEmptyString(survey.keyValue)) {\n          return {\n            uri: survey.keyValue,\n            type: survey.attr('type')\n          };\n        }\n\n        return undefined;\n      });\n    }\n\n    return [];\n  }\n}\n\n/**\n * Returns true if the browser supports all the creatives.\n */\nInLine.prototype.isSupported = function () {\n  var i = void 0,\n      len = void 0;\n\n  if (this.creatives.length === 0) {\n    return false;\n  }\n\n  for (i = 0, len = this.creatives.length; i < len; i += 1) {\n    if (!this.creatives[i].isSupported()) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nmodule.exports = InLine;\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utilities = __webpack_require__(0);\nvar xml = __webpack_require__(2);\nvar parsers = __webpack_require__(23);\nvar TrackingEvent = __webpack_require__(19);\nvar VideoClicks = __webpack_require__(21);\nvar MediaFile = __webpack_require__(37);\n\nfunction Linear(linearJTree) {\n  if (!(this instanceof Linear)) {\n    return new Linear(linearJTree);\n  }\n\n  // Required Elements\n  this.duration = parsers.duration(xml.keyValue(linearJTree.duration));\n  this.mediaFiles = parseMediaFiles(linearJTree.mediaFiles && linearJTree.mediaFiles.mediaFile);\n\n  // Optional fields\n  this.trackingEvents = parseTrackingEvents(linearJTree.trackingEvents && linearJTree.trackingEvents.tracking, this.duration);\n  this.skipoffset = parsers.offset(xml.attr(linearJTree, 'skipoffset'), this.duration);\n\n  if (linearJTree.videoClicks) {\n    this.videoClicks = new VideoClicks(linearJTree.videoClicks);\n  }\n\n  if (linearJTree.adParameters) {\n    this.adParameters = xml.keyValue(linearJTree.adParameters);\n\n    if (xml.attr(linearJTree.adParameters, 'xmlEncoded')) {\n      this.adParameters = xml.decode(this.adParameters);\n    }\n  }\n\n  /** * Local functions ***/\n  function parseTrackingEvents(trackingEvents, duration) {\n    var trackings = [];\n\n    if (utilities.isDefined(trackingEvents)) {\n      trackingEvents = utilities.isArray(trackingEvents) ? trackingEvents : [trackingEvents];\n      trackingEvents.forEach(function (trackingData) {\n        trackings.push(new TrackingEvent(trackingData, duration));\n      });\n    }\n\n    return trackings;\n  }\n\n  function parseMediaFiles(mediaFilesJxonTree) {\n    var mediaFiles = [];\n\n    if (utilities.isDefined(mediaFilesJxonTree)) {\n      mediaFilesJxonTree = utilities.isArray(mediaFilesJxonTree) ? mediaFilesJxonTree : [mediaFilesJxonTree];\n\n      mediaFilesJxonTree.forEach(function (mfData) {\n        mediaFiles.push(new MediaFile(mfData));\n      });\n    }\n\n    return mediaFiles;\n  }\n}\n\n/**\n * Must return true if at least one of the MediaFiles' type is supported\n */\nLinear.prototype.isSupported = function () {\n  var i = void 0,\n      len = void 0;\n\n  for (i = 0, len = this.mediaFiles.length; i < len; i += 1) {\n    if (this.mediaFiles[i].isSupported()) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\nmodule.exports = Linear;\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar xml = __webpack_require__(2);\nvar parsers = __webpack_require__(23);\n\nfunction TrackingEvent(trackingJTree, duration) {\n  if (!(this instanceof TrackingEvent)) {\n    return new TrackingEvent(trackingJTree, duration);\n  }\n\n  this.name = trackingJTree.attr('event');\n  this.uri = xml.keyValue(trackingJTree);\n\n  if ('progress' === this.name) {\n    this.offset = parsers.offset(trackingJTree.attr('offset'), duration);\n  }\n}\n\nmodule.exports = TrackingEvent;\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utilities = __webpack_require__(0);\nvar VASTError = __webpack_require__(3);\nvar VASTResponse = __webpack_require__(8);\nvar vastUtil = __webpack_require__(4);\n\nfunction VASTTracker(assetURI, vastResponse) {\n  if (!(this instanceof VASTTracker)) {\n    return new VASTTracker(assetURI, vastResponse);\n  }\n\n  this.sanityCheck(assetURI, vastResponse);\n  this.initialize(assetURI, vastResponse);\n}\n\nVASTTracker.prototype.initialize = function (assetURI, vastResponse) {\n  this.response = vastResponse;\n  this.assetURI = assetURI;\n  this.progress = 0;\n  this.quartiles = {\n    firstQuartile: { tracked: false, time: Math.round(25 * vastResponse.duration) / 100 },\n    midpoint: { tracked: false, time: Math.round(50 * vastResponse.duration) / 100 },\n    thirdQuartile: { tracked: false, time: Math.round(75 * vastResponse.duration) / 100 }\n  };\n};\n\nVASTTracker.prototype.sanityCheck = function (assetURI, vastResponse) {\n  if (!utilities.isString(assetURI) || utilities.isEmptyString(assetURI)) {\n    throw new VASTError('on VASTTracker constructor, missing required the URI of the ad asset being played');\n  }\n\n  if (!(vastResponse instanceof VASTResponse)) {\n    throw new VASTError('on VASTTracker constructor, missing required VAST response');\n  }\n};\n\nVASTTracker.prototype.trackURLs = function trackURLs(urls, variables) {\n  if (utilities.isArray(urls) && urls.length > 0) {\n    variables = utilities.extend({\n      ASSETURI: this.assetURI,\n      CONTENTPLAYHEAD: vastUtil.formatProgress(this.progress)\n    }, variables || {});\n\n    vastUtil.track(urls, variables);\n  }\n};\n\nVASTTracker.prototype.trackEvent = function trackEvent(eventName, trackOnce) {\n  this.trackURLs(getEventUris(this.response.trackingEvents[eventName]));\n  if (trackOnce) {\n    this.response.trackingEvents[eventName] = undefined;\n  }\n\n  /** * Local function ***/\n  function getEventUris(trackingEvents) {\n    var uris = void 0;\n\n    if (trackingEvents) {\n      uris = [];\n      trackingEvents.forEach(function (event) {\n        if (!event.uri) {\n          return;\n        }\n\n        uris.push(event.uri);\n      });\n    }\n\n    return uris;\n  }\n};\n\nVASTTracker.prototype.trackProgress = function trackProgress(newProgressInMs) {\n  var that = this;\n  var events = [];\n  var ONCE = true;\n  var ALWAYS = false;\n  var trackingEvents = this.response.trackingEvents;\n\n  if (utilities.isNumber(newProgressInMs)) {\n    addTrackEvent('start', ONCE, newProgressInMs > 0);\n    addTrackEvent('rewind', ALWAYS, hasRewound(this.progress, newProgressInMs));\n    addQuartileEvents(newProgressInMs);\n    trackProgressEvents(newProgressInMs);\n    trackEvents();\n    this.progress = newProgressInMs;\n  }\n\n  /** * Local function ***/\n  function hasRewound(currentProgress, newProgress) {\n    var REWIND_THRESHOLD = 3000; // IOS video clock is very unreliable and we need a 3 seconds threshold to ensure that there was a rewind an that it was on purpose.\n\n    return currentProgress > newProgressInMs && Math.abs(newProgress - currentProgress) > REWIND_THRESHOLD;\n  }\n\n  function addTrackEvent(eventName, trackOnce, canBeAdded) {\n    if (trackingEvents[eventName] && canBeAdded) {\n      events.push({\n        name: eventName,\n        trackOnce: Boolean(trackOnce)\n      });\n    }\n  }\n\n  function addQuartileEvents(progress) {\n    var quartiles = that.quartiles;\n    var firstQuartile = that.quartiles.firstQuartile;\n    var midpoint = that.quartiles.midpoint;\n    var thirdQuartile = that.quartiles.thirdQuartile;\n\n    if (!firstQuartile.tracked) {\n      trackQuartile('firstQuartile', progress);\n    } else if (!midpoint.tracked) {\n      trackQuartile('midpoint', progress);\n    } else if (!thirdQuartile.tracked) {\n      trackQuartile('thirdQuartile', progress);\n    }\n\n    /** * Local function ***/\n    function trackQuartile(quartileName, progress) {\n      var quartile = quartiles[quartileName];\n\n      if (canBeTracked(quartile, progress)) {\n        quartile.tracked = true;\n        addTrackEvent(quartileName, ONCE, true);\n      }\n    }\n  }\n\n  function canBeTracked(quartile, progress) {\n    var quartileTime = quartile.time;\n\n    // We only fire the quartile event if the progress is bigger than the quartile time by 5 seconds at most.\n    return progress >= quartileTime && progress <= quartileTime + 5000;\n  }\n\n  function trackProgressEvents(progress) {\n    if (!utilities.isArray(trackingEvents.progress)) {\n      return; // Nothing to track\n    }\n\n    var pendingProgressEvts = [];\n\n    trackingEvents.progress.forEach(function (evt) {\n      if (evt.offset <= progress) {\n        that.trackURLs([evt.uri]);\n      } else {\n        pendingProgressEvts.push(evt);\n      }\n    });\n    trackingEvents.progress = pendingProgressEvts;\n  }\n\n  function trackEvents() {\n    events.forEach(function (event) {\n      that.trackEvent(event.name, event.trackOnce);\n    });\n  }\n};\n\n['rewind', 'fullscreen', 'exitFullscreen', 'pause', 'resume', 'mute', 'unmute', 'acceptInvitation', 'acceptInvitationLinear', 'collapse', 'expand'].forEach(function (eventName) {\n  VASTTracker.prototype['track' + utilities.capitalize(eventName)] = function () {\n    this.trackEvent(eventName);\n  };\n});\n\n['start', 'skip', 'close', 'closeLinear'].forEach(function (eventName) {\n  VASTTracker.prototype['track' + utilities.capitalize(eventName)] = function () {\n    this.trackEvent(eventName, true);\n  };\n});\n\n['firstQuartile', 'midpoint', 'thirdQuartile'].forEach(function (quartile) {\n  VASTTracker.prototype['track' + utilities.capitalize(quartile)] = function () {\n    this.quartiles[quartile].tracked = true;\n    this.trackEvent(quartile, true);\n  };\n});\n\nVASTTracker.prototype.trackComplete = function () {\n  if (this.quartiles.thirdQuartile.tracked) {\n    this.trackEvent('complete', true);\n  }\n};\n\nVASTTracker.prototype.trackErrorWithCode = function trackErrorWithCode(errorcode) {\n  if (utilities.isNumber(errorcode)) {\n    this.trackURLs(this.response.errorURLMacros, { ERRORCODE: errorcode });\n  }\n};\n\nVASTTracker.prototype.trackImpressions = function trackImpressions() {\n  this.trackURLs(this.response.impressions);\n};\n\nVASTTracker.prototype.trackCreativeView = function trackCreativeView() {\n  this.trackEvent('creativeView');\n};\n\nVASTTracker.prototype.trackClick = function trackClick() {\n  this.trackURLs(this.response.clickTrackings);\n};\n\nmodule.exports = VASTTracker;\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utilities = __webpack_require__(0);\nvar xml = __webpack_require__(2);\n\nfunction VideoClicks(videoClickJTree) {\n  if (!(this instanceof VideoClicks)) {\n    return new VideoClicks(videoClickJTree);\n  }\n\n  this.clickThrough = xml.keyValue(videoClickJTree.clickThrough);\n  this.clickTrackings = parseClickTrackings(videoClickJTree.clickTracking);\n  this.customClicks = parseClickTrackings(videoClickJTree.customClick);\n\n  /** * Local functions ***/\n  function parseClickTrackings(trackingData) {\n    var clickTrackings = [];\n\n    if (trackingData) {\n      trackingData = utilities.isArray(trackingData) ? trackingData : [trackingData];\n      trackingData.forEach(function (clickTrackingData) {\n        clickTrackings.push(xml.keyValue(clickTrackingData));\n      });\n    }\n\n    return clickTrackings;\n  }\n}\n\nmodule.exports = VideoClicks;\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utilities = __webpack_require__(0);\nvar xml = __webpack_require__(2);\nvar vastUtil = __webpack_require__(4);\nvar Creative = __webpack_require__(16);\n\nfunction Wrapper(wrapperJTree) {\n  if (!(this instanceof Wrapper)) {\n    return new Wrapper(wrapperJTree);\n  }\n\n  // Required elements\n  this.adSystem = xml.keyValue(wrapperJTree.adSystem);\n  this.impressions = vastUtil.parseImpressions(wrapperJTree.impression);\n  this.VASTAdTagURI = xml.keyValue(wrapperJTree.vASTAdTagURI);\n\n  // Optional elements\n  this.creatives = Creative.parseCreatives(wrapperJTree.creatives);\n  this.error = xml.keyValue(wrapperJTree.error);\n  this.extensions = wrapperJTree.extensions;\n\n  // Optional attrs\n  this.followAdditionalWrappers = utilities.isDefined(xml.attr(wrapperJTree, 'followAdditionalWrappers')) ? xml.attr(wrapperJTree, 'followAdditionalWrappers') : true;\n  this.allowMultipleAds = xml.attr(wrapperJTree, 'allowMultipleAds');\n  this.fallbackOnNoAd = xml.attr(wrapperJTree, 'fallbackOnNoAd');\n}\n\nmodule.exports = Wrapper;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utilities = __webpack_require__(0);\n\nvar durationRegex = /(\\d\\d):(\\d\\d):(\\d\\d)(\\.(\\d\\d\\d))?/;\n\nvar parsers = {\n\n  duration: function parseDuration(durationStr) {\n    var match = void 0,\n        durationInMs = void 0;\n\n    if (utilities.isString(durationStr)) {\n      match = durationStr.match(durationRegex);\n      if (match) {\n        durationInMs = parseHoursToMs(match[1]) + parseMinToMs(match[2]) + parseSecToMs(match[3]) + parseInt(match[5] || 0, 10);\n      }\n    }\n\n    return isNaN(durationInMs) ? null : durationInMs;\n\n    /** * local functions ***/\n    function parseHoursToMs(hourStr) {\n      return parseInt(hourStr, 10) * 60 * 60 * 1000;\n    }\n\n    function parseMinToMs(minStr) {\n      return parseInt(minStr, 10) * 60 * 1000;\n    }\n\n    function parseSecToMs(secStr) {\n      return parseInt(secStr, 10) * 1000;\n    }\n  },\n\n  offset: function parseOffset(offset, duration) {\n    if (isPercentage(offset)) {\n      return calculatePercentage(offset, duration);\n    }\n\n    return parsers.duration(offset);\n\n    /** * Local function ***/\n    function isPercentage(offset) {\n      var percentageRegex = /^\\d+(\\.\\d+)?%$/g;\n\n      return percentageRegex.test(offset);\n    }\n\n    function calculatePercentage(percentStr, duration) {\n      if (duration) {\n        return calcPercent(duration, parseFloat(percentStr.replace('%', '')));\n      }\n\n      return null;\n    }\n\n    function calcPercent(quantity, percent) {\n      return quantity * percent / 100;\n    }\n  }\n\n};\n\nmodule.exports = parsers;\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utilities = __webpack_require__(0);\n\n/**\n *\n * IMPORTANT NOTE: This function comes from angularJs and was originally called urlResolve\n *                 you can take a look at the original code here https://github.com/angular/angular.js/blob/master/src/ng/urlUtils.js\n *\n * Implementation Notes for non-IE browsers\n * ----------------------------------------\n * Assigning a URL to the href property of an anchor DOM node, even one attached to the DOM,\n * results both in the normalizing and parsing of the URL.  Normalizing means that a relative\n * URL will be resolved into an absolute URL in the context of the application document.\n * Parsing means that the anchor node's host, hostname, protocol, port, pathname and related\n * properties are all populated to reflect the normalized URL.  This approach has wide\n * compatibility - Safari 1+, Mozilla 1+, Opera 7+,e etc.  See\n * http://www.aptana.com/reference/html/api/HTMLAnchorElement.html\n *\n * Implementation Notes for IE\n * ---------------------------\n * IE >= 8 and <= 10 normalizes the URL when assigned to the anchor node similar to the other\n * browsers.  However, the parsed components will not be set if the URL assigned did not specify\n * them.  (e.g. if you assign a.href = \"foo\", then a.protocol, a.host, etc. will be empty.)  We\n * work around that by performing the parsing in a 2nd step by taking a previously normalized\n * URL (e.g. by assigning to a.href) and assigning it a.href again.  This correctly populates the\n * properties such as protocol, hostname, port, etc.\n *\n * IE7 does not normalize the URL when assigned to an anchor node.  (Apparently, it does, if one\n * uses the inner HTML approach to assign the URL as part of an HTML snippet -\n * http://stackoverflow.com/a/472729)  However, setting img[src] does normalize the URL.\n * Unfortunately, setting img[src] to something like \"javascript:foo\" on IE throws an exception.\n * Since the primary usage for normalizing URLs is to sanitize such URLs, we can't use that\n * method and IE < 8 is unsupported.\n *\n * References:\n *   http://developer.mozilla.org/en-US/docs/Web/API/HTMLAnchorElement\n *   http://www.aptana.com/reference/html/api/HTMLAnchorElement.html\n *   http://url.spec.whatwg.org/#urlutils\n *   https://github.com/angular/angular.js/pull/2902\n *   http://james.padolsey.com/javascript/parsing-urls-with-the-dom/\n *\n * @kind function\n * @param {string} url The URL to be parsed.\n * @description Normalizes and parses a URL.\n * @returns {object} Returns the normalized URL as a dictionary.\n *\n *   | member name   | Description    |\n *   |---------------|----------------|\n *   | href          | A normalized version of the provided URL if it was not an absolute URL |\n *   | protocol      | The protocol including the trailing colon                              |\n *   | host          | The host and port (if the port is non-default) of the normalizedUrl    |\n *   | search        | The search params, minus the question mark                             |\n *   | hash          | The hash string, minus the hash symbol\n *   | hostname      | The hostname\n *   | port          | The port, without \":\"\n *   | pathname      | The pathname, beginning with \"/\"\n *\n */\n\nvar urlParsingNode = document.createElement('a');\n\n/**\n * documentMode is an IE-only property\n * http://msdn.microsoft.com/en-us/library/ie/cc196988(v=vs.85).aspx\n */\nvar msie = document.documentMode;\n\nfunction urlParts(url) {\n  var href = url;\n\n  if (msie) {\n    // Normalize before parse.  Refer Implementation Notes on why this is\n    // done in two steps on IE.\n    urlParsingNode.setAttribute('href', href);\n    href = urlParsingNode.href;\n  }\n\n  urlParsingNode.setAttribute('href', href);\n\n  // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n  return {\n    href: urlParsingNode.href,\n    protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n    host: urlParsingNode.host,\n    search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n    hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n    hostname: urlParsingNode.hostname,\n    port: utilities.isNotEmptyString(urlParsingNode.port) ? urlParsingNode.port : 80,\n    pathname: urlParsingNode.pathname.charAt(0) === '/' ? urlParsingNode.pathname : '/' + urlParsingNode.pathname\n  };\n}\n\n/**\n * This function accepts a query string (search part of a url) and returns a dictionary with\n * the different key value pairs\n * @param {string} qs queryString\n */\nfunction queryStringToObj(qs, cond) {\n  var pairs = void 0,\n      qsObj = void 0;\n\n  cond = utilities.isFunction(cond) ? cond : function () {\n    return true;\n  };\n\n  qs = qs.trim().replace(/^\\?/, '');\n  pairs = qs.split('&');\n  qsObj = {};\n\n  utilities.forEach(pairs, function (pair) {\n    var keyValue = void 0,\n        key = void 0,\n        value = void 0;\n\n    if (pair !== '') {\n      keyValue = pair.split('=');\n      key = keyValue[0];\n      value = keyValue[1];\n      if (cond(key, value)) {\n        qsObj[key] = value;\n      }\n    }\n  });\n\n  return qsObj;\n}\n\n/**\n * This function accepts an object and serializes it into a query string without the leading '?'\n * @param obj\n * @returns {string}\n */\nfunction objToQueryString(obj) {\n  var pairs = [];\n\n  utilities.forEach(obj, function (value, key) {\n    pairs.push(key + '=' + value);\n  });\n\n  return pairs.join('&');\n}\n\nmodule.exports = {\n  urlParts: urlParts,\n  queryStringToObj: queryStringToObj,\n  objToQueryString: objToQueryString\n};\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports) {\n\n/*\tSWFObject v2.2 <http://code.google.com/p/swfobject/> \n\tis released under the MIT License <http://www.opensource.org/licenses/mit-license.php> \n*/\nvar swfobject=function(){var D=\"undefined\",r=\"object\",S=\"Shockwave Flash\",W=\"ShockwaveFlash.ShockwaveFlash\",q=\"application/x-shockwave-flash\",R=\"SWFObjectExprInst\",x=\"onreadystatechange\",O=window,j=document,t=navigator,T=false,U=[h],o=[],N=[],I=[],l,Q,E,B,J=false,a=false,n,G,m=true,M=function(){var aa=typeof j.getElementById!=D&&typeof j.getElementsByTagName!=D&&typeof j.createElement!=D,ah=t.userAgent.toLowerCase(),Y=t.platform.toLowerCase(),ae=Y?/win/.test(Y):/win/.test(ah),ac=Y?/mac/.test(Y):/mac/.test(ah),af=/webkit/.test(ah)?parseFloat(ah.replace(/^.*webkit\\/(\\d+(\\.\\d+)?).*$/,\"$1\")):false,X=!+\"\\v1\",ag=[0,0,0],ab=null;if(typeof t.plugins!=D&&typeof t.plugins[S]==r){ab=t.plugins[S].description;if(ab&&!(typeof t.mimeTypes!=D&&t.mimeTypes[q]&&!t.mimeTypes[q].enabledPlugin)){T=true;X=false;ab=ab.replace(/^.*\\s+(\\S+\\s+\\S+$)/,\"$1\");ag[0]=parseInt(ab.replace(/^(.*)\\..*$/,\"$1\"),10);ag[1]=parseInt(ab.replace(/^.*\\.(.*)\\s.*$/,\"$1\"),10);ag[2]=/[a-zA-Z]/.test(ab)?parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/,\"$1\"),10):0}}else{if(typeof O[(['Active'].concat('Object').join('X'))]!=D){try{var ad=new window[(['Active'].concat('Object').join('X'))](W);if(ad){ab=ad.GetVariable(\"$version\");if(ab){X=true;ab=ab.split(\" \")[1].split(\",\");ag=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}}catch(Z){}}}return{w3:aa,pv:ag,wk:af,ie:X,win:ae,mac:ac}}(),k=function(){if(!M.w3){return}if((typeof j.readyState!=D&&j.readyState==\"complete\")||(typeof j.readyState==D&&(j.getElementsByTagName(\"body\")[0]||j.body))){f()}if(!J){if(typeof j.addEventListener!=D){j.addEventListener(\"DOMContentLoaded\",f,false)}if(M.ie&&M.win){j.attachEvent(x,function(){if(j.readyState==\"complete\"){j.detachEvent(x,arguments.callee);f()}});if(O==top){(function(){if(J){return}try{j.documentElement.doScroll(\"left\")}catch(X){setTimeout(arguments.callee,0);return}f()})()}}if(M.wk){(function(){if(J){return}if(!/loaded|complete/.test(j.readyState)){setTimeout(arguments.callee,0);return}f()})()}s(f)}}();function f(){if(J){return}try{var Z=j.getElementsByTagName(\"body\")[0].appendChild(C(\"span\"));Z.parentNode.removeChild(Z)}catch(aa){return}J=true;var X=U.length;for(var Y=0;Y<X;Y++){U[Y]()}}function K(X){if(J){X()}else{U[U.length]=X}}function s(Y){if(typeof O.addEventListener!=D){O.addEventListener(\"load\",Y,false)}else{if(typeof j.addEventListener!=D){j.addEventListener(\"load\",Y,false)}else{if(typeof O.attachEvent!=D){i(O,\"onload\",Y)}else{if(typeof O.onload==\"function\"){var X=O.onload;O.onload=function(){X();Y()}}else{O.onload=Y}}}}}function h(){if(T){V()}else{H()}}function V(){var X=j.getElementsByTagName(\"body\")[0];var aa=C(r);aa.setAttribute(\"type\",q);var Z=X.appendChild(aa);if(Z){var Y=0;(function(){if(typeof Z.GetVariable!=D){var ab=Z.GetVariable(\"$version\");if(ab){ab=ab.split(\" \")[1].split(\",\");M.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}else{if(Y<10){Y++;setTimeout(arguments.callee,10);return}}X.removeChild(aa);Z=null;H()})()}else{H()}}function H(){var ag=o.length;if(ag>0){for(var af=0;af<ag;af++){var Y=o[af].id;var ab=o[af].callbackFn;var aa={success:false,id:Y};if(M.pv[0]>0){var ae=c(Y);if(ae){if(F(o[af].swfVersion)&&!(M.wk&&M.wk<312)){w(Y,true);if(ab){aa.success=true;aa.ref=z(Y);ab(aa)}}else{if(o[af].expressInstall&&A()){var ai={};ai.data=o[af].expressInstall;ai.width=ae.getAttribute(\"width\")||\"0\";ai.height=ae.getAttribute(\"height\")||\"0\";if(ae.getAttribute(\"class\")){ai.styleclass=ae.getAttribute(\"class\")}if(ae.getAttribute(\"align\")){ai.align=ae.getAttribute(\"align\")}var ah={};var X=ae.getElementsByTagName(\"param\");var ac=X.length;for(var ad=0;ad<ac;ad++){if(X[ad].getAttribute(\"name\").toLowerCase()!=\"movie\"){ah[X[ad].getAttribute(\"name\")]=X[ad].getAttribute(\"value\")}}P(ai,ah,Y,ab)}else{p(ae);if(ab){ab(aa)}}}}}else{w(Y,true);if(ab){var Z=z(Y);if(Z&&typeof Z.SetVariable!=D){aa.success=true;aa.ref=Z}ab(aa)}}}}}function z(aa){var X=null;var Y=c(aa);if(Y&&Y.nodeName==\"OBJECT\"){if(typeof Y.SetVariable!=D){X=Y}else{var Z=Y.getElementsByTagName(r)[0];if(Z){X=Z}}}return X}function A(){return !a&&F(\"6.0.65\")&&(M.win||M.mac)&&!(M.wk&&M.wk<312)}function P(aa,ab,X,Z){a=true;E=Z||null;B={success:false,id:X};var ae=c(X);if(ae){if(ae.nodeName==\"OBJECT\"){l=g(ae);Q=null}else{l=ae;Q=X}aa.id=R;if(typeof aa.width==D||(!/%$/.test(aa.width)&&parseInt(aa.width,10)<310)){aa.width=\"310\"}if(typeof aa.height==D||(!/%$/.test(aa.height)&&parseInt(aa.height,10)<137)){aa.height=\"137\"}j.title=j.title.slice(0,47)+\" - Flash Player Installation\";var ad=M.ie&&M.win?(['Active'].concat('').join('X')):\"PlugIn\",ac=\"MMredirectURL=\"+O.location.toString().replace(/&/g,\"%26\")+\"&MMplayerType=\"+ad+\"&MMdoctitle=\"+j.title;if(typeof ab.flashvars!=D){ab.flashvars+=\"&\"+ac}else{ab.flashvars=ac}if(M.ie&&M.win&&ae.readyState!=4){var Y=C(\"div\");X+=\"SWFObjectNew\";Y.setAttribute(\"id\",X);ae.parentNode.insertBefore(Y,ae);ae.style.display=\"none\";(function(){if(ae.readyState==4){ae.parentNode.removeChild(ae)}else{setTimeout(arguments.callee,10)}})()}u(aa,ab,X)}}function p(Y){if(M.ie&&M.win&&Y.readyState!=4){var X=C(\"div\");Y.parentNode.insertBefore(X,Y);X.parentNode.replaceChild(g(Y),X);Y.style.display=\"none\";(function(){if(Y.readyState==4){Y.parentNode.removeChild(Y)}else{setTimeout(arguments.callee,10)}})()}else{Y.parentNode.replaceChild(g(Y),Y)}}function g(ab){var aa=C(\"div\");if(M.win&&M.ie){aa.innerHTML=ab.innerHTML}else{var Y=ab.getElementsByTagName(r)[0];if(Y){var ad=Y.childNodes;if(ad){var X=ad.length;for(var Z=0;Z<X;Z++){if(!(ad[Z].nodeType==1&&ad[Z].nodeName==\"PARAM\")&&!(ad[Z].nodeType==8)){aa.appendChild(ad[Z].cloneNode(true))}}}}}return aa}function u(ai,ag,Y){var X,aa=c(Y);if(M.wk&&M.wk<312){return X}if(aa){if(typeof ai.id==D){ai.id=Y}if(M.ie&&M.win){var ah=\"\";for(var ae in ai){if(ai[ae]!=Object.prototype[ae]){if(ae.toLowerCase()==\"data\"){ag.movie=ai[ae]}else{if(ae.toLowerCase()==\"styleclass\"){ah+=' class=\"'+ai[ae]+'\"'}else{if(ae.toLowerCase()!=\"classid\"){ah+=\" \"+ae+'=\"'+ai[ae]+'\"'}}}}}var af=\"\";for(var ad in ag){if(ag[ad]!=Object.prototype[ad]){af+='<param name=\"'+ad+'\" value=\"'+ag[ad]+'\" />'}}aa.outerHTML='<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"'+ah+\">\"+af+\"</object>\";N[N.length]=ai.id;X=c(ai.id)}else{var Z=C(r);Z.setAttribute(\"type\",q);for(var ac in ai){if(ai[ac]!=Object.prototype[ac]){if(ac.toLowerCase()==\"styleclass\"){Z.setAttribute(\"class\",ai[ac])}else{if(ac.toLowerCase()!=\"classid\"){Z.setAttribute(ac,ai[ac])}}}}for(var ab in ag){if(ag[ab]!=Object.prototype[ab]&&ab.toLowerCase()!=\"movie\"){e(Z,ab,ag[ab])}}aa.parentNode.replaceChild(Z,aa);X=Z}}return X}function e(Z,X,Y){var aa=C(\"param\");aa.setAttribute(\"name\",X);aa.setAttribute(\"value\",Y);Z.appendChild(aa)}function y(Y){var X=c(Y);if(X&&X.nodeName==\"OBJECT\"){if(M.ie&&M.win){X.style.display=\"none\";(function(){if(X.readyState==4){b(Y)}else{setTimeout(arguments.callee,10)}})()}else{X.parentNode.removeChild(X)}}}function b(Z){var Y=c(Z);if(Y){for(var X in Y){if(typeof Y[X]==\"function\"){Y[X]=null}}Y.parentNode.removeChild(Y)}}function c(Z){var X=null;try{X=j.getElementById(Z)}catch(Y){}return X}function C(X){return j.createElement(X)}function i(Z,X,Y){Z.attachEvent(X,Y);I[I.length]=[Z,X,Y]}function F(Z){var Y=M.pv,X=Z.split(\".\");X[0]=parseInt(X[0],10);X[1]=parseInt(X[1],10)||0;X[2]=parseInt(X[2],10)||0;return(Y[0]>X[0]||(Y[0]==X[0]&&Y[1]>X[1])||(Y[0]==X[0]&&Y[1]==X[1]&&Y[2]>=X[2]))?true:false}function v(ac,Y,ad,ab){if(M.ie&&M.mac){return}var aa=j.getElementsByTagName(\"head\")[0];if(!aa){return}var X=(ad&&typeof ad==\"string\")?ad:\"screen\";if(ab){n=null;G=null}if(!n||G!=X){var Z=C(\"style\");Z.setAttribute(\"type\",\"text/css\");Z.setAttribute(\"media\",X);n=aa.appendChild(Z);if(M.ie&&M.win&&typeof j.styleSheets!=D&&j.styleSheets.length>0){n=j.styleSheets[j.styleSheets.length-1]}G=X}if(M.ie&&M.win){if(n&&typeof n.addRule==r){n.addRule(ac,Y)}}else{if(n&&typeof j.createTextNode!=D){n.appendChild(j.createTextNode(ac+\" {\"+Y+\"}\"))}}}function w(Z,X){if(!m){return}var Y=X?\"visible\":\"hidden\";if(J&&c(Z)){c(Z).style.visibility=Y}else{v(\"#\"+Z,\"visibility:\"+Y)}}function L(Y){var Z=/[\\\\\\\"<>\\.;]/;var X=Z.exec(Y)!=null;return X&&typeof encodeURIComponent!=D?encodeURIComponent(Y):Y}var d=function(){if(M.ie&&M.win){window.attachEvent(\"onunload\",function(){var ac=I.length;for(var ab=0;ab<ac;ab++){I[ab][0].detachEvent(I[ab][1],I[ab][2])}var Z=N.length;for(var aa=0;aa<Z;aa++){y(N[aa])}for(var Y in M){M[Y]=null}M=null;for(var X in swfobject){swfobject[X]=null}swfobject=null})}}();return{registerObject:function(ab,X,aa,Z){if(M.w3&&ab&&X){var Y={};Y.id=ab;Y.swfVersion=X;Y.expressInstall=aa;Y.callbackFn=Z;o[o.length]=Y;w(ab,false)}else{if(Z){Z({success:false,id:ab})}}},getObjectById:function(X){if(M.w3){return z(X)}},embedSWF:function(ab,ah,ae,ag,Y,aa,Z,ad,af,ac){var X={success:false,id:ah};if(M.w3&&!(M.wk&&M.wk<312)&&ab&&ah&&ae&&ag&&Y){w(ah,false);K(function(){ae+=\"\";ag+=\"\";var aj={};if(af&&typeof af===r){for(var al in af){aj[al]=af[al]}}aj.data=ab;aj.width=ae;aj.height=ag;var am={};if(ad&&typeof ad===r){for(var ak in ad){am[ak]=ad[ak]}}if(Z&&typeof Z===r){for(var ai in Z){if(typeof am.flashvars!=D){am.flashvars+=\"&\"+ai+\"=\"+Z[ai]}else{am.flashvars=ai+\"=\"+Z[ai]}}}if(F(Y)){var an=u(aj,am,ah);if(aj.id==ah){w(ah,true)}X.success=true;X.ref=an}else{if(aa&&A()){aj.data=aa;P(aj,am,ah,ac);return}else{w(ah,true)}}if(ac){ac(X)}})}else{if(ac){ac(X)}}},switchOffAutoHideShow:function(){m=false},ua:M,getFlashPlayerVersion:function(){return{major:M.pv[0],minor:M.pv[1],release:M.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(Z,Y,X){if(M.w3){return u(Z,Y,X)}else{return undefined}},showExpressInstall:function(Z,aa,X,Y){if(M.w3&&A()){P(Z,aa,X,Y)}},removeSWF:function(X){if(M.w3){y(X)}},createCSS:function(aa,Z,Y,X){if(M.w3){v(aa,Z,Y,X)}},addDomLoadEvent:K,addLoadEvent:s,getQueryParamValue:function(aa){var Z=j.location.search||j.location.hash;if(Z){if(/\\?/.test(Z)){Z=Z.split(\"?\")[1]}if(aa==null){return L(Z)}var Y=Z.split(\"&\");for(var X=0;X<Y.length;X++){if(Y[X].substring(0,Y[X].indexOf(\"=\"))==aa){return L(Y[X].substring((Y[X].indexOf(\"=\")+1)))}}}return\"\"},expressInstallCallback:function(){if(a){var X=c(R);if(X&&l){X.parentNode.replaceChild(l,X);if(Q){w(Q,true);if(M.ie&&M.win){l.style.display=\"block\"}}if(E){E(B)}}a=false}}}}();module.exports=swfobject;\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar VASTClient = __webpack_require__(38);\nvar VASTError = __webpack_require__(3);\nvar vastUtil = __webpack_require__(4);\nvar VASTIntegrator = __webpack_require__(39);\nvar VPAIDIntegrator = __webpack_require__(43);\nvar async = __webpack_require__(9);\nvar dom = __webpack_require__(6);\nvar playerUtils = __webpack_require__(11);\nvar utilities = __webpack_require__(0);\nvar logger = __webpack_require__(5);\n\nmodule.exports = function VASTPlugin(options) {\n  var snapshot = void 0;\n  var player = this;\n  var vast = new VASTClient();\n  var adsCanceled = false;\n  var defaultOpts = {\n    // maximum amount of time in ms to wait to receive `adsready` from the ad\n    // implementation after play has been requested. Ad implementations are\n    // expected to load any dynamic libraries and make any requests to determine\n    // ad policies for a video during this time.\n    timeout: 500,\n\n    // Whenever you play an add on IOS, the native player kicks in and we loose control of it. On very heavy pages the 'play' event\n    // May occur after the video content has already started. This is wrong if you want to play a preroll ad that needs to happen before the user\n    // starts watching the content. To prevent this usec\n    iosPrerollCancelTimeout: 2000,\n\n    // maximun amount of time for the ad to actually start playing. If this timeout gets\n    // triggered the ads will be cancelled\n    adCancelTimeout: 3000,\n\n    // Boolean flag that configures the player to play a new ad before the user sees the video again\n    // the current video\n    playAdAlways: false,\n\n    // Flag to enable or disable the ads by default.\n    adsEnabled: true,\n\n    // Boolean flag to enable or disable the resize with window.resize or orientationchange\n    autoResize: true,\n\n    // Path to the VPAID flash ad's loader\n    vpaidFlashLoaderPath: '/VPAIDFlash.swf',\n\n    // verbosity of console logging:\n    // 0 - error\n    // 1 - error, warn\n    // 2 - error, warn, info\n    // 3 - error, warn, info, log\n    // 4 - error, warn, info, log, debug\n    verbosity: 0\n  };\n\n  var settings = utilities.extend({}, defaultOpts, options || {});\n\n  if (utilities.isUndefined(settings.getAdTag) && utilities.isDefined(settings.adTag)) {\n    settings.getAdTag = function (callback) {\n      return callback(null, settings.adTag);\n    };\n  }\n\n  if (utilities.isDefined(settings.adTagXML) && !utilities.isFunction(settings.adTagXML)) {\n    return trackAdError(new VASTError('on VideoJS VAST plugin, the passed adTagXML option does not contain a function'));\n  }\n\n  if (!utilities.isFunction(settings.adTagXML) && !utilities.isFunction(settings.getAdTag)) {\n    return trackAdError(new VASTError('on VideoJS VAST plugin, missing adTag on options object'));\n  }\n\n  logger.setVerbosity(settings.verbosity);\n\n  vastUtil.runFlashSupportCheck(settings.vpaidFlashLoaderPath); // Necessary step for VPAIDFLASHClient to work.\n\n  playerUtils.prepareForAds(player);\n\n  if (settings.playAdAlways) {\n    // No matter what happens we play a new ad before the user sees the video again.\n    player.on('vast.contentEnd', function () {\n      setTimeout(function () {\n        player.trigger('vast.reset');\n      }, 0);\n    });\n  }\n\n  player.on('vast.firstPlay', tryToPlayPrerollAd);\n\n  player.on('vast.reset', function () {\n    // If we are reseting the plugin, we don't want to restore the content\n    snapshot = null;\n    cancelAds();\n  });\n\n  player.vast = {\n    isEnabled: function isEnabled() {\n      return settings.adsEnabled;\n    },\n\n    enable: function enable() {\n      settings.adsEnabled = true;\n    },\n\n    disable: function disable() {\n      settings.adsEnabled = false;\n    }\n  };\n\n  return player.vast;\n\n  /** ** Local functions ****/\n  function tryToPlayPrerollAd() {\n    // We remove the poster to prevent flickering whenever the content starts playing\n    playerUtils.removeNativePoster(player);\n\n    playerUtils.once(player, ['vast.adsCancel', 'vast.adEnd'], function () {\n      removeAdUnit();\n      restoreVideoContent();\n    });\n\n    async.waterfall([checkAdsEnabled, preparePlayerForAd, startAdCancelTimeout, playPrerollAd], function (error, response) {\n      if (error) {\n        trackAdError(error, response);\n      } else {\n        player.trigger('vast.adEnd');\n      }\n    });\n\n    /** * Local functions ***/\n\n    function removeAdUnit() {\n      if (player.vast && player.vast.adUnit) {\n        player.vast.adUnit = null; // We remove the adUnit\n      }\n    }\n\n    function restoreVideoContent() {\n      setupContentEvents();\n      if (snapshot) {\n        playerUtils.restorePlayerSnapshot(player, snapshot);\n        snapshot = null;\n      }\n    }\n\n    function setupContentEvents() {\n      playerUtils.once(player, ['playing', 'vast.reset', 'vast.firstPlay'], function (evt) {\n        if (evt.type !== 'playing') {\n          return;\n        }\n\n        player.trigger('vast.contentStart');\n\n        playerUtils.once(player, ['ended', 'vast.reset', 'vast.firstPlay'], function (evt) {\n          if (evt.type === 'ended') {\n            player.trigger('vast.contentEnd');\n          }\n        });\n      });\n    }\n\n    function checkAdsEnabled(next) {\n      if (settings.adsEnabled) {\n        return next(null);\n      }\n      next(new VASTError('Ads are not enabled'));\n    }\n\n    function preparePlayerForAd(next) {\n      if (canPlayPrerollAd()) {\n        snapshot = playerUtils.getPlayerSnapshot(player);\n        player.pause();\n        addSpinnerIcon();\n\n        if (player.paused()) {\n          next(null);\n        } else {\n          playerUtils.once(player, ['playing'], function () {\n            player.pause();\n            next(null);\n          });\n        }\n      } else {\n        next(new VASTError('video content has been playing before preroll ad'));\n      }\n    }\n\n    function canPlayPrerollAd() {\n      return !utilities.isIPhone() || player.currentTime() <= settings.iosPrerollCancelTimeout;\n    }\n\n    function startAdCancelTimeout(next) {\n      var adCancelTimeoutId = void 0;\n\n      adsCanceled = false;\n\n      adCancelTimeoutId = setTimeout(function () {\n        trackAdError(new VASTError('timeout while waiting for the video to start playing', 402));\n      }, settings.adCancelTimeout);\n\n      playerUtils.once(player, ['vast.adStart', 'vast.adsCancel'], clearAdCancelTimeout);\n\n      /** * local functions ***/\n      function clearAdCancelTimeout() {\n        if (adCancelTimeoutId) {\n          clearTimeout(adCancelTimeoutId);\n          adCancelTimeoutId = null;\n        }\n      }\n\n      next(null);\n    }\n\n    function addSpinnerIcon() {\n      dom.addClass(player.el(), 'vjs-vast-ad-loading');\n      playerUtils.once(player, ['vast.adStart', 'vast.adsCancel'], removeSpinnerIcon);\n    }\n\n    function removeSpinnerIcon() {\n      // IMPORTANT NOTE: We remove the spinnerIcon asynchronously to give time to the browser to start the video.\n      // If we remove it synchronously we see a flash of the content video before the ad starts playing.\n      setTimeout(function () {\n        dom.removeClass(player.el(), 'vjs-vast-ad-loading');\n      }, 100);\n    }\n  }\n\n  function cancelAds() {\n    player.trigger('vast.adsCancel');\n    adsCanceled = true;\n  }\n\n  function playPrerollAd(callback) {\n    async.waterfall([getVastResponse, playAd], callback);\n  }\n\n  function getVastResponse(callback) {\n    if (settings.getAdTag) {\n      return settings.getAdTag(function (error, adTag) {\n        if (error) {\n          return trackAdError(error);\n        }\n\n        return vast.getVASTResponse(adTag, callback);\n      });\n    }\n\n    vast.getVASTResponse(settings.adTagXML, callback);\n  }\n\n  function playAd(vastResponse, callback) {\n    // If the state is not 'preroll?' it means the ads were canceled therefore, we break the waterfall\n    if (adsCanceled) {\n      return;\n    }\n\n    var adIntegrator = isVPAID(vastResponse) ? new VPAIDIntegrator(player, settings) : new VASTIntegrator(player);\n    var adFinished = false;\n\n    playerUtils.once(player, ['vast.adStart', 'vast.adsCancel'], function (evt) {\n      if (evt.type === 'vast.adStart') {\n        addAdsLabel();\n      }\n    });\n\n    playerUtils.once(player, ['vast.adEnd', 'vast.adsCancel'], removeAdsLabel);\n\n    if (utilities.isIDevice()) {\n      preventManualProgress();\n    }\n\n    player.vast.vastResponse = vastResponse;\n    logger.debug('calling adIntegrator.playAd() with vastResponse:', vastResponse);\n    player.vast.adUnit = adIntegrator.playAd(vastResponse, callback);\n\n    /** * Local functions ****/\n    function addAdsLabel() {\n      if (adFinished || player.controlBar.getChild('AdsLabel')) {\n        return;\n      }\n\n      player.controlBar.addChild('AdsLabel');\n    }\n\n    function removeAdsLabel() {\n      player.controlBar.removeChild('AdsLabel');\n      adFinished = true;\n    }\n\n    function preventManualProgress() {\n      // IOS video clock is very unreliable and we need a 3 seconds threshold to ensure that the user forwarded/rewound the ad\n      var PROGRESS_THRESHOLD = 3;\n      var previousTime = 0;\n      var skipad_attempts = 0;\n\n      player.on('timeupdate', preventAdSeek);\n      player.on('ended', preventAdSkip);\n\n      playerUtils.once(player, ['vast.adEnd', 'vast.adsCancel', 'vast.adError'], stopPreventManualProgress);\n\n      /** * Local functions ***/\n      function preventAdSkip() {\n        // Ignore ended event if the Ad time was not 'near' the end\n        // and revert time to the previous 'valid' time\n        if (player.duration() - previousTime > PROGRESS_THRESHOLD) {\n          player.pause(true); // this reduce the video jitter if the IOS skip button is pressed\n          player.play(true); // we need to trigger the play to put the video element back in a valid state\n          player.currentTime(previousTime);\n        }\n      }\n\n      function preventAdSeek() {\n        var currentTime = player.currentTime();\n        var progressDelta = Math.abs(currentTime - previousTime);\n\n        if (progressDelta > PROGRESS_THRESHOLD) {\n          skipad_attempts += 1;\n          if (skipad_attempts >= 2) {\n            player.pause(true);\n          }\n          player.currentTime(previousTime);\n        } else {\n          previousTime = currentTime;\n        }\n      }\n\n      function stopPreventManualProgress() {\n        player.off('timeupdate', preventAdSeek);\n        player.off('ended', preventAdSkip);\n      }\n    }\n  }\n\n  function trackAdError(error, vastResponse) {\n    player.trigger({ type: 'vast.adError', error: error });\n    cancelAds();\n    logger.error('AD ERROR:', error.message, error, vastResponse);\n  }\n\n  function isVPAID(vastResponse) {\n    var i = void 0,\n        len = void 0;\n    var mediaFiles = vastResponse.mediaFiles;\n\n    for (i = 0, len = mediaFiles.length; i < len; i++) {\n      if (vastUtil.isVPAID(mediaFiles[i])) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n};\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(47);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(50)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js??ref--2-1!../../node_modules/autoprefixer-loader/index.js??ref--2-2!../../node_modules/resolve-url-loader/index.js!../../node_modules/sass-loader/index.js!./videojs.vast.vpaid.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js??ref--2-1!../../node_modules/autoprefixer-loader/index.js??ref--2-2!../../node_modules/resolve-url-loader/index.js!../../node_modules/sass-loader/index.js!./videojs.vast.vpaid.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n//simple representation of the API\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar IVPAIDAdUnit = exports.IVPAIDAdUnit = function () {\n    function IVPAIDAdUnit() {\n        _classCallCheck(this, IVPAIDAdUnit);\n    }\n\n    _createClass(IVPAIDAdUnit, [{\n        key: 'handshakeVersion',\n\n\n        //all methods below\n        //are async methods\n        value: function handshakeVersion() {\n            var playerVPAIDVersion = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '2.0';\n            var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n        }\n\n        //creativeData is an object to be consistent with VPAIDHTML\n\n    }, {\n        key: 'initAd',\n        value: function initAd(width, height, viewMode, desiredBitrate) {\n            var creativeData = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : { AdParameters: '' };\n            var environmentVars = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : { flashVars: '' };\n            var callback = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : undefined;\n        }\n    }, {\n        key: 'resizeAd',\n        value: function resizeAd(width, height, viewMode) {\n            var callback = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : undefined;\n        }\n    }, {\n        key: 'startAd',\n        value: function startAd() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n        }\n    }, {\n        key: 'stopAd',\n        value: function stopAd() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n        }\n    }, {\n        key: 'pauseAd',\n        value: function pauseAd() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n        }\n    }, {\n        key: 'resumeAd',\n        value: function resumeAd() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n        }\n    }, {\n        key: 'expandAd',\n        value: function expandAd() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n        }\n    }, {\n        key: 'collapseAd',\n        value: function collapseAd() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n        }\n    }, {\n        key: 'skipAd',\n        value: function skipAd() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n        }\n\n        //properties that will be treat as async methods\n\n    }, {\n        key: 'getAdLinear',\n        value: function getAdLinear(callback) {}\n    }, {\n        key: 'getAdWidth',\n        value: function getAdWidth(callback) {}\n    }, {\n        key: 'getAdHeight',\n        value: function getAdHeight(callback) {}\n    }, {\n        key: 'getAdExpanded',\n        value: function getAdExpanded(callback) {}\n    }, {\n        key: 'getAdSkippableState',\n        value: function getAdSkippableState(callback) {}\n    }, {\n        key: 'getAdRemainingTime',\n        value: function getAdRemainingTime(callback) {}\n    }, {\n        key: 'getAdDuration',\n        value: function getAdDuration(callback) {}\n    }, {\n        key: 'setAdVolume',\n        value: function setAdVolume(soundVolume) {\n            var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n        }\n    }, {\n        key: 'getAdVolume',\n        value: function getAdVolume(callback) {}\n    }, {\n        key: 'getAdCompanions',\n        value: function getAdCompanions(callback) {}\n    }, {\n        key: 'getAdIcons',\n        value: function getAdIcons(callback) {}\n    }]);\n\n    return IVPAIDAdUnit;\n}();\n\nObject.defineProperty(IVPAIDAdUnit, 'EVENTS', {\n    writable: false,\n    configurable: false,\n    value: ['AdLoaded', 'AdStarted', 'AdStopped', 'AdSkipped', 'AdSkippableStateChange', // VPAID 2.0 new event\n    'AdSizeChange', // VPAID 2.0 new event\n    'AdLinearChange', 'AdDurationChange', // VPAID 2.0 new event\n    'AdExpandedChange', 'AdRemainingTimeChange', // [Deprecated in 2.0] but will be still fired for backwards compatibility\n    'AdVolumeChange', 'AdImpression', 'AdVideoStart', 'AdVideoFirstQuartile', 'AdVideoMidpoint', 'AdVideoThirdQuartile', 'AdVideoComplete', 'AdClickThru', 'AdInteraction', // VPAID 2.0 new event\n    'AdUserAcceptInvitation', 'AdUserMinimize', 'AdUserClose', 'AdPaused', 'AdPlaying', 'AdLog', 'AdError']\n});\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar IVPAIDAdUnit = __webpack_require__(28).IVPAIDAdUnit;\nvar ALL_VPAID_METHODS = Object.getOwnPropertyNames(IVPAIDAdUnit.prototype).filter(function (property) {\n    return ['constructor'].indexOf(property) === -1;\n});\n\nvar VPAIDAdUnit = exports.VPAIDAdUnit = function (_IVPAIDAdUnit) {\n    _inherits(VPAIDAdUnit, _IVPAIDAdUnit);\n\n    function VPAIDAdUnit(flash) {\n        _classCallCheck(this, VPAIDAdUnit);\n\n        var _this = _possibleConstructorReturn(this, (VPAIDAdUnit.__proto__ || Object.getPrototypeOf(VPAIDAdUnit)).call(this));\n\n        _this._destroyed = false;\n        _this._flash = flash;\n        return _this;\n    }\n\n    _createClass(VPAIDAdUnit, [{\n        key: '_destroy',\n        value: function _destroy() {\n            var _this2 = this;\n\n            this._destroyed = true;\n            ALL_VPAID_METHODS.forEach(function (methodName) {\n                _this2._flash.removeCallbackByMethodName(methodName);\n            });\n            IVPAIDAdUnit.EVENTS.forEach(function (event) {\n                _this2._flash.offEvent(event);\n            });\n\n            this._flash = null;\n        }\n    }, {\n        key: 'isDestroyed',\n        value: function isDestroyed() {\n            return this._destroyed;\n        }\n    }, {\n        key: 'on',\n        value: function on(eventName, callback) {\n            this._flash.on(eventName, callback);\n        }\n    }, {\n        key: 'off',\n        value: function off(eventName, callback) {\n            this._flash.off(eventName, callback);\n        }\n\n        //VPAID interface\n\n    }, {\n        key: 'handshakeVersion',\n        value: function handshakeVersion() {\n            var playerVPAIDVersion = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '2.0';\n            var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n            this._flash.callFlashMethod('handshakeVersion', [playerVPAIDVersion], callback);\n        }\n    }, {\n        key: 'initAd',\n        value: function initAd(width, height, viewMode, desiredBitrate) {\n            var creativeData = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : { AdParameters: '' };\n            var environmentVars = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : { flashVars: '' };\n            var callback = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : undefined;\n\n            //resize element that has the flash object\n            this._flash.setSize(width, height);\n            creativeData = creativeData || { AdParameters: '' };\n            environmentVars = environmentVars || { flashVars: '' };\n\n            this._flash.callFlashMethod('initAd', [this._flash.getWidth(), this._flash.getHeight(), viewMode, desiredBitrate, creativeData.AdParameters || '', environmentVars.flashVars || ''], callback);\n        }\n    }, {\n        key: 'resizeAd',\n        value: function resizeAd(width, height, viewMode) {\n            var callback = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : undefined;\n\n            //resize element that has the flash object\n            this._flash.setSize(width, height);\n\n            //resize ad inside the flash\n            this._flash.callFlashMethod('resizeAd', [this._flash.getWidth(), this._flash.getHeight(), viewMode], callback);\n        }\n    }, {\n        key: 'startAd',\n        value: function startAd() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n            this._flash.callFlashMethod('startAd', [], callback);\n        }\n    }, {\n        key: 'stopAd',\n        value: function stopAd() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n            this._flash.callFlashMethod('stopAd', [], callback);\n        }\n    }, {\n        key: 'pauseAd',\n        value: function pauseAd() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n            this._flash.callFlashMethod('pauseAd', [], callback);\n        }\n    }, {\n        key: 'resumeAd',\n        value: function resumeAd() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n            this._flash.callFlashMethod('resumeAd', [], callback);\n        }\n    }, {\n        key: 'expandAd',\n        value: function expandAd() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n            this._flash.callFlashMethod('expandAd', [], callback);\n        }\n    }, {\n        key: 'collapseAd',\n        value: function collapseAd() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n            this._flash.callFlashMethod('collapseAd', [], callback);\n        }\n    }, {\n        key: 'skipAd',\n        value: function skipAd() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n            this._flash.callFlashMethod('skipAd', [], callback);\n        }\n\n        //properties that will be treat as async methods\n\n    }, {\n        key: 'getAdLinear',\n        value: function getAdLinear(callback) {\n            this._flash.callFlashMethod('getAdLinear', [], callback);\n        }\n    }, {\n        key: 'getAdWidth',\n        value: function getAdWidth(callback) {\n            this._flash.callFlashMethod('getAdWidth', [], callback);\n        }\n    }, {\n        key: 'getAdHeight',\n        value: function getAdHeight(callback) {\n            this._flash.callFlashMethod('getAdHeight', [], callback);\n        }\n    }, {\n        key: 'getAdExpanded',\n        value: function getAdExpanded(callback) {\n            this._flash.callFlashMethod('getAdExpanded', [], callback);\n        }\n    }, {\n        key: 'getAdSkippableState',\n        value: function getAdSkippableState(callback) {\n            this._flash.callFlashMethod('getAdSkippableState', [], callback);\n        }\n    }, {\n        key: 'getAdRemainingTime',\n        value: function getAdRemainingTime(callback) {\n            this._flash.callFlashMethod('getAdRemainingTime', [], callback);\n        }\n    }, {\n        key: 'getAdDuration',\n        value: function getAdDuration(callback) {\n            this._flash.callFlashMethod('getAdDuration', [], callback);\n        }\n    }, {\n        key: 'setAdVolume',\n        value: function setAdVolume(volume) {\n            var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n            this._flash.callFlashMethod('setAdVolume', [volume], callback);\n        }\n    }, {\n        key: 'getAdVolume',\n        value: function getAdVolume(callback) {\n            this._flash.callFlashMethod('getAdVolume', [], callback);\n        }\n    }, {\n        key: 'getAdCompanions',\n        value: function getAdCompanions(callback) {\n            this._flash.callFlashMethod('getAdCompanions', [], callback);\n        }\n    }, {\n        key: 'getAdIcons',\n        value: function getAdIcons(callback) {\n            this._flash.callFlashMethod('getAdIcons', [], callback);\n        }\n    }]);\n\n    return VPAIDAdUnit;\n}(IVPAIDAdUnit);\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar swfobject = __webpack_require__(25);\n\nvar FLASH_TEST = 'vpaid_video_flash_tester';\nvar FLASH_TEST_EL = 'vpaid_video_flash_tester_el';\nvar JSFlashBridge = __webpack_require__(13).JSFlashBridge;\nvar utils = __webpack_require__(1);\nvar MultipleValuesRegistry = __webpack_require__(7).MultipleValuesRegistry;\n\nvar FlashTester = function () {\n    function FlashTester(parent) {\n        var _this = this;\n\n        var swfConfig = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { data: 'VPAIDFlash.swf', width: 800, height: 400 };\n\n        _classCallCheck(this, FlashTester);\n\n        this.parentEl = utils.createElementWithID(parent, FLASH_TEST_EL); // some browsers create global variables using the element id http://stackoverflow.com/questions/3434278/do-dom-tree-elements-with-ids-become-global-variables\n        utils.hideFlashEl(this.parentEl);\n        var params = {};\n        params.movie = swfConfig.data;\n        params.FlashVars = 'flashid=' + FLASH_TEST_EL + '&handler=' + JSFlashBridge.VPAID_FLASH_HANDLER;\n        params.allowScriptAccess = 'always';\n\n        this.el = swfobject.createSWF(swfConfig, params, FLASH_TEST_EL);\n        this._handlers = new MultipleValuesRegistry();\n        this._isSupported = false;\n        if (this.el) {\n            utils.hideFlashEl(this.el);\n            this._flash = new JSFlashBridge(this.el, swfConfig.data, FLASH_TEST_EL, swfConfig.width, swfConfig.height, function () {\n                var support = true;\n                _this._isSupported = support;\n                _this._handlers.get('change').forEach(function (callback) {\n                    setTimeout(function () {\n                        callback('change', support);\n                    }, 0);\n                });\n            });\n        }\n    }\n\n    _createClass(FlashTester, [{\n        key: 'isSupported',\n        value: function isSupported() {\n            return this._isSupported;\n        }\n    }, {\n        key: 'on',\n        value: function on(eventName, callback) {\n            this._handlers.add(eventName, callback);\n        }\n    }]);\n\n    return FlashTester;\n}();\n\nvar createFlashTester = exports.createFlashTester = function createFlashTester(el, swfConfig) {\n    if (!window[FLASH_TEST]) {\n        window[FLASH_TEST] = new FlashTester(el, swfConfig);\n    }\n    return window[FLASH_TEST];\n};\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar SingleValueRegistry = __webpack_require__(7).SingleValueRegistry;\nvar instances = new SingleValueRegistry();\n\nvar JSFlashBridgeRegistry = {};\nObject.defineProperty(JSFlashBridgeRegistry, 'addInstance', {\n    writable: false,\n    configurable: false,\n    value: function value(id, instance) {\n        instances.add(id, instance);\n    }\n});\n\nObject.defineProperty(JSFlashBridgeRegistry, 'getInstanceByID', {\n    writable: false,\n    configurable: false,\n    value: function value(id) {\n        return instances.get(id);\n    }\n});\n\nObject.defineProperty(JSFlashBridgeRegistry, 'removeInstanceByID', {\n    writable: false,\n    configurable: false,\n    value: function value(id) {\n        return instances.remove(id);\n    }\n});\n\nmodule.exports = JSFlashBridgeRegistry;\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar METHODS = ['handshakeVersion', 'initAd', 'startAd', 'stopAd', 'skipAd', // VPAID 2.0 new method\n'resizeAd', 'pauseAd', 'resumeAd', 'expandAd', 'collapseAd', 'subscribe', 'unsubscribe'];\n\nvar EVENTS = ['AdLoaded', 'AdStarted', 'AdStopped', 'AdSkipped', 'AdSkippableStateChange', // VPAID 2.0 new event\n'AdSizeChange', // VPAID 2.0 new event\n'AdLinearChange', 'AdDurationChange', // VPAID 2.0 new event\n'AdExpandedChange', 'AdRemainingTimeChange', // [Deprecated in 2.0] but will be still fired for backwards compatibility\n'AdVolumeChange', 'AdImpression', 'AdVideoStart', 'AdVideoFirstQuartile', 'AdVideoMidpoint', 'AdVideoThirdQuartile', 'AdVideoComplete', 'AdClickThru', 'AdInteraction', // VPAID 2.0 new event\n'AdUserAcceptInvitation', 'AdUserMinimize', 'AdUserClose', 'AdPaused', 'AdPlaying', 'AdLog', 'AdError'];\n\nvar GETTERS = ['getAdLinear', 'getAdWidth', // VPAID 2.0 new getter\n'getAdHeight', // VPAID 2.0 new getter\n'getAdExpanded', 'getAdSkippableState', // VPAID 2.0 new getter\n'getAdRemainingTime', 'getAdDuration', // VPAID 2.0 new getter\n'getAdVolume', 'getAdCompanions', // VPAID 2.0 new getter\n'getAdIcons' // VPAID 2.0 new getter\n];\n\nvar SETTERS = ['setAdVolume'];\n\n/**\n * This callback is displayed as global member. The callback use nodejs error-first callback style\n * @callback NodeStyleCallback\n * @param {string|null}\n * @param {undefined|object}\n */\n\n/**\n * IVPAIDAdUnit\n *\n * @class\n *\n * @param {object} creative\n * @param {HTMLElement} el\n * @param {HTMLVideoElement} video\n */\nfunction IVPAIDAdUnit(creative, el, video) {}\n\n/**\n * handshakeVersion\n *\n * @param {string} VPAIDVersion\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.handshakeVersion = function (VPAIDVersion, callback) {};\n\n/**\n * initAd\n *\n * @param {number} width\n * @param {number} height\n * @param {string} viewMode can be 'normal', 'thumbnail' or 'fullscreen'\n * @param {number} desiredBitrate indicates the desired bitrate in kbps\n * @param {object} [creativeData] used for additional initialization data\n * @param {object} [environmentVars] used for passing implementation-specific of js version\n * @param {NodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.initAd = function (width, height, viewMode, desiredBitrate, creativeData, environmentVars, callback) {};\n\n/**\n * startAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.startAd = function (callback) {};\n\n/**\n * stopAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.stopAd = function (callback) {};\n\n/**\n * skipAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.skipAd = function (callback) {};\n\n/**\n * resizeAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.resizeAd = function (width, height, viewMode, callback) {};\n\n/**\n * pauseAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.pauseAd = function (callback) {};\n\n/**\n * resumeAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.resumeAd = function (callback) {};\n\n/**\n * expandAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.expandAd = function (callback) {};\n\n/**\n * collapseAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.collapseAd = function (callback) {};\n\n/**\n * subscribe\n *\n * @param {string} event\n * @param {nodeStyleCallback} handler\n * @param {object} context\n */\nIVPAIDAdUnit.prototype.subscribe = function (event, handler, context) {};\n\n/**\n * startAd\n *\n * @param {string} event\n * @param {function} handler\n */\nIVPAIDAdUnit.prototype.unsubscribe = function (event, handler) {};\n\n/**\n * getAdLinear\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdLinear = function (callback) {};\n\n/**\n * getAdWidth\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdWidth = function (callback) {};\n\n/**\n * getAdHeight\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdHeight = function (callback) {};\n\n/**\n * getAdExpanded\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdExpanded = function (callback) {};\n\n/**\n * getAdSkippableState\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdSkippableState = function (callback) {};\n\n/**\n * getAdRemainingTime\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdRemainingTime = function (callback) {};\n\n/**\n * getAdDuration\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdDuration = function (callback) {};\n\n/**\n * getAdVolume\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdVolume = function (callback) {};\n\n/**\n * getAdCompanions\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdCompanions = function (callback) {};\n\n/**\n * getAdIcons\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdIcons = function (callback) {};\n\n/**\n * setAdVolume\n *\n * @param {number} volume\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.setAdVolume = function (volume, callback) {};\n\naddStaticToInterface(IVPAIDAdUnit, 'METHODS', METHODS);\naddStaticToInterface(IVPAIDAdUnit, 'GETTERS', GETTERS);\naddStaticToInterface(IVPAIDAdUnit, 'SETTERS', SETTERS);\naddStaticToInterface(IVPAIDAdUnit, 'EVENTS', EVENTS);\n\nvar VPAID1_METHODS = METHODS.filter(function (method) {\n  return ['skipAd'].indexOf(method) === -1;\n});\n\naddStaticToInterface(IVPAIDAdUnit, 'checkVPAIDInterface', function checkVPAIDInterface(creative) {\n  var result = VPAID1_METHODS.every(function (key) {\n    return typeof creative[key] === 'function';\n  });\n  return result;\n});\n\nmodule.exports = IVPAIDAdUnit;\n\nfunction addStaticToInterface(Interface, name, value) {\n  Object.defineProperty(Interface, name, {\n    writable: false,\n    configurable: false,\n    value: value\n  });\n}\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar IVPAIDAdUnit = __webpack_require__(32);\nvar Subscriber = __webpack_require__(35);\nvar checkVPAIDInterface = IVPAIDAdUnit.checkVPAIDInterface;\nvar utils = __webpack_require__(14);\nvar METHODS = IVPAIDAdUnit.METHODS;\nvar ERROR = 'AdError';\nvar AD_CLICK = 'AdClickThru';\nvar FILTERED_EVENTS = IVPAIDAdUnit.EVENTS.filter(function (event) {\n    return event != AD_CLICK;\n});\n\n/**\n * This callback is displayed as global member. The callback use nodejs error-first callback style\n * @callback NodeStyleCallback\n * @param {string|null}\n * @param {undefined|object}\n */\n\n/**\n * VPAIDAdUnit\n * @class\n *\n * @param VPAIDCreative\n * @param {HTMLElement} [el] this will be used in initAd environmentVars.slot if defined\n * @param {HTMLVideoElement} [video] this will be used in initAd environmentVars.videoSlot if defined\n */\nfunction VPAIDAdUnit(VPAIDCreative, el, video, iframe) {\n    this._isValid = checkVPAIDInterface(VPAIDCreative);\n    if (this._isValid) {\n        this._creative = VPAIDCreative;\n        this._el = el;\n        this._videoEl = video;\n        this._iframe = iframe;\n        this._subscribers = new Subscriber();\n        utils.setFullSizeStyle(el);\n        $addEventsSubscribers.call(this);\n    }\n}\n\nVPAIDAdUnit.prototype = Object.create(IVPAIDAdUnit.prototype);\n\n/**\n * isValidVPAIDAd will return if the VPAIDCreative passed in constructor is valid or not\n *\n * @return {boolean}\n */\nVPAIDAdUnit.prototype.isValidVPAIDAd = function isValidVPAIDAd() {\n    return this._isValid;\n};\n\nIVPAIDAdUnit.METHODS.forEach(function (method) {\n    //NOTE: this methods arguments order are implemented differently from the spec\n    var ignores = ['subscribe', 'unsubscribe', 'initAd'];\n\n    if (ignores.indexOf(method) !== -1) return;\n\n    VPAIDAdUnit.prototype[method] = function () {\n        var ariaty = IVPAIDAdUnit.prototype[method].length;\n        // TODO avoid leaking arguments\n        // https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n        var args = Array.prototype.slice.call(arguments);\n        var callback = ariaty === args.length ? args.pop() : undefined;\n\n        setTimeout(function () {\n            var result,\n                error = null;\n            try {\n                result = this._creative[method].apply(this._creative, args);\n            } catch (e) {\n                error = e;\n            }\n\n            callOrTriggerEvent(callback, this._subscribers, error, result);\n        }.bind(this), 0);\n    };\n});\n\n/**\n * initAd concreate implementation\n *\n * @param {number} width\n * @param {number} height\n * @param {string} viewMode can be 'normal', 'thumbnail' or 'fullscreen'\n * @param {number} desiredBitrate indicates the desired bitrate in kbps\n * @param {object} [creativeData] used for additional initialization data\n * @param {object} [environmentVars] used for passing implementation-specific of js version, if el & video was used in constructor slot & videoSlot will be added to the object\n * @param {NodeStyleCallback} callback\n */\nVPAIDAdUnit.prototype.initAd = function initAd(width, height, viewMode, desiredBitrate, creativeData, environmentVars, callback) {\n    creativeData = creativeData || {};\n    environmentVars = utils.extend({\n        slot: this._el,\n        videoSlot: this._videoEl\n    }, environmentVars || {});\n\n    setTimeout(function () {\n        var error;\n        try {\n            this._creative.initAd(width, height, viewMode, desiredBitrate, creativeData, environmentVars);\n        } catch (e) {\n            error = e;\n        }\n\n        callOrTriggerEvent(callback, this._subscribers, error);\n    }.bind(this), 0);\n};\n\n/**\n * subscribe\n *\n * @param {string} event\n * @param {nodeStyleCallback} handler\n * @param {object} context\n */\nVPAIDAdUnit.prototype.subscribe = function subscribe(event, handler, context) {\n    this._subscribers.subscribe(handler, event, context);\n};\n\n/**\n * unsubscribe\n *\n * @param {string} event\n * @param {nodeStyleCallback} handler\n */\nVPAIDAdUnit.prototype.unsubscribe = function unsubscribe(event, handler) {\n    this._subscribers.unsubscribe(handler, event);\n};\n\n//alias\nVPAIDAdUnit.prototype.on = VPAIDAdUnit.prototype.subscribe;\nVPAIDAdUnit.prototype.off = VPAIDAdUnit.prototype.unsubscribe;\n\nIVPAIDAdUnit.GETTERS.forEach(function (getter) {\n    VPAIDAdUnit.prototype[getter] = function (callback) {\n        setTimeout(function () {\n\n            var result,\n                error = null;\n            try {\n                result = this._creative[getter]();\n            } catch (e) {\n                error = e;\n            }\n\n            callOrTriggerEvent(callback, this._subscribers, error, result);\n        }.bind(this), 0);\n    };\n});\n\n/**\n * setAdVolume\n *\n * @param volume\n * @param {nodeStyleCallback} callback\n */\nVPAIDAdUnit.prototype.setAdVolume = function setAdVolume(volume, callback) {\n    setTimeout(function () {\n\n        var result,\n            error = null;\n        try {\n            this._creative.setAdVolume(volume);\n            result = this._creative.getAdVolume();\n        } catch (e) {\n            error = e;\n        }\n\n        if (!error) {\n            error = utils.validate(result === volume, 'failed to apply volume: ' + volume);\n        }\n        callOrTriggerEvent(callback, this._subscribers, error, result);\n    }.bind(this), 0);\n};\n\nVPAIDAdUnit.prototype._destroy = function destroy() {\n    this.stopAd();\n    this._subscribers.unsubscribeAll();\n};\n\nfunction $addEventsSubscribers() {\n    // some ads implement\n    // so they only handle one subscriber\n    // to handle this we create our one\n    FILTERED_EVENTS.forEach(function (event) {\n        this._creative.subscribe($trigger.bind(this, event), event);\n    }.bind(this));\n\n    // map the click event to be an object instead of depending of the order of the arguments\n    // and to be consistent with the flash\n    this._creative.subscribe($clickThruHook.bind(this), AD_CLICK);\n\n    // because we are adding the element inside the iframe\n    // the user is not able to click in the video\n    if (this._videoEl) {\n        var documentElement = this._iframe.contentDocument.documentElement;\n        var videoEl = this._videoEl;\n        documentElement.addEventListener('click', function (e) {\n            if (e.target === documentElement) {\n                videoEl.click();\n            }\n        });\n    }\n}\n\nfunction $clickThruHook(url, id, playerHandles) {\n    this._subscribers.triggerSync(AD_CLICK, { url: url, id: id, playerHandles: playerHandles });\n}\n\nfunction $trigger(event) {\n    // TODO avoid leaking arguments\n    // https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n    this._subscribers.trigger(event, Array.prototype.slice(arguments, 1));\n}\n\nfunction callOrTriggerEvent(callback, subscribers, error, result) {\n    if (callback) {\n        callback(error, result);\n    } else if (error) {\n        subscribers.trigger(ERROR, error);\n    }\n}\n\nmodule.exports = VPAIDAdUnit;\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utils = __webpack_require__(14);\nvar unique = utils.unique('vpaidIframe');\nvar VPAIDAdUnit = __webpack_require__(33);\n\nvar defaultTemplate = '<!DOCTYPE html>' + '<html lang=\"en\">' + '<head><meta charset=\"UTF-8\"></head>' + '<body style=\"margin:0;padding:0\"><div class=\"ad-element\"></div>' + '<script type=\"text/javascript\" src=\"{{iframeURL_JS}}\"></script>' + '<script type=\"text/javascript\">' + 'window.parent.postMessage(\\'{\"event\": \"ready\", \"id\": \"{{iframeID}}\"}\\', \\'{{origin}}\\');' + '</script>' + '</body>' + '</html>';\n\nvar AD_STOPPED = 'AdStopped';\n\n/**\n * This callback is displayed as global member. The callback use nodejs error-first callback style\n * @callback NodeStyleCallback\n * @param {string|null}\n * @param {undefined|object}\n */\n\n/**\n * VPAIDHTML5Client\n * @class\n *\n * @param {HTMLElement} el that will contain the iframe to load adUnit and a el to add to adUnit slot\n * @param {HTMLVideoElement} video default video element to be used by adUnit\n * @param {object} [templateConfig] template: html template to be used instead of the default, extraOptions: to be used when rendering the template\n * @param {object} [vpaidOptions] timeout: when loading adUnit\n */\nfunction VPAIDHTML5Client(el, video, templateConfig, vpaidOptions) {\n    templateConfig = templateConfig || {};\n\n    this._id = unique();\n    this._destroyed = false;\n\n    this._frameContainer = utils.createElementInEl(el, 'div');\n    this._videoEl = video;\n    this._vpaidOptions = vpaidOptions || { timeout: 10000 };\n\n    this._templateConfig = {\n        template: templateConfig.template || defaultTemplate,\n        extraOptions: templateConfig.extraOptions || {}\n    };\n}\n\n/**\n * destroy\n *\n */\nVPAIDHTML5Client.prototype.destroy = function destroy() {\n    if (this._destroyed) {\n        return;\n    }\n    this._destroyed = true;\n    $unloadPreviousAdUnit.call(this);\n};\n\n/**\n * isDestroyed\n *\n * @return {boolean}\n */\nVPAIDHTML5Client.prototype.isDestroyed = function isDestroyed() {\n    return this._destroyed;\n};\n\n/**\n * loadAdUnit\n *\n * @param {string} adURL url of the js of the adUnit\n * @param {nodeStyleCallback} callback\n */\nVPAIDHTML5Client.prototype.loadAdUnit = function loadAdUnit(adURL, callback) {\n    $throwIfDestroyed.call(this);\n    $unloadPreviousAdUnit.call(this);\n    var that = this;\n\n    var frame = utils.createIframeWithContent(this._frameContainer, this._templateConfig.template, utils.extend({\n        iframeURL_JS: adURL,\n        iframeID: this.getID(),\n        origin: getOrigin()\n    }, this._templateConfig.extraOptions));\n\n    this._frame = frame;\n\n    this._onLoad = utils.callbackTimeout(this._vpaidOptions.timeout, onLoad.bind(this), onTimeout.bind(this));\n\n    window.addEventListener('message', this._onLoad);\n\n    function onLoad(e) {\n        /*jshint validthis: false */\n        //don't clear timeout\n        if (e.origin !== getOrigin()) return;\n        var result = JSON.parse(e.data);\n\n        //don't clear timeout\n        if (result.id !== that.getID()) return;\n\n        var adUnit, error, createAd;\n        if (!that._frame.contentWindow) {\n\n            error = 'the iframe is not anymore in the DOM tree';\n        } else {\n            createAd = that._frame.contentWindow.getVPAIDAd;\n            error = utils.validate(typeof createAd === 'function', 'the ad didn\\'t return a function to create an ad');\n        }\n\n        if (!error) {\n            var adEl = that._frame.contentWindow.document.querySelector('.ad-element');\n            adUnit = new VPAIDAdUnit(createAd(), adEl, that._videoEl, that._frame);\n            adUnit.subscribe(AD_STOPPED, $adDestroyed.bind(that));\n            error = utils.validate(adUnit.isValidVPAIDAd(), 'the add is not fully complaint with VPAID specification');\n        }\n\n        that._adUnit = adUnit;\n        $destroyLoadListener.call(that);\n        callback(error, error ? null : adUnit);\n\n        //clear timeout\n        return true;\n    }\n\n    function onTimeout() {\n        callback('timeout', null);\n    }\n};\n\n/**\n * unloadAdUnit\n *\n */\nVPAIDHTML5Client.prototype.unloadAdUnit = function unloadAdUnit() {\n    $unloadPreviousAdUnit.call(this);\n};\n\n/**\n * getID will return the unique id\n *\n * @return {string}\n */\nVPAIDHTML5Client.prototype.getID = function () {\n    return this._id;\n};\n\n/**\n * $removeEl\n *\n * @param {string} key\n */\nfunction $removeEl(key) {\n    var el = this[key];\n    if (el) {\n        el.remove();\n        delete this[key];\n    }\n}\n\nfunction $adDestroyed() {\n    $removeAdElements.call(this);\n    delete this._adUnit;\n}\n\nfunction $unloadPreviousAdUnit() {\n    $removeAdElements.call(this);\n    $destroyAdUnit.call(this);\n}\n\nfunction $removeAdElements() {\n    $removeEl.call(this, '_frame');\n    $destroyLoadListener.call(this);\n}\n\n/**\n * $destroyLoadListener\n *\n */\nfunction $destroyLoadListener() {\n    if (this._onLoad) {\n        window.removeEventListener('message', this._onLoad);\n        utils.clearCallbackTimeout(this._onLoad);\n        delete this._onLoad;\n    }\n}\n\nfunction $destroyAdUnit() {\n    if (this._adUnit) {\n        this._adUnit.stopAd();\n        delete this._adUnit;\n    }\n}\n\n/**\n * $throwIfDestroyed\n *\n */\nfunction $throwIfDestroyed() {\n    if (this._destroyed) {\n        throw new Error('VPAIDHTML5Client already destroyed!');\n    }\n}\n\nfunction getOrigin() {\n    if (window.location.origin) {\n        return window.location.origin;\n    } else {\n        return window.location.protocol + \"//\" + window.location.hostname + (window.location.port ? ':' + window.location.port : '');\n    }\n}\n\nmodule.exports = VPAIDHTML5Client;\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction Subscriber() {\n    this._subscribers = {};\n}\n\nSubscriber.prototype.subscribe = function subscribe(handler, eventName, context) {\n    if (!this.isHandlerAttached(handler, eventName)) {\n        this.get(eventName).push({ handler: handler, context: context, eventName: eventName });\n    }\n};\n\nSubscriber.prototype.unsubscribe = function unsubscribe(handler, eventName) {\n    this._subscribers[eventName] = this.get(eventName).filter(function (subscriber) {\n        return handler !== subscriber.handler;\n    });\n};\n\nSubscriber.prototype.unsubscribeAll = function unsubscribeAll() {\n    this._subscribers = {};\n};\n\nSubscriber.prototype.trigger = function (eventName, data) {\n    var that = this;\n    var subscribers = this.get(eventName).concat(this.get('*'));\n\n    subscribers.forEach(function (subscriber) {\n        setTimeout(function () {\n            if (that.isHandlerAttached(subscriber.handler, subscriber.eventName)) {\n                subscriber.handler.call(subscriber.context, data);\n            }\n        }, 0);\n    });\n};\n\nSubscriber.prototype.triggerSync = function (eventName, data) {\n    var subscribers = this.get(eventName).concat(this.get('*'));\n\n    subscribers.forEach(function (subscriber) {\n        subscriber.handler.call(subscriber.context, data);\n    });\n};\n\nSubscriber.prototype.get = function get(eventName) {\n    if (!this._subscribers[eventName]) {\n        this._subscribers[eventName] = [];\n    }\n    return this._subscribers[eventName];\n};\n\nSubscriber.prototype.isHandlerAttached = function isHandlerAttached(handler, eventName) {\n    return this.get(eventName).some(function (subscriber) {\n        return handler === subscriber.handler;\n    });\n};\n\nmodule.exports = Subscriber;\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utilities = __webpack_require__(0);\nvar xml = __webpack_require__(2);\nvar logger = __webpack_require__(5);\nvar TrackingEvent = __webpack_require__(19);\n\nfunction Companion(companionJTree) {\n  if (!(this instanceof Companion)) {\n    return new Companion(companionJTree);\n  }\n\n  logger.info('<Companion> found companion ad');\n  logger.debug('<Companion>  companionJTree:', companionJTree);\n\n  // Required Elements\n  this.creativeType = xml.attr(companionJTree.staticResource, 'creativeType');\n  this.staticResource = xml.keyValue(companionJTree.staticResource);\n\n  logger.info('<Companion>  creativeType: ' + this.creativeType);\n  logger.info('<Companion>  staticResource: ' + this.staticResource);\n\n  // Weird bug when the JXON tree is built it doesn't handle casing properly in this situation...\n  var htmlResource = null;\n\n  if (xml.keyValue(companionJTree.HTMLResource)) {\n    htmlResource = xml.keyValue(companionJTree.HTMLResource);\n  } else if (xml.keyValue(companionJTree.hTMLResource)) {\n    htmlResource = xml.keyValue(companionJTree.hTMLResource);\n  }\n\n  if (htmlResource !== null) {\n    logger.info('<Companion> found html resource', htmlResource);\n  }\n\n  this.htmlResource = htmlResource;\n\n  var iframeResource = null;\n\n  if (xml.keyValue(companionJTree.IFrameResource)) {\n    iframeResource = xml.keyValue(companionJTree.IFrameResource);\n  } else if (xml.keyValue(companionJTree.iFrameresource)) {\n    iframeResource = xml.keyValue(companionJTree.iFrameresource);\n  }\n\n  if (iframeResource !== null) {\n    logger.info('<Companion> found iframe resource', iframeResource);\n  }\n\n  this.iframeResource = iframeResource;\n\n  // Optional fields\n  this.id = xml.attr(companionJTree, 'id');\n  this.width = xml.attr(companionJTree, 'width');\n  this.height = xml.attr(companionJTree, 'height');\n  this.expandedWidth = xml.attr(companionJTree, 'expandedWidth');\n  this.expandedHeight = xml.attr(companionJTree, 'expandedHeight');\n  this.scalable = xml.attr(companionJTree, 'scalable');\n  this.maintainAspectRatio = xml.attr(companionJTree, 'maintainAspectRatio');\n  this.minSuggestedDuration = xml.attr(companionJTree, 'minSuggestedDuration');\n  this.apiFramework = xml.attr(companionJTree, 'apiFramework');\n  this.companionClickThrough = xml.keyValue(companionJTree.companionClickThrough);\n  this.trackingEvents = parseTrackingEvents(companionJTree.trackingEvents && companionJTree.trackingEvents.tracking);\n\n  logger.info('<Companion>  companionClickThrough: ' + this.companionClickThrough);\n\n  /** * Local functions ***/\n  function parseTrackingEvents(trackingEvents) {\n    var trackings = [];\n\n    if (utilities.isDefined(trackingEvents)) {\n      trackingEvents = utilities.isArray(trackingEvents) ? trackingEvents : [trackingEvents];\n      trackingEvents.forEach(function (trackingData) {\n        trackings.push(new TrackingEvent(trackingData));\n      });\n    }\n\n    return trackings;\n  }\n}\n\nmodule.exports = Companion;\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar xml = __webpack_require__(2);\nvar urlUtils = __webpack_require__(24);\nvar vastUtil = __webpack_require__(4);\n\nvar attributesList = [\n// Required attributes\n'delivery', 'type', 'width', 'height',\n\n// Optional attributes\n'codec', 'id', 'bitrate', 'minBitrate', 'maxBitrate', 'scalable', 'maintainAspectRatio', 'apiFramework'];\n\nvar pageProtocol = window.location && urlUtils.urlParts(window.location.href).protocol;\n\nfunction MediaFile(mediaFileJTree) {\n  if (!(this instanceof MediaFile)) {\n    return new MediaFile(mediaFileJTree);\n  }\n\n  // Required attributes\n  this.src = xml.keyValue(mediaFileJTree);\n\n  for (var x = 0; x < attributesList.length; x++) {\n    var attribute = attributesList[x];\n\n    this[attribute] = mediaFileJTree.attr(attribute);\n  }\n}\n\nMediaFile.prototype.isSupported = function () {\n  if (vastUtil.isVPAID(this)) {\n    return Boolean(vastUtil.findSupportedVPAIDTech(this.type));\n  }\n\n  if (this.type === 'video/x-flv') {\n    return vastUtil.isFlashSupported();\n  }\n\n  if (pageProtocol === 'https') {\n    return urlUtils.urlParts(this.src).protocol === pageProtocol;\n  }\n\n  return true;\n};\n\nmodule.exports = MediaFile;\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar async = __webpack_require__(9);\nvar http = __webpack_require__(46).http;\nvar utilities = __webpack_require__(0);\nvar xml = __webpack_require__(2);\nvar logger = __webpack_require__(5);\nvar Ad = __webpack_require__(15);\nvar VASTError = __webpack_require__(3);\nvar VASTResponse = __webpack_require__(8);\nvar vastUtil = __webpack_require__(4);\n\nfunction VASTClient(options) {\n  if (!(this instanceof VASTClient)) {\n    return new VASTClient(options);\n  }\n  var defaultOptions = {\n    WRAPPER_LIMIT: 5\n  };\n\n  options = options || {};\n  this.settings = utilities.extend({}, options, defaultOptions);\n  this.errorURLMacros = [];\n}\n\nVASTClient.prototype.getVASTResponse = function getVASTResponse(adTag, callback) {\n  var that = this;\n\n  var error = sanityCheck(adTag, callback);\n\n  if (error) {\n    if (utilities.isFunction(callback)) {\n      return callback(error);\n    }\n    throw error;\n  }\n\n  async.waterfall([this._getVASTAd.bind(this, adTag), buildVASTResponse], callback);\n\n  /** * Local functions ***/\n  function buildVASTResponse(adsChain, cb) {\n    try {\n      var response = that._buildVASTResponse(adsChain);\n\n      cb(null, response);\n    } catch (e) {\n      cb(e);\n    }\n  }\n\n  function sanityCheck(adTag, cb) {\n    if (!adTag) {\n      return new VASTError('on VASTClient.getVASTResponse, missing ad tag URL');\n    }\n\n    if (!utilities.isFunction(cb)) {\n      return new VASTError('on VASTClient.getVASTResponse, missing callback function');\n    }\n  }\n};\n\nVASTClient.prototype._getVASTAd = function (adTag, callback) {\n  var that = this;\n\n  getAdWaterfall(adTag, function (error, vastTree) {\n    var waterfallAds = vastTree && utilities.isArray(vastTree.ads) ? vastTree.ads : null;\n\n    if (error) {\n      that._trackError(error, waterfallAds);\n\n      return callback(error, waterfallAds);\n    }\n\n    getAd(waterfallAds.shift(), [], waterfallHandler);\n\n    /** * Local functions ***/\n    function waterfallHandler(error, adChain) {\n      if (error) {\n        that._trackError(error, adChain);\n        if (waterfallAds.length > 0) {\n          getAd(waterfallAds.shift(), [], waterfallHandler);\n        } else {\n          callback(error, adChain);\n        }\n      } else {\n        callback(null, adChain);\n      }\n    }\n  });\n\n  /** * Local functions ***/\n  function getAdWaterfall(adTag, callback) {\n    var requestVastXML = that._requestVASTXml.bind(that, adTag);\n\n    async.waterfall([requestVastXML, buildVastWaterfall], callback);\n  }\n\n  function buildVastWaterfall(xmlStr, callback) {\n    var vastTree = void 0;\n\n    try {\n      vastTree = xml.toJXONTree(xmlStr);\n      logger.debug('built JXONTree from VAST response:', vastTree);\n\n      if (utilities.isArray(vastTree.ad)) {\n        vastTree.ads = vastTree.ad;\n      } else if (vastTree.ad) {\n        vastTree.ads = [vastTree.ad];\n      } else {\n        vastTree.ads = [];\n      }\n      callback(validateVASTTree(vastTree), vastTree);\n    } catch (e) {\n      callback(new VASTError('on VASTClient.getVASTAd.buildVastWaterfall, error parsing xml', 100), null);\n    }\n  }\n\n  function validateVASTTree(vastTree) {\n    var vastVersion = xml.attr(vastTree, 'version');\n\n    if (!vastTree.ad) {\n      return new VASTError('on VASTClient.getVASTAd.validateVASTTree, no Ad in VAST tree', 303);\n    }\n\n    if (vastVersion && vastVersion !== 3 && vastVersion !== 2) {\n      return new VASTError('on VASTClient.getVASTAd.validateVASTTree, not supported VAST version \"' + vastVersion + '\"', 102);\n    }\n\n    return null;\n  }\n\n  function getAd(adTag, adChain, callback) {\n    if (adChain.length >= that.WRAPPER_LIMIT) {\n      return callback(new VASTError('on VASTClient.getVASTAd.getAd, players wrapper limit reached (the limit is ' + that.WRAPPER_LIMIT + ')', 302), adChain);\n    }\n\n    async.waterfall([function (next) {\n      if (utilities.isString(adTag)) {\n        requestVASTAd(adTag, next);\n      } else {\n        next(null, adTag);\n      }\n    }, buildAd], function (error, ad) {\n      if (ad) {\n        adChain.push(ad);\n      }\n\n      if (error) {\n        return callback(error, adChain);\n      }\n\n      if (ad.wrapper) {\n        return getAd(ad.wrapper.VASTAdTagURI, adChain, callback);\n      }\n\n      return callback(null, adChain);\n    });\n  }\n\n  function buildAd(adJxonTree, callback) {\n    try {\n      var ad = new Ad(adJxonTree);\n\n      callback(validateAd(ad), ad);\n    } catch (e) {\n      callback(new VASTError('on VASTClient.getVASTAd.buildAd, error parsing xml', 100), null);\n    }\n  }\n\n  function validateAd(ad) {\n    var wrapper = ad.wrapper;\n    var inLine = ad.inLine;\n    var errMsgPrefix = 'on VASTClient.getVASTAd.validateAd, ';\n\n    if (inLine && wrapper) {\n      return new VASTError(errMsgPrefix + 'InLine and Wrapper both found on the same Ad', 101);\n    }\n\n    if (!inLine && !wrapper) {\n      return new VASTError(errMsgPrefix + 'nor wrapper nor inline elements found on the Ad', 101);\n    }\n\n    if (inLine && !inLine.isSupported()) {\n      return new VASTError(errMsgPrefix + 'could not find MediaFile that is supported by this video player', 403);\n    }\n\n    if (wrapper && !wrapper.VASTAdTagURI) {\n      return new VASTError(errMsgPrefix + 'missing \\'VASTAdTagURI\\' in wrapper', 101);\n    }\n\n    return null;\n  }\n\n  function requestVASTAd(adTag, callback) {\n    that._requestVASTXml(adTag, function (error, xmlStr) {\n      if (error) {\n        return callback(error);\n      }\n      try {\n        var vastTree = xml.toJXONTree(xmlStr);\n\n        callback(validateVASTTree(vastTree), vastTree.ad);\n      } catch (e) {\n        callback(new VASTError('on VASTClient.getVASTAd.requestVASTAd, error parsing xml', 100));\n      }\n    });\n  }\n};\n\nVASTClient.prototype._requestVASTXml = function requestVASTXml(adTag, callback) {\n  try {\n    if (utilities.isFunction(adTag)) {\n      adTag(requestHandler);\n    } else {\n      logger.info('requesting adTag: ' + adTag);\n      http.get(adTag, requestHandler, {\n        withCredentials: true\n      });\n    }\n  } catch (e) {\n    callback(e);\n  }\n\n  /** * Local functions ***/\n  function requestHandler(error, response, status) {\n    if (error) {\n      var errMsg = utilities.isDefined(status) ? 'on VASTClient.requestVastXML, HTTP request error with status \\'' + status + '\\'' : 'on VASTClient.requestVastXML, Error getting the the VAST XML with he passed adTagXML fn';\n\n      return callback(new VASTError(errMsg, 301), null);\n    }\n\n    callback(null, response);\n  }\n};\n\nVASTClient.prototype._buildVASTResponse = function buildVASTResponse(adsChain) {\n  var response = new VASTResponse();\n\n  addAdsToResponse(response, adsChain);\n  validateResponse(response);\n\n  return response;\n\n  //* ** Local function ****\n  function addAdsToResponse(response, ads) {\n    ads.forEach(function (ad) {\n      response.addAd(ad);\n    });\n  }\n\n  function validateResponse(response) {\n    var progressEvents = response.trackingEvents.progress;\n\n    if (!response.hasLinear()) {\n      throw new VASTError('on VASTClient._buildVASTResponse, Received an Ad type that is not supported', 200);\n    }\n\n    if (response.duration === undefined) {\n      throw new VASTError('on VASTClient._buildVASTResponse, Missing duration field in VAST response', 101);\n    }\n\n    if (progressEvents) {\n      progressEvents.forEach(function (progressEvent) {\n        if (!utilities.isNumber(progressEvent.offset)) {\n          throw new VASTError('on VASTClient._buildVASTResponse, missing or wrong offset attribute on progress tracking event', 101);\n        }\n      });\n    }\n  }\n};\n\nVASTClient.prototype._trackError = function (error, adChain) {\n  if (!utilities.isArray(adChain) || adChain.length === 0) {\n    // There is nothing to track\n    return;\n  }\n\n  var errorURLMacros = [];\n\n  adChain.forEach(addErrorUrlMacros);\n  vastUtil.track(errorURLMacros, { ERRORCODE: error.code || 900 }); // 900 <== Undefined error\n\n  /** * Local functions  ***/\n  function addErrorUrlMacros(ad) {\n    if (ad.wrapper && ad.wrapper.error) {\n      errorURLMacros.push(ad.wrapper.error);\n    }\n\n    if (ad.inLine && ad.inLine.error) {\n      errorURLMacros.push(ad.inLine.error);\n    }\n  }\n};\n\nmodule.exports = VASTClient;\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar async = __webpack_require__(9);\nvar dom = __webpack_require__(6);\nvar playerUtils = __webpack_require__(11);\nvar utilities = __webpack_require__(0);\nvar logger = __webpack_require__(5);\nvar VASTResponse = __webpack_require__(8);\nvar VASTError = __webpack_require__(3);\nvar VASTTracker = __webpack_require__(20);\nvar vastUtil = __webpack_require__(4);\n\nfunction VASTIntegrator(player) {\n  if (!(this instanceof VASTIntegrator)) {\n    return new VASTIntegrator(player);\n  }\n\n  this.player = player;\n}\n\nVASTIntegrator.prototype.playAd = function playAd(vastResponse, callback) {\n  var that = this;\n\n  callback = callback || utilities.noop;\n\n  if (!(vastResponse instanceof VASTResponse)) {\n    return callback(new VASTError('On VASTIntegrator, missing required VASTResponse'));\n  }\n\n  async.waterfall([function (next) {\n    next(null, vastResponse);\n  }, this._selectAdSource.bind(this), this._createVASTTracker.bind(this), this._addClickThrough.bind(this), this._addSkipButton.bind(this), this._setupEvents.bind(this), this._playSelectedAd.bind(this)], function (error, response) {\n    if (error && response) {\n      that._trackError(error, response);\n    }\n    callback(error, response);\n  });\n\n  this._adUnit = {\n    _src: null,\n    type: 'VAST',\n    pauseAd: function pauseAd() {\n      that.player.pause(true);\n    },\n\n    resumeAd: function resumeAd() {\n      that.player.play(true);\n    },\n\n    isPaused: function isPaused() {\n      return that.player.paused(true);\n    },\n\n    getSrc: function getSrc() {\n      return this._src;\n    }\n  };\n\n  return this._adUnit;\n};\n\nVASTIntegrator.prototype._selectAdSource = function selectAdSource(response, callback) {\n  var source = void 0;\n\n  var playerWidth = dom.getDimension(this.player.el()).width;\n  var mediaFiles = response.mediaFiles.filter(function (mediaFile) {\n    return mediaFile.isSupported();\n  });\n\n  mediaFiles.sort(function (a, b) {\n    var deltaA = Math.abs(playerWidth - a.width);\n    var deltaB = Math.abs(playerWidth - b.width);\n\n    return deltaA - deltaB;\n  });\n\n  source = this.player.selectSource(mediaFiles).source;\n\n  if (source) {\n    logger.info('selected source: ', source);\n    if (this._adUnit) {\n      this._adUnit._src = source;\n    }\n\n    return callback(null, source, response);\n  }\n\n  // code 403 <== Couldn't find MediaFile that is supported by this video player\n  callback(new VASTError('Could not find Ad mediafile supported by this player', 403), response);\n};\n\nVASTIntegrator.prototype._createVASTTracker = function createVASTTracker(adMediaFile, response, callback) {\n  try {\n    callback(null, adMediaFile, new VASTTracker(adMediaFile.src, response), response);\n  } catch (e) {\n    callback(e, response);\n  }\n};\n\nVASTIntegrator.prototype._setupEvents = function setupEvents(adMediaFile, tracker, response, callback) {\n  var previouslyMuted = void 0;\n  var player = this.player;\n\n  player.on('fullscreenchange', trackFullscreenChange);\n  player.on('vast.adStart', trackImpressions);\n  player.on('pause', trackPause);\n  player.on('timeupdate', trackProgress);\n  player.on('volumechange', trackVolumeChange);\n\n  playerUtils.once(player, ['vast.adEnd', 'vast.adsCancel'], unbindEvents);\n  playerUtils.once(player, ['vast.adEnd', 'vast.adsCancel', 'vast.adSkip'], function (evt) {\n    if (evt.type === 'vast.adEnd') {\n      tracker.trackComplete();\n    }\n  });\n\n  return callback(null, adMediaFile, response);\n\n  /** * Local Functions ***/\n  function unbindEvents() {\n    player.off('fullscreenchange', trackFullscreenChange);\n    player.off('vast.adStart', trackImpressions);\n    player.off('pause', trackPause);\n    player.off('timeupdate', trackProgress);\n    player.off('volumechange', trackVolumeChange);\n  }\n\n  function trackFullscreenChange() {\n    if (player.isFullscreen()) {\n      tracker.trackFullscreen();\n    } else {\n      tracker.trackExitFullscreen();\n    }\n  }\n\n  function trackPause() {\n    // NOTE: whenever a video ends the video Element triggers a 'pause' event before the 'ended' event.\n    //      We should not track this pause event because it makes the VAST tracking confusing again we use a\n    //      Threshold of 2 seconds to prevent false positives on IOS.\n    if (Math.abs(player.duration() - player.currentTime()) < 2) {\n      return;\n    }\n\n    tracker.trackPause();\n    playerUtils.once(player, ['play', 'vast.adEnd', 'vast.adsCancel'], function (evt) {\n      if (evt.type === 'play') {\n        tracker.trackResume();\n      }\n    });\n  }\n\n  function trackProgress() {\n    var currentTimeInMs = player.currentTime() * 1000;\n\n    tracker.trackProgress(currentTimeInMs);\n  }\n\n  function trackImpressions() {\n    tracker.trackImpressions();\n    tracker.trackCreativeView();\n  }\n\n  function trackVolumeChange() {\n    var muted = player.muted();\n\n    if (muted) {\n      tracker.trackMute();\n    } else if (previouslyMuted) {\n      tracker.trackUnmute();\n    }\n    previouslyMuted = muted;\n  }\n};\n\nVASTIntegrator.prototype._addSkipButton = function addSkipButton(source, tracker, response, callback) {\n  var skipOffsetInSec = void 0;\n  var that = this;\n\n  if (utilities.isNumber(response.skipoffset)) {\n    skipOffsetInSec = response.skipoffset / 1000;\n    addSkipButtonToPlayer(this.player, skipOffsetInSec);\n  }\n  callback(null, source, tracker, response);\n\n  /** * Local function ***/\n  function addSkipButtonToPlayer(player, skipOffset) {\n    var skipButton = createSkipButton(player);\n    var updateSkipButton = updateSkipButtonState.bind(that, skipButton, skipOffset, player);\n\n    player.el().appendChild(skipButton);\n    player.on('timeupdate', updateSkipButton);\n\n    playerUtils.once(player, ['vast.adEnd', 'vast.adsCancel'], removeSkipButton);\n\n    function removeSkipButton() {\n      player.off('timeupdate', updateSkipButton);\n      dom.remove(skipButton);\n    }\n  }\n\n  function createSkipButton(player) {\n    var skipButton = window.document.createElement('div');\n\n    dom.addClass(skipButton, 'vast-skip-button');\n\n    skipButton.onclick = function (e) {\n      if (dom.hasClass(skipButton, 'enabled')) {\n        tracker.trackSkip();\n        player.trigger('vast.adSkip');\n      }\n\n      // We prevent event propagation to avoid problems with the clickThrough and so on\n      if (window.Event.prototype.stopPropagation === undefined) {\n        return false;\n      } else {\n        e.stopPropagation();\n      }\n    };\n\n    return skipButton;\n  }\n\n  function updateSkipButtonState(skipButton, skipOffset, player) {\n    var timeLeft = Math.ceil(skipOffset - player.currentTime());\n\n    if (timeLeft > 0) {\n      skipButton.innerHTML = 'Skip in ' + utilities.toFixedDigits(timeLeft, 2) + '...';\n      // eslint-disable-next-line\n    } else if (!dom.hasClass(skipButton, 'enabled')) {\n      dom.addClass(skipButton, 'enabled');\n      skipButton.innerHTML = 'Skip ad';\n    }\n  }\n};\n\nVASTIntegrator.prototype._addClickThrough = function addClickThrough(mediaFile, tracker, response, callback) {\n  var player = this.player;\n  var blocker = createClickThroughBlocker(player, tracker, response);\n  var updateBlocker = updateBlockerURL.bind(this, blocker, response, player);\n\n  player.el().insertBefore(blocker, player.controlBar.el());\n  player.on('timeupdate', updateBlocker);\n  playerUtils.once(player, ['vast.adEnd', 'vast.adsCancel'], removeBlocker);\n\n  return callback(null, mediaFile, tracker, response);\n\n  /** * Local Functions ***/\n\n  function createClickThroughBlocker(player, tracker, response) {\n    var blocker = window.document.createElement('a');\n    var clickThroughMacro = response.clickThrough;\n\n    dom.addClass(blocker, 'vast-blocker');\n    blocker.href = generateClickThroughURL(clickThroughMacro, player);\n\n    if (utilities.isString(clickThroughMacro)) {\n      blocker.target = '_blank';\n    }\n\n    blocker.onclick = function (e) {\n      if (player.paused()) {\n        player.play();\n\n        // We prevent event propagation to avoid problems with the player's normal pause mechanism\n        if (window.Event.prototype.stopPropagation !== undefined) {\n          e.stopPropagation();\n        }\n\n        return false;\n      }\n\n      player.pause();\n      tracker.trackClick();\n    };\n\n    return blocker;\n  }\n\n  function updateBlockerURL(blocker, response, player) {\n    blocker.href = generateClickThroughURL(response.clickThrough, player);\n  }\n\n  function generateClickThroughURL(clickThroughMacro, player) {\n    var variables = {\n      ASSETURI: mediaFile.src,\n      CONTENTPLAYHEAD: vastUtil.formatProgress(player.currentTime() * 1000)\n    };\n\n    return clickThroughMacro ? vastUtil.parseURLMacro(clickThroughMacro, variables) : '#';\n  }\n\n  function removeBlocker() {\n    player.off('timeupdate', updateBlocker);\n    dom.remove(blocker);\n  }\n};\n\nVASTIntegrator.prototype._playSelectedAd = function playSelectedAd(source, response, callback) {\n  var player = this.player;\n\n  player.preload('auto'); // without preload=auto the durationchange event is never fired\n  player.src(source);\n\n  logger.debug('<VASTIntegrator._playSelectedAd> waiting for durationchange to play the ad...');\n\n  playerUtils.once(player, ['durationchange', 'error', 'vast.adsCancel'], function (evt) {\n    if (evt.type === 'durationchange') {\n      logger.debug('<VASTIntegrator._playSelectedAd> got durationchange; calling playAd()');\n      playAd();\n    } else if (evt.type === 'error') {\n      callback(new VASTError('on VASTIntegrator, Player is unable to play the Ad', 400), response);\n    }\n\n    // NOTE: If the ads get canceled we do nothing/\n  });\n\n  /** ** local functions ******/\n  function playAd() {\n    playerUtils.once(player, ['playing', 'vast.adsCancel'], function (evt) {\n      if (evt.type === 'vast.adsCancel') {\n        return;\n      }\n\n      logger.debug('<VASTIntegrator._playSelectedAd/playAd> got playing event; triggering vast.adStart...');\n\n      player.trigger('vast.adStart');\n\n      player.on('ended', proceed);\n      player.on('vast.adsCancel', proceed);\n      player.on('vast.adSkip', proceed);\n\n      function proceed(evt) {\n        if (evt.type === 'ended' && player.duration() - player.currentTime() > 3) {\n          // Ignore ended event if the Ad time was not 'near' the end\n          // avoids issues where IOS controls could skip the Ad\n          return;\n        }\n\n        player.off('ended', proceed);\n        player.off('vast.adsCancel', proceed);\n        player.off('vast.adSkip', proceed);\n\n        // NOTE: if the ads get cancel we do nothing apart removing the listners\n        if (evt.type === 'ended' || evt.type === 'vast.adSkip') {\n          callback(null, response);\n        }\n      }\n    });\n\n    logger.debug('<VASTIntegrator._playSelectedAd/playAd> calling player.play()...');\n\n    player.play();\n  }\n};\n\nVASTIntegrator.prototype._trackError = function trackError(error, response) {\n  vastUtil.track(response.errorURLMacros, { ERRORCODE: error.code || 900 });\n};\n\nmodule.exports = VASTIntegrator;\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar VASTError = __webpack_require__(3);\nvar utilities = __webpack_require__(0);\n\nfunction VPAIDAdUnitWrapper(vpaidAdUnit, opts) {\n  if (!(this instanceof VPAIDAdUnitWrapper)) {\n    return new VPAIDAdUnitWrapper(vpaidAdUnit, opts);\n  }\n  sanityCheck(vpaidAdUnit, opts);\n\n  this.options = utilities.extend({}, opts);\n\n  this._adUnit = vpaidAdUnit;\n\n  /** * Local Functions ***/\n  function sanityCheck(adUnit, opts) {\n    if (!adUnit || !VPAIDAdUnitWrapper.checkVPAIDInterface(adUnit)) {\n      throw new VASTError('on VPAIDAdUnitWrapper, the passed VPAID adUnit does not fully implement the VPAID interface');\n    }\n\n    if (!utilities.isObject(opts)) {\n      throw new VASTError('on VPAIDAdUnitWrapper, expected options hash  but got \\'' + opts + '\\'');\n    }\n\n    if (!('responseTimeout' in opts) || !utilities.isNumber(opts.responseTimeout)) {\n      throw new VASTError('on VPAIDAdUnitWrapper, expected responseTimeout in options');\n    }\n  }\n}\n\nVPAIDAdUnitWrapper.checkVPAIDInterface = function checkVPAIDInterface(VPAIDAdUnit) {\n  // NOTE: skipAd is not part of the method list because it only appears in VPAID 2.0 and we support VPAID 1.0\n  var VPAIDInterfaceMethods = ['handshakeVersion', 'initAd', 'startAd', 'stopAd', 'resizeAd', 'pauseAd', 'expandAd', 'collapseAd'];\n\n  for (var i = 0, len = VPAIDInterfaceMethods.length; i < len; i++) {\n    if (!VPAIDAdUnit || !utilities.isFunction(VPAIDAdUnit[VPAIDInterfaceMethods[i]])) {\n      return false;\n    }\n  }\n\n  return canSubscribeToEvents(VPAIDAdUnit) && canUnsubscribeFromEvents(VPAIDAdUnit);\n\n  /** * Local Functions ***/\n\n  function canSubscribeToEvents(adUnit) {\n    return utilities.isFunction(adUnit.subscribe) || utilities.isFunction(adUnit.addEventListener) || utilities.isFunction(adUnit.on);\n  }\n\n  function canUnsubscribeFromEvents(adUnit) {\n    return utilities.isFunction(adUnit.unsubscribe) || utilities.isFunction(adUnit.removeEventListener) || utilities.isFunction(adUnit.off);\n  }\n};\n\nVPAIDAdUnitWrapper.prototype.adUnitAsyncCall = function () {\n  var _adUnit;\n\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  var method = args.shift();\n  var cb = args.pop();\n  var timeoutId = void 0;\n\n  sanityCheck(method, cb, this._adUnit);\n  args.push(wrapCallback());\n\n  (_adUnit = this._adUnit)[method].apply(_adUnit, args);\n  timeoutId = setTimeout(function () {\n    timeoutId = null;\n    cb(new VASTError('on VPAIDAdUnitWrapper, timeout while waiting for a response on call \\'' + method + '\\''));\n    cb = utilities.noop;\n  }, this.options.responseTimeout);\n\n  /** * Local functions ***/\n  function sanityCheck(method, cb, adUnit) {\n    if (!utilities.isString(method) || !utilities.isFunction(adUnit[method])) {\n      throw new VASTError('on VPAIDAdUnitWrapper.adUnitAsyncCall, invalid method name');\n    }\n\n    if (!utilities.isFunction(cb)) {\n      throw new VASTError('on VPAIDAdUnitWrapper.adUnitAsyncCall, missing callback');\n    }\n  }\n\n  function wrapCallback() {\n    return function () {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n      cb.apply(this, arguments);\n    };\n  }\n};\n\nVPAIDAdUnitWrapper.prototype.on = function (evtName, handler) {\n  var addEventListener = this._adUnit.addEventListener || this._adUnit.subscribe || this._adUnit.on;\n\n  addEventListener.call(this._adUnit, evtName, handler);\n};\n\nVPAIDAdUnitWrapper.prototype.off = function (evtName, handler) {\n  var removeEventListener = this._adUnit.removeEventListener || this._adUnit.unsubscribe || this._adUnit.off;\n\n  removeEventListener.call(this._adUnit, evtName, handler);\n};\n\nVPAIDAdUnitWrapper.prototype.waitForEvent = function (evtName, cb, context) {\n  var timeoutId = void 0;\n\n  sanityCheck(evtName, cb);\n  context = context || null;\n\n  this.on(evtName, responseListener);\n\n  timeoutId = setTimeout(function () {\n    cb(new VASTError('on VPAIDAdUnitWrapper.waitForEvent, timeout while waiting for event \\'' + evtName + '\\''));\n    timeoutId = null;\n    cb = utilities.noop;\n  }, this.options.responseTimeout);\n\n  /** * Local functions ***/\n  function sanityCheck(evtName, cb) {\n    if (!utilities.isString(evtName)) {\n      throw new VASTError('on VPAIDAdUnitWrapper.waitForEvent, missing evt name');\n    }\n\n    if (!utilities.isFunction(cb)) {\n      throw new VASTError('on VPAIDAdUnitWrapper.waitForEvent, missing callback');\n    }\n  }\n\n  function responseListener() {\n    var args = utilities.arrayLikeObjToArray(arguments);\n\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n      timeoutId = null;\n    }\n\n    args.unshift(null);\n    cb.apply(context, args);\n  }\n};\n\n// VPAID METHODS\nVPAIDAdUnitWrapper.prototype.handshakeVersion = function (version, cb) {\n  this.adUnitAsyncCall('handshakeVersion', version, cb);\n};\n\n/* jshint maxparams:6 */\nVPAIDAdUnitWrapper.prototype.initAd = function (width, height, viewMode, desiredBitrate, adUnitData, cb) {\n  this.waitForEvent('AdLoaded', cb);\n  this._adUnit.initAd(width, height, viewMode, desiredBitrate, adUnitData);\n};\n\nVPAIDAdUnitWrapper.prototype.resizeAd = function (width, height, viewMode, cb) {\n  // NOTE: AdSizeChange event is only supported on VPAID 2.0 so for the moment we are not going to use it\n  // and will assume that everything is fine after the async call\n  this.adUnitAsyncCall('resizeAd', width, height, viewMode, cb);\n};\n\nVPAIDAdUnitWrapper.prototype.startAd = function (cb) {\n  this.waitForEvent('AdStarted', cb);\n  this._adUnit.startAd();\n};\n\nVPAIDAdUnitWrapper.prototype.stopAd = function (cb) {\n  this.waitForEvent('AdStopped', cb);\n  this._adUnit.stopAd();\n};\n\nVPAIDAdUnitWrapper.prototype.pauseAd = function (cb) {\n  this.waitForEvent('AdPaused', cb);\n  this._adUnit.pauseAd();\n};\n\nVPAIDAdUnitWrapper.prototype.resumeAd = function (cb) {\n  this.waitForEvent('AdPlaying', cb);\n  this._adUnit.resumeAd();\n};\n\nVPAIDAdUnitWrapper.prototype.expandAd = function (cb) {\n  this.waitForEvent('AdExpandedChange', cb);\n  this._adUnit.expandAd();\n};\n\nVPAIDAdUnitWrapper.prototype.collapseAd = function (cb) {\n  this.waitForEvent('AdExpandedChange', cb);\n  this._adUnit.collapseAd();\n};\n\nVPAIDAdUnitWrapper.prototype.skipAd = function (cb) {\n  this.waitForEvent('AdSkipped', cb);\n  this._adUnit.skipAd();\n};\n\n// VPAID property getters\n['adLinear', 'adWidth', 'adHeight', 'adExpanded', 'adSkippableState', 'adRemainingTime', 'adDuration', 'adVolume', 'adCompanions', 'adIcons'].forEach(function (property) {\n  var getterName = 'get' + utilities.capitalize(property);\n\n  VPAIDAdUnitWrapper.prototype[getterName] = function (cb) {\n    this.adUnitAsyncCall(getterName, cb);\n  };\n});\n\n// VPAID property setters\nVPAIDAdUnitWrapper.prototype.setAdVolume = function (volume, cb) {\n  this.adUnitAsyncCall('setAdVolume', volume, cb);\n};\n\nmodule.exports = VPAIDAdUnitWrapper;\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(49);\nvar VPAIDFLASHClient = __webpack_require__(12);\nvar MimeTypes = __webpack_require__(10);\nvar VASTError = __webpack_require__(3);\nvar utilities = __webpack_require__(0);\nvar dom = __webpack_require__(6);\nvar logger = __webpack_require__(5);\n\nfunction VPAIDFlashTech(mediaFile, settings) {\n  if (!(this instanceof VPAIDFlashTech)) {\n    return new VPAIDFlashTech(mediaFile);\n  }\n  sanityCheck(mediaFile);\n  this.name = 'vpaid-flash';\n  this.mediaFile = mediaFile;\n  this.containerEl = null;\n  this.vpaidFlashClient = null;\n  this.settings = settings;\n\n  /** * local functions ***/\n  function sanityCheck(mediaFile) {\n    if (!mediaFile || !utilities.isString(mediaFile.src)) {\n      throw new VASTError('on VPAIDFlashTech, invalid MediaFile');\n    }\n  }\n}\n\nVPAIDFlashTech.VPAIDFLASHClient = VPAIDFLASHClient;\n\nVPAIDFlashTech.supports = function (type) {\n  return MimeTypes.flash.indexOf(type) > -1 && VPAIDFlashTech.VPAIDFLASHClient.isSupported();\n};\n\nVPAIDFlashTech.prototype.loadAdUnit = function loadFlashCreative(containerEl, objectEl, callback) {\n  var that = this;\n  var flashClientOpts = this.settings && this.settings.vpaidFlashLoaderPath ? { data: this.settings.vpaidFlashLoaderPath } : undefined;\n\n  sanityCheck(containerEl, callback);\n\n  this.containerEl = containerEl;\n\n  logger.debug('<VPAIDFlashTech.loadAdUnit> loading VPAIDFLASHClient with opts:', flashClientOpts);\n\n  this.vpaidFlashClient = new VPAIDFlashTech.VPAIDFLASHClient(containerEl, function (error) {\n    if (error) {\n      return callback(error);\n    }\n\n    logger.info('<VPAIDFlashTech.loadAdUnit> calling VPAIDFLASHClient.loadAdUnit(); that.mediaFile:', that.mediaFile);\n    that.vpaidFlashClient.loadAdUnit(that.mediaFile.src, callback);\n  }, flashClientOpts);\n\n  /** * Local Functions ***/\n  function sanityCheck(container, cb) {\n    if (!dom.isDomElement(container)) {\n      throw new VASTError('on VPAIDFlashTech.loadAdUnit, invalid dom container element');\n    }\n\n    if (!utilities.isFunction(cb)) {\n      throw new VASTError('on VPAIDFlashTech.loadAdUnit, missing valid callback');\n    }\n  }\n};\n\nVPAIDFlashTech.prototype.unloadAdUnit = function () {\n  if (this.vpaidFlashClient) {\n    try {\n      this.vpaidFlashClient.destroy();\n    } catch (e) {\n      logger.error('VAST ERROR: trying to unload the VPAID adunit');\n    }\n    this.vpaidFlashClient = null;\n  }\n\n  if (this.containerEl) {\n    dom.remove(this.containerEl);\n    this.containerEl = null;\n  }\n};\n\nmodule.exports = VPAIDFlashTech;\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar VPAIDHTML5Client = __webpack_require__(34);\nvar MimeTypes = __webpack_require__(10);\nvar VASTError = __webpack_require__(3);\nvar utilities = __webpack_require__(0);\nvar dom = __webpack_require__(6);\nvar logger = __webpack_require__(5);\n\nfunction VPAIDHTML5Tech(mediaFile) {\n  if (!(this instanceof VPAIDHTML5Tech)) {\n    return new VPAIDHTML5Tech(mediaFile);\n  }\n\n  sanityCheck(mediaFile);\n\n  this.name = 'vpaid-html5';\n  this.containerEl = null;\n  this.videoEl = null;\n  this.vpaidHTMLClient = null;\n\n  this.mediaFile = mediaFile;\n\n  function sanityCheck(mediaFile) {\n    if (!mediaFile || !utilities.isString(mediaFile.src)) {\n      throw new VASTError(VPAIDHTML5Tech.INVALID_MEDIA_FILE);\n    }\n  }\n}\n\nVPAIDHTML5Tech.VPAIDHTML5Client = VPAIDHTML5Client;\n\nVPAIDHTML5Tech.supports = function (type) {\n  return !utilities.isOldIE() && MimeTypes.html5.indexOf(type) > -1;\n};\n\nVPAIDHTML5Tech.prototype.loadAdUnit = function loadAdUnit(containerEl, videoEl, callback) {\n  sanityCheck(containerEl, videoEl, callback);\n\n  this.containerEl = containerEl;\n  this.videoEl = videoEl;\n  this.vpaidHTMLClient = new VPAIDHTML5Tech.VPAIDHTML5Client(containerEl, videoEl, {});\n  this.vpaidHTMLClient.loadAdUnit(this.mediaFile.src, callback);\n\n  function sanityCheck(container, video, cb) {\n    if (!dom.isDomElement(container)) {\n      throw new VASTError(VPAIDHTML5Tech.INVALID_DOM_CONTAINER_EL);\n    }\n\n    if (!dom.isDomElement(video) || video.tagName.toLowerCase() !== 'video') {\n      throw new VASTError(VPAIDHTML5Tech.INVALID_DOM_CONTAINER_EL);\n    }\n\n    if (!utilities.isFunction(cb)) {\n      throw new VASTError(VPAIDHTML5Tech.MISSING_CALLBACK);\n    }\n  }\n};\n\nVPAIDHTML5Tech.prototype.unloadAdUnit = function unloadAdUnit() {\n  if (this.vpaidHTMLClient) {\n    try {\n      this.vpaidHTMLClient.destroy();\n    } catch (e) {\n      logger.error('VAST ERROR: trying to unload the VPAID adunit');\n    }\n\n    this.vpaidHTMLClient = null;\n  }\n\n  if (this.containerEl) {\n    dom.remove(this.containerEl);\n    this.containerEl = null;\n  }\n};\n\nvar PREFIX = 'on VPAIDHTML5Tech';\n\nVPAIDHTML5Tech.INVALID_MEDIA_FILE = PREFIX + ', invalid MediaFile';\nVPAIDHTML5Tech.INVALID_DOM_CONTAINER_EL = PREFIX + ', invalid container HtmlElement';\nVPAIDHTML5Tech.INVALID_DOM_VIDEO_EL = PREFIX + ', invalid HTMLVideoElement';\nVPAIDHTML5Tech.MISSING_CALLBACK = PREFIX + ', missing valid callback';\n\nmodule.exports = VPAIDHTML5Tech;\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar MimeTypes = __webpack_require__(10);\nvar VASTError = __webpack_require__(3);\nvar VASTResponse = __webpack_require__(8);\nvar VASTTracker = __webpack_require__(20);\nvar vastUtil = __webpack_require__(4);\nvar async = __webpack_require__(9);\nvar dom = __webpack_require__(6);\nvar playerUtils = __webpack_require__(11);\nvar utilities = __webpack_require__(0);\nvar logger = __webpack_require__(5);\nvar VPAIDAdUnitWrapper = __webpack_require__(40);\n\nfunction VPAIDIntegrator(player, settings) {\n  if (!(this instanceof VPAIDIntegrator)) {\n    return new VPAIDIntegrator(player);\n  }\n\n  this.VIEW_MODE = {\n    NORMAL: 'normal',\n    FULLSCREEN: 'fullscreen',\n    THUMBNAIL: 'thumbnail'\n  };\n  this.player = player;\n  this.containerEl = createVPAIDContainerEl(player);\n  this.options = {\n    responseTimeout: 5000,\n    VPAID_VERSION: '2.0'\n  };\n  this.settings = settings;\n\n  /** * Local functions ***/\n\n  function createVPAIDContainerEl() {\n    var containerEl = document.createElement('div');\n\n    dom.addClass(containerEl, 'VPAID-container');\n    player.el().insertBefore(containerEl, player.controlBar.el());\n\n    return containerEl;\n  }\n}\n\nVPAIDIntegrator.prototype.playAd = function playVPaidAd(vastResponse, callback) {\n  if (!(vastResponse instanceof VASTResponse)) {\n    return callback(new VASTError('on VASTIntegrator.playAd, missing required VASTResponse'));\n  }\n\n  var that = this;\n  var player = this.player;\n\n  logger.debug('<VPAIDIntegrator.playAd> looking for supported tech...');\n  var tech = this._findSupportedTech(vastResponse, this.settings);\n\n  callback = callback || utilities.noop;\n\n  this._adUnit = null;\n\n  dom.addClass(player.el(), 'vjs-vpaid-ad');\n\n  player.on('vast.adsCancel', triggerVpaidAdEnd);\n  player.one('vpaid.adEnd', function () {\n    player.off('vast.adsCancel', triggerVpaidAdEnd);\n    removeAdUnit();\n  });\n\n  if (tech) {\n    logger.info('<VPAIDIntegrator.playAd> found tech: ', tech);\n\n    async.waterfall([function (next) {\n      next(null, tech, vastResponse);\n    }, this._loadAdUnit.bind(this), this._playAdUnit.bind(this), this._finishPlaying.bind(this)], adComplete);\n\n    this._adUnit = {\n      _paused: true,\n      type: 'VPAID',\n      pauseAd: function pauseAd() {\n        player.trigger('vpaid.pauseAd');\n        player.pause(true); // we make sure that the video content gets stopped.\n      },\n      resumeAd: function resumeAd() {\n        player.trigger('vpaid.resumeAd');\n      },\n      isPaused: function isPaused() {\n        return this._paused;\n      },\n      getSrc: function getSrc() {\n        return tech.mediaFile;\n      }\n    };\n  } else {\n    logger.debug('<VPAIDIntegrator.playAd> could not find suitable tech');\n    var error = new VASTError('on VPAIDIntegrator.playAd, could not find a supported mediaFile', 403);\n\n    adComplete(error, this._adUnit, vastResponse);\n  }\n\n  return this._adUnit;\n\n  /** * Local functions ***/\n  function adComplete(error, adUnit, vastResponse) {\n    if (error && vastResponse) {\n      that._trackError(vastResponse, error.code);\n    }\n    player.trigger('vpaid.adEnd');\n    callback(error, vastResponse);\n  }\n\n  function triggerVpaidAdEnd() {\n    player.trigger('vpaid.adEnd');\n  }\n\n  function removeAdUnit() {\n    if (tech) {\n      tech.unloadAdUnit();\n    }\n    dom.removeClass(player.el(), 'vjs-vpaid-ad');\n  }\n};\n\nVPAIDIntegrator.prototype._findSupportedTech = function (vastResponse, settings) {\n  if (!(vastResponse instanceof VASTResponse)) {\n    return null;\n  }\n\n  var vpaidMediaFiles = vastResponse.mediaFiles.filter(vastUtil.isVPAID);\n  var preferredTech = settings && settings.preferredTech;\n  var skippedSupportTechs = [];\n  var i = void 0,\n      len = void 0,\n      mediaFile = void 0,\n      VPAIDTech = void 0,\n      isPreferedTech = void 0;\n\n  for (i = 0, len = vpaidMediaFiles.length; i < len; i += 1) {\n    mediaFile = vpaidMediaFiles[i];\n    VPAIDTech = vastUtil.findSupportedVPAIDTech(mediaFile.type);\n\n    // no supported VPAID tech found, skip mediafile\n    //eslint-disable-next-line\n    if (!VPAIDTech) {\n      continue;\n    }\n\n    // do we have a prefered tech, does it play this media file ?\n    isPreferedTech = preferredTech ? mediaFile.type === preferredTech || MimeTypes[preferredTech] && MimeTypes[preferredTech].indexOf(mediaFile.type) > -1 : false;\n\n    // our prefered tech can read this mediafile, defaulting to it.\n    if (isPreferedTech) {\n      return new VPAIDTech(mediaFile, settings);\n    }\n\n    skippedSupportTechs.push({ mediaFile: mediaFile, tech: VPAIDTech });\n  }\n\n  if (skippedSupportTechs.length) {\n    var firstTech = skippedSupportTechs[0];\n\n    return new firstTech.tech(firstTech.mediaFile, settings);\n  }\n\n  return null;\n};\n\nVPAIDIntegrator.prototype._createVPAIDAdUnitWrapper = function (adUnit, src, responseTimeout) {\n  return new VPAIDAdUnitWrapper(adUnit, { src: src, responseTimeout: responseTimeout });\n};\n\nVPAIDIntegrator.prototype._loadAdUnit = function (tech, vastResponse, next) {\n  var that = this;\n  var player = this.player;\n  var vjsTechEl = player.el().querySelector('.vjs-tech');\n  var responseTimeout = this.settings.responseTimeout || this.options.responseTimeout;\n\n  tech.loadAdUnit(this.containerEl, vjsTechEl, function (error, adUnit) {\n    if (error) {\n      return next(error, adUnit, vastResponse);\n    }\n\n    try {\n      var WrappedAdUnit = that._createVPAIDAdUnitWrapper(adUnit, tech.mediaFile.src, responseTimeout);\n      var techClass = 'vjs-' + tech.name + '-ad';\n\n      dom.addClass(player.el(), techClass);\n      player.one('vpaid.adEnd', function () {\n        dom.removeClass(player.el(), techClass);\n      });\n      next(null, WrappedAdUnit, vastResponse);\n    } catch (e) {\n      next(e, adUnit, vastResponse);\n    }\n  });\n};\n\nVPAIDIntegrator.prototype._playAdUnit = function (adUnit, vastResponse, callback) {\n  async.waterfall([function (next) {\n    next(null, adUnit, vastResponse);\n  }, this._handshake.bind(this), this._initAd.bind(this), this._setupEvents.bind(this), this._addSkipButton.bind(this), this._linkPlayerControls.bind(this), this._startAd.bind(this)], callback);\n};\n\nVPAIDIntegrator.prototype._handshake = function handshake(adUnit, vastResponse, next) {\n  adUnit.handshakeVersion(this.options.VPAID_VERSION, function (error, version) {\n    if (error) {\n      return next(error, adUnit, vastResponse);\n    }\n\n    if (version && isSupportedVersion(version)) {\n      return next(null, adUnit, vastResponse);\n    }\n\n    return next(new VASTError('on VPAIDIntegrator._handshake, unsupported version \"' + version + '\"'), adUnit, vastResponse);\n  });\n\n  function isSupportedVersion(version) {\n    var majorNum = major(version);\n\n    return majorNum >= 1 && majorNum <= 2;\n  }\n\n  function major(version) {\n    var parts = version.split('.');\n\n    return parseInt(parts[0], 10);\n  }\n};\n\nVPAIDIntegrator.prototype._initAd = function (adUnit, vastResponse, next) {\n  var tech = this.player.el().querySelector('.vjs-tech');\n  var dimension = dom.getDimension(tech);\n\n  adUnit.initAd(dimension.width, dimension.height, this.VIEW_MODE.NORMAL, -1, { AdParameters: vastResponse.adParameters || '' }, function (error) {\n    next(error, adUnit, vastResponse);\n  });\n};\n\nVPAIDIntegrator.prototype._createVASTTracker = function (adUnitSrc, vastResponse) {\n  return new VASTTracker(adUnitSrc, vastResponse);\n};\n\nVPAIDIntegrator.prototype._setupEvents = function (adUnit, vastResponse, next) {\n  var adUnitSrc = adUnit.options.src;\n  var tracker = this._createVASTTracker(adUnitSrc, vastResponse);\n  var player = this.player;\n  var that = this;\n\n  adUnit.on('AdSkipped', function () {\n    player.trigger('vpaid.AdSkipped');\n    tracker.trackSkip();\n  });\n\n  adUnit.on('AdImpression', function () {\n    player.trigger('vpaid.AdImpression');\n    tracker.trackImpressions();\n  });\n\n  adUnit.on('AdStarted', function () {\n    player.trigger('vpaid.AdStarted');\n    tracker.trackCreativeView();\n    notifyPlayToPlayer();\n  });\n\n  adUnit.on('AdVideoStart', function () {\n    player.trigger('vpaid.AdVideoStart');\n    tracker.trackStart();\n    notifyPlayToPlayer();\n  });\n\n  adUnit.on('AdPlaying', function () {\n    player.trigger('vpaid.AdPlaying');\n    tracker.trackResume();\n    notifyPlayToPlayer();\n  });\n\n  adUnit.on('AdPaused', function () {\n    player.trigger('vpaid.AdPaused');\n    tracker.trackPause();\n    notifyPauseToPlayer();\n  });\n\n  function notifyPlayToPlayer() {\n    if (that._adUnit && that._adUnit.isPaused()) {\n      that._adUnit._paused = false;\n    }\n    player.trigger('play');\n  }\n\n  function notifyPauseToPlayer() {\n    if (that._adUnit) {\n      that._adUnit._paused = true;\n    }\n    player.trigger('pause');\n  }\n\n  adUnit.on('AdVideoFirstQuartile', function () {\n    player.trigger('vpaid.AdVideoFirstQuartile');\n    tracker.trackFirstQuartile();\n  });\n\n  adUnit.on('AdVideoMidpoint', function () {\n    player.trigger('vpaid.AdVideoMidpoint');\n    tracker.trackMidpoint();\n  });\n\n  adUnit.on('AdVideoThirdQuartile', function () {\n    player.trigger('vpaid.AdVideoThirdQuartile');\n    tracker.trackThirdQuartile();\n  });\n\n  adUnit.on('AdVideoComplete', function () {\n    player.trigger('vpaid.AdVideoComplete');\n    tracker.trackComplete();\n  });\n\n  adUnit.on('AdClickThru', function (data) {\n    player.trigger('vpaid.AdClickThru');\n    var url = data.url;\n    var playerHandles = data.playerHandles;\n    var clickThruUrl = utilities.isNotEmptyString(url) ? url : generateClickThroughURL(vastResponse.clickThrough);\n\n    tracker.trackClick();\n    if (playerHandles && clickThruUrl) {\n      window.open(clickThruUrl, '_blank');\n    }\n\n    function generateClickThroughURL(clickThroughMacro) {\n      var variables = {\n        ASSETURI: adUnit.options.src,\n        CONTENTPLAYHEAD: 0 // In VPAID there is no method to know the current time from the adUnit\n      };\n\n      return clickThroughMacro ? vastUtil.parseURLMacro(clickThroughMacro, variables) : null;\n    }\n  });\n\n  adUnit.on('AdUserAcceptInvitation', function () {\n    player.trigger('vpaid.AdUserAcceptInvitation');\n    tracker.trackAcceptInvitation();\n    tracker.trackAcceptInvitationLinear();\n  });\n\n  adUnit.on('AdUserClose', function () {\n    player.trigger('vpaid.AdUserClose');\n    tracker.trackClose();\n    tracker.trackCloseLinear();\n  });\n\n  adUnit.on('AdUserMinimize', function () {\n    player.trigger('vpaid.AdUserMinimize');\n    tracker.trackCollapse();\n  });\n\n  adUnit.on('AdError', function () {\n    player.trigger('vpaid.AdError');\n\n    // NOTE: we track errors code 901, as noted in VAST 3.0\n    tracker.trackErrorWithCode(901);\n  });\n\n  adUnit.on('AdVolumeChange', function () {\n    player.trigger('vpaid.AdVolumeChange');\n    var lastVolume = player.volume();\n\n    adUnit.getAdVolume(function (error, currentVolume) {\n      if (lastVolume !== currentVolume) {\n        if (currentVolume === 0 && lastVolume > 0) {\n          tracker.trackMute();\n        }\n\n        if (currentVolume > 0 && lastVolume === 0) {\n          tracker.trackUnmute();\n        }\n\n        player.volume(currentVolume);\n      }\n    });\n  });\n\n  var updateViewSize = resizeAd.bind(this, player, adUnit, this.VIEW_MODE);\n  var updateViewSizeThrottled = utilities.throttle(updateViewSize, 100);\n  var autoResize = this.settings.autoResize;\n\n  if (autoResize) {\n    dom.addEventListener(window, 'resize', updateViewSizeThrottled);\n    dom.addEventListener(window, 'orientationchange', updateViewSizeThrottled);\n  }\n\n  player.on('vast.resize', updateViewSize);\n  player.on('vpaid.pauseAd', pauseAdUnit);\n  player.on('vpaid.resumeAd', resumeAdUnit);\n\n  player.one('vpaid.adEnd', function () {\n    player.off('vast.resize', updateViewSize);\n    player.off('vpaid.pauseAd', pauseAdUnit);\n    player.off('vpaid.resumeAd', resumeAdUnit);\n\n    if (autoResize) {\n      dom.removeEventListener(window, 'resize', updateViewSizeThrottled);\n      dom.removeEventListener(window, 'orientationchange', updateViewSizeThrottled);\n    }\n  });\n\n  next(null, adUnit, vastResponse);\n\n  /** * Local Functions ***/\n  function pauseAdUnit() {\n    adUnit.pauseAd(utilities.noop);\n  }\n\n  function resumeAdUnit() {\n    adUnit.resumeAd(utilities.noop);\n  }\n};\n\nVPAIDIntegrator.prototype._addSkipButton = function (adUnit, vastResponse, next) {\n  var skipButton = void 0;\n  var player = this.player;\n\n  adUnit.on('AdSkippableStateChange', updateSkipButtonState);\n\n  playerUtils.once(player, ['vast.adEnd', 'vast.adsCancel'], removeSkipButton);\n\n  next(null, adUnit, vastResponse);\n\n  /** * Local function ***/\n  function updateSkipButtonState() {\n    player.trigger('vpaid.AdSkippableStateChange');\n    adUnit.getAdSkippableState(function (error, isSkippable) {\n      if (isSkippable) {\n        if (!skipButton) {\n          addSkipButton(player);\n        }\n      } else {\n        removeSkipButton(player);\n      }\n    });\n  }\n\n  function addSkipButton(player) {\n    skipButton = createSkipButton(player);\n    player.el().appendChild(skipButton);\n  }\n\n  function removeSkipButton() {\n    dom.remove(skipButton);\n    skipButton = null;\n  }\n\n  function createSkipButton() {\n    var skipButton = window.document.createElement('div');\n\n    dom.addClass(skipButton, 'vast-skip-button');\n    dom.addClass(skipButton, 'enabled');\n    skipButton.innerHTML = 'Skip ad';\n\n    skipButton.onclick = function (e) {\n      adUnit.skipAd(utilities.noop); // We skip the adUnit\n\n      // We prevent event propagation to avoid problems with the clickThrough and so on\n      if (window.Event.prototype.stopPropagation === undefined) {\n        return false;\n      } else {\n        e.stopPropagation();\n      }\n    };\n\n    return skipButton;\n  }\n};\n\nVPAIDIntegrator.prototype._linkPlayerControls = function (adUnit, vastResponse, next) {\n  var that = this;\n\n  linkVolumeControl(this.player, adUnit);\n  linkFullScreenControl(this.player, adUnit, this.VIEW_MODE);\n\n  next(null, adUnit, vastResponse);\n\n  /** * Local functions ***/\n  function linkVolumeControl(player, adUnit) {\n    player.on('volumechange', updateAdUnitVolume);\n    adUnit.on('AdVolumeChange', updatePlayerVolume);\n\n    player.one('vpaid.adEnd', function () {\n      player.off('volumechange', updateAdUnitVolume);\n    });\n\n    /** * local functions ***/\n    function updateAdUnitVolume() {\n      var vol = player.muted() ? 0 : player.volume();\n\n      adUnit.setAdVolume(vol, logError);\n    }\n\n    function updatePlayerVolume() {\n      player.trigger('vpaid.AdVolumeChange');\n      var lastVolume = player.volume();\n\n      adUnit.getAdVolume(function (error, vol) {\n        if (error) {\n          logError(error);\n        } else if (lastVolume !== vol) {\n          player.volume(vol);\n        }\n      });\n    }\n  }\n\n  function linkFullScreenControl(player, adUnit, VIEW_MODE) {\n    var updateViewSize = resizeAd.bind(that, player, adUnit, VIEW_MODE);\n\n    player.on('fullscreenchange', updateViewSize);\n\n    player.one('vpaid.adEnd', function () {\n      player.off('fullscreenchange', updateViewSize);\n    });\n  }\n};\n\nVPAIDIntegrator.prototype._startAd = function (adUnit, vastResponse, next) {\n  var player = this.player;\n\n  adUnit.startAd(function (error) {\n    if (!error) {\n      player.trigger('vast.adStart');\n    }\n    next(error, adUnit, vastResponse);\n  });\n};\n\nVPAIDIntegrator.prototype._finishPlaying = function (adUnit, vastResponse, next) {\n  var player = this.player;\n\n  adUnit.on('AdStopped', function () {\n    player.trigger('vpaid.AdStopped');\n    finishPlayingAd(null);\n  });\n\n  adUnit.on('AdError', function (error) {\n    var errMsg = error ? error.message : 'on VPAIDIntegrator, error while waiting for the adUnit to finish playing';\n\n    finishPlayingAd(new VASTError(errMsg));\n  });\n\n  /** * local functions ***/\n  function finishPlayingAd(error) {\n    next(error, adUnit, vastResponse);\n  }\n};\n\nVPAIDIntegrator.prototype._trackError = function trackError(response, errorCode) {\n  vastUtil.track(response.errorURLMacros, { ERRORCODE: errorCode || 901 });\n};\n\nfunction resizeAd(player, adUnit, VIEW_MODE) {\n  var tech = player.el().querySelector('.vjs-tech');\n  var dimension = dom.getDimension(tech);\n  var MODE = player.isFullscreen() ? VIEW_MODE.FULLSCREEN : VIEW_MODE.NORMAL;\n\n  adUnit.resizeAd(dimension.width, dimension.height, MODE, logError);\n}\n\nfunction logError(error) {\n  if (error) {\n    logger.error('ERROR: ' + error.message, error);\n  }\n}\n\nmodule.exports = VPAIDIntegrator;\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar dom = __webpack_require__(6);\n\nvar element = document.createElement('div');\n\nelement.className = 'vjs-ads-label vjs-control vjs-label-hidden';\nelement.innerHTML = 'Advertisement';\n\nvar AdsLabelFactory = function AdsLabelFactory(baseComponent) {\n  return {\n    /** @constructor */\n    init: function init(player, options) {\n      options.el = element;\n      baseComponent.call(this, player, options);\n\n      // We asynchronously reposition the ads label element\n      setTimeout(function () {\n        var currentTimeComp = player.controlBar && (player.controlBar.getChild('timerControls') || player.controlBar.getChild('currentTimeDisplay'));\n\n        if (currentTimeComp) {\n          player.controlBar.el().insertBefore(element, currentTimeComp.el());\n        }\n        dom.removeClass(element, 'vjs-label-hidden');\n      }, 0);\n    },\n\n    el: function getElement() {\n      return element;\n    }\n  };\n};\n\nmodule.exports = AdsLabelFactory;\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * The component that shows a black screen until the ads plugin has decided if it can or it can not play the ad.\n *\n * Note: In case you wonder why instead of this black poster we don't just show the spinner loader.\n *       IOS devices do not work well with animations and the browser chrashes from time to time That is why we chose to\n *       have a secondary black poster.\n *\n *       It also makes it much more easier for the users of the plugin since it does not change the default behaviour of the\n *       spinner and the player works the same way with and without the plugin.\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvar element = document.createElement('div');\n\nvar BlackPosterFactory = function BlackPosterFactory(baseComponent) {\n  return {\n    /** @constructor */\n    init: function init(player, options) {\n      options.el = element;\n      element.className = 'vjs-black-poster';\n      baseComponent.call(this, player, options);\n\n      var posterImg = player.getChild('posterImage');\n\n      // We need to do it asynchronously to be sure that the black poster el is on the dom.\n      setTimeout(function () {\n        if (posterImg && player && player.el()) {\n          player.el().insertBefore(element, posterImg.el());\n        }\n      }, 0);\n    },\n    el: function getElement() {\n      return element;\n    }\n  };\n};\n\nmodule.exports = BlackPosterFactory;\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar urlUtils = __webpack_require__(24);\nvar utilities = __webpack_require__(0);\n\nfunction HttpRequestError(message) {\n  this.message = 'HttpRequest Error: ' + (message || '');\n}\nHttpRequestError.prototype = new Error();\nHttpRequestError.prototype.name = 'HttpRequest Error';\n\nfunction HttpRequest(createXhr) {\n  if (!utilities.isFunction(createXhr)) {\n    throw new HttpRequestError('Missing XMLHttpRequest factory method');\n  }\n\n  this.createXhr = createXhr;\n}\n\nHttpRequest.prototype.run = function (method, url, callback, options) {\n  sanityCheck(url, callback, options);\n  var timeout = void 0,\n      timeoutId = void 0;\n  var xhr = this.createXhr();\n\n  options = options || {};\n  timeout = utilities.isNumber(options.timeout) ? options.timeout : 0;\n\n  xhr.open(method, urlUtils.urlParts(url).href, true);\n\n  if (options.headers) {\n    setHeaders(xhr, options.headers);\n  }\n\n  if (options.withCredentials) {\n    xhr.withCredentials = true;\n  }\n\n  xhr.onload = function () {\n    var statusText = void 0,\n        response = void 0,\n        status = void 0;\n\n    /**\n     * The only way to do a secure request on IE8 and IE9 is with the XDomainRequest object. Unfortunately, microsoft is\n     * so nice that decided that the status property and the 'getAllResponseHeaders' method where not needed so we have to\n     * fake them. If the request gets done with an XDomainRequest instance, we will assume that there are no headers and\n     * the status will always be 200. If you don't like it, DO NOT USE ANCIENT BROWSERS!!!\n     *\n     * For mor info go to: https://msdn.microsoft.com/en-us/library/cc288060(v=vs.85).aspx\n     */\n    if (!xhr.getAllResponseHeaders) {\n      xhr.getAllResponseHeaders = function () {\n        return null;\n      };\n    }\n\n    if (!xhr.status) {\n      xhr.status = 200;\n    }\n\n    if (utilities.isDefined(timeoutId)) {\n      clearTimeout(timeoutId);\n      timeoutId = undefined;\n    }\n\n    statusText = xhr.statusText || '';\n\n    // responseText is the old-school way of retrieving response (supported by IE8 & 9)\n    // response/responseType properties were introduced in XHR Level2 spec (supported by IE10)\n    response = 'response' in xhr ? xhr.response : xhr.responseText;\n\n    // normalize IE9 bug (http://bugs.jquery.com/ticket/1450)\n    status = xhr.status === 1223 ? 204 : xhr.status;\n\n    callback(status, response, xhr.getAllResponseHeaders(), statusText);\n  };\n\n  xhr.onerror = requestError;\n  xhr.onabort = requestError;\n\n  xhr.send();\n\n  if (timeout > 0) {\n    timeoutId = setTimeout(function () {\n      if (xhr) {\n        xhr.abort();\n      }\n    }, timeout);\n  }\n\n  function sanityCheck(url, callback, options) {\n    if (!utilities.isString(url) || utilities.isEmptyString(url)) {\n      throw new HttpRequestError('Invalid url \\'' + url + '\\'');\n    }\n\n    if (!utilities.isFunction(callback)) {\n      throw new HttpRequestError('Invalid handler \\'' + callback + '\\' for the http request');\n    }\n\n    if (utilities.isDefined(options) && !utilities.isObject(options)) {\n      throw new HttpRequestError('Invalid options map \\'' + options + '\\'');\n    }\n  }\n\n  function setHeaders(xhr, headers) {\n    utilities.forEach(headers, function (value, key) {\n      if (utilities.isDefined(value)) {\n        xhr.setRequestHeader(key, value);\n      }\n    });\n  }\n\n  function requestError() {\n    callback(-1, null, null, '');\n  }\n};\n\nHttpRequest.prototype.get = function (url, callback, options) {\n  this.run('GET', url, processResponse, options);\n\n  function processResponse(status, response, headersString, statusText) {\n    if (isSuccess(status)) {\n      callback(null, response, status, headersString, statusText);\n    } else {\n      callback(new HttpRequestError(statusText), response, status, headersString, statusText);\n    }\n  }\n\n  function isSuccess(status) {\n    return 200 <= status && status < 300;\n  }\n};\n\nfunction createXhr() {\n  var xhr = new XMLHttpRequest();\n\n  if (!('withCredentials' in xhr)) {\n    // XDomainRequest for IE.\n    xhr = new XDomainRequest();\n  }\n\n  return xhr;\n}\n\nvar http = new HttpRequest(createXhr);\n\nmodule.exports = {\n  http: http,\n  HttpRequest: HttpRequest,\n  HttpRequestError: HttpRequestError,\n  createXhr: createXhr\n};\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(48)();\n// imports\n\n\n// module\nexports.push([module.i, \".vjs-label-hidden {\\n  display: none !important;\\n}\\n\\n.vjs-default-skin div.vjs-ads-label {\\n  font-size: 13px;\\n  line-height: 30px;\\n  font-weight: normal;\\n  text-align: center;\\n  color: white;\\n  display: none;\\n  width: auto;\\n  padding-left: 10px;\\n}\\n\\n.vjs-ad-playing .vjs-control.vjs-ads-label {\\n  display: block;\\n}\\n\\n.vjs-black-poster {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  margin: 0;\\n  padding: 0;\\n  background-repeat: no-repeat;\\n  background-position: 50% 50%;\\n  background-size: contain;\\n  cursor: pointer;\\n  background-color: #000;\\n}\\n\\n.vjs-has-started .vjs-black-poster.vjs-hidden {\\n  display: none;\\n}\\n\\n.vjs-using-native-controls .vjs-black-poster {\\n  display: none;\\n}\\n\\ndiv.VPAID-container {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\ndiv.vjs-vpaid-ad div.vjs-progress-control,\\ndiv.vjs-vpaid-ad div.vjs-time-controls,\\ndiv.vjs-vpaid-ad div.vjs-time-divider {\\n  display: none;\\n}\\n\\ndiv.vjs-vpaid-ad.vjs-vpaid-flash-ad div.VPAID-container {\\n  background-color: #000;\\n}\\n\\ndiv.vjs-vpaid-ad .vjs-tech {\\n  z-index: 0;\\n}\\n\\n/**\\n * videojs.ads.css\\n */\\n\\n/* Ad playback */\\n\\n.vjs-ad-playing .vjs-progress-control {\\n  pointer-events: none;\\n}\\n\\n.vjs-ad-playing .vjs-play-control.vjs-paused,\\n.vjs-ad-playing .vjs-volume-level,\\n.vjs-ad-playing .vjs-play-progress {\\n  background-color: #ffe400 !important;\\n}\\n\\ndiv.vast-skip-button {\\n  display: block;\\n  position: absolute;\\n  bottom: 20%;\\n  right: 0;\\n  background-color: #000;\\n  color: white;\\n  font-size: 15px;\\n  font-weight: bold;\\n  width: auto;\\n  padding: 8px;\\n  z-index: 2;\\n  border: 1px solid white;\\n  border-right: none;\\n}\\n\\n.vast-skip-button.enabled {\\n  cursor: pointer;\\n  color: #fff;\\n}\\n\\n.vast-skip-button.enabled:hover {\\n  cursor: pointer;\\n  background: #333;\\n}\\n\\n.vast-blocker {\\n  display: block;\\n  position: absolute;\\n  margin: 0;\\n  padding: 0;\\n  height: 100%;\\n  width: 100%;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n}\\n\\n.vast-skip-button.enabled::after {\\n  content: \\\">>\\\";\\n  position: relative;\\n  top: 1px;\\n  margin-left: 8px;\\n}\\n\\n/* Ad loading */\\n\\n.vjs-ad-playing.vjs-vast-ad-loading .vjs-loading-spinner {\\n  display: block;\\n  z-index: 10;\\n  /* only animate when showing because it can be processor heavy */\\n  -webkit-animation: spin 1.5s infinite linear;\\n  animation: spin 1.5s infinite linear;\\n}\\n\\n.vjs-vast-ad-loading div.vjs-big-play-button {\\n  display: none !important;\\n}\\n\\n.vjs-ad-playing .vjs-slider-handle::before {\\n  display: none;\\n}\\n\\n.vjs-ad-playing .vjs-live-controls {\\n  display: none;\\n}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports) {\n\n/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"VPAIDFlash.swf\";\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports) {\n\n/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\nvar stylesInDom = {},\n\tmemoize = function(fn) {\n\t\tvar memo;\n\t\treturn function () {\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\t\treturn memo;\n\t\t};\n\t},\n\tisOldIE = memoize(function() {\n\t\treturn /msie [6-9]\\b/.test(self.navigator.userAgent.toLowerCase());\n\t}),\n\tgetHeadElement = memoize(function () {\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\n\t}),\n\tsingletonElement = null,\n\tsingletonCounter = 0,\n\tstyleElementsInsertedAtTop = [];\n\nmodule.exports = function(list, options) {\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the bottom of <head>.\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list);\n\taddStylesToDom(styles, options);\n\n\treturn function update(newList) {\n\t\tvar mayRemove = [];\n\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\n\t\t\t\t\tdomStyle.parts[j]();\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction addStylesToDom(styles, options) {\n\tfor(var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles(list) {\n\tvar styles = [];\n\tvar newStyles = {};\n\tfor(var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\t\tif(!newStyles[id])\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse\n\t\t\tnewStyles[id].parts.push(part);\n\t}\n\treturn styles;\n}\n\nfunction insertStyleElement(options, styleElement) {\n\tvar head = getHeadElement();\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\n\tif (options.insertAt === \"top\") {\n\t\tif(!lastStyleElementInsertedAtTop) {\n\t\t\thead.insertBefore(styleElement, head.firstChild);\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\thead.appendChild(styleElement);\n\t\t}\n\t\tstyleElementsInsertedAtTop.push(styleElement);\n\t} else if (options.insertAt === \"bottom\") {\n\t\thead.appendChild(styleElement);\n\t} else {\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t}\n}\n\nfunction removeStyleElement(styleElement) {\n\tstyleElement.parentNode.removeChild(styleElement);\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\n\tif(idx >= 0) {\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement(options) {\n\tvar styleElement = document.createElement(\"style\");\n\tstyleElement.type = \"text/css\";\n\tinsertStyleElement(options, styleElement);\n\treturn styleElement;\n}\n\nfunction createLinkElement(options) {\n\tvar linkElement = document.createElement(\"link\");\n\tlinkElement.rel = \"stylesheet\";\n\tinsertStyleElement(options, linkElement);\n\treturn linkElement;\n}\n\nfunction addStyle(obj, options) {\n\tvar styleElement, update, remove;\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\n\t} else if(obj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\") {\n\t\tstyleElement = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t\tif(styleElement.href)\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\n\t\t};\n\t} else {\n\t\tstyleElement = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle(newObj) {\n\t\tif(newObj) {\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\n\t\t\t\treturn;\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = styleElement.childNodes;\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\n\t\tif (childNodes.length) {\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyleElement.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag(styleElement, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyleElement.setAttribute(\"media\", media)\n\t}\n\n\tif(styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = css;\n\t} else {\n\t\twhile(styleElement.firstChild) {\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\n\t\t}\n\t\tstyleElement.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink(linkElement, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\tif(sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = linkElement.href;\n\n\tlinkElement.href = URL.createObjectURL(blob);\n\n\tif(oldSrc)\n\t\tURL.revokeObjectURL(oldSrc);\n}\n\n\n/***/ }),\n/* 51 */,\n/* 52 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar baseVideoJsComponent = videojs.getComponent('Component');\n\nvar AdsLabel = __webpack_require__(44)(baseVideoJsComponent);\n\nvideojs.registerComponent('AdsLabel', videojs.extend(baseVideoJsComponent, AdsLabel));\n\n/***/ }),\n/* 53 */,\n/* 54 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar baseVideoJsComponent = videojs.getComponent('Component');\n\nvar BlackPoster = __webpack_require__(45)(baseVideoJsComponent);\n\nvideojs.registerComponent('BlackPoster', videojs.extend(baseVideoJsComponent, BlackPoster));\n\n/***/ }),\n/* 55 */,\n/* 56 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(52);\n__webpack_require__(54);\n__webpack_require__(27);\n\nvar videoJsVAST = __webpack_require__(26);\n\nvideojs.plugin('vastClient', videoJsVAST);\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// videojs_5.vast.vpaid.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 56);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap dc38d35cdc6ab712697e","/* eslint no-useless-escape: 0 */\nconst NODE_TYPE_ELEMENT = 1;\nconst SNAKE_CASE_REGEXP = /[A-Z]/g;\nconst EMAIL_REGEXP = /^[a-z0-9!#$%&'*+\\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)+$/i;\nconst ISO8086_REGEXP = /^([\\+-]?\\d{4}(?!\\d{2}\\b))((-?)((0[1-9]|1[0-2])(\\3([12]\\d|0[1-9]|3[01]))?|W([0-4]\\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\\d|[12]\\d{2}|3([0-5]\\d|6[1-6])))([T\\s]((([01]\\d|2[0-3])((:?)[0-5]\\d)?|24:?00)([\\.,]\\d+(?!:))?)?(\\17[0-5]\\d([\\.,]\\d+)?)?([zZ]|([\\+-])([01]\\d|2[0-3]):?([0-5]\\d)?)?)?)?$/;\n\nfunction noop () { }\n\nfunction isNull (o) {\n  return o === null;\n}\n\nfunction isDefined (o) {\n  return o !== undefined;\n}\n\nfunction isUndefined (o) {\n  return o === undefined;\n}\n\nfunction isObject (obj) {\n  return typeof obj === 'object';\n}\n\nfunction isFunction (str) {\n  return typeof str === 'function';\n}\n\nfunction isNumber (num) {\n  return typeof num === 'number';\n}\n\nfunction isWindow (obj) {\n  return utilities.isObject(obj) && obj.window === obj;\n}\n\nfunction isArray (array) {\n  return Object.prototype.toString.call(array) === '[object Array]';\n}\n\nfunction isArrayLike (obj) {\n  if (obj === null || utilities.isWindow(obj) || utilities.isFunction(obj) || utilities.isUndefined(obj)) {\n    return false;\n  }\n\n  const length = obj.length;\n\n  if (obj.nodeType === NODE_TYPE_ELEMENT && length) {\n    return true;\n  }\n\n  return utilities.isString(obj) || utilities.isArray(obj) || length === 0 ||\n    typeof length === 'number' && length > 0 && length - 1 in obj;\n}\n\nfunction isString (str) {\n  return typeof str === 'string';\n}\n\nfunction isEmptyString (str) {\n  return utilities.isString(str) && str.length === 0;\n}\n\nfunction isNotEmptyString (str) {\n  return utilities.isString(str) && str.length !== 0;\n}\n\nfunction arrayLikeObjToArray (args) {\n  return Array.prototype.slice.call(args);\n}\n\nfunction forEach (obj, iterator, context) {\n  let key, length;\n\n  if (obj) {\n    if (isFunction(obj)) {\n      for (key in obj) {\n        // Need to check if hasOwnProperty exists,\n        // as on IE8 the result of querySelectorAll is an object without a hasOwnProperty function\n        if (key !== 'prototype' && key !== 'length' && key !== 'name' && (!obj.hasOwnProperty || obj.hasOwnProperty(key))) {\n          iterator.call(context, obj[key], key, obj);\n        }\n      }\n    } else if (isArray(obj)) {\n      const isPrimitive = typeof obj !== 'object';\n\n      for (key = 0, length = obj.length; key < length; key++) {\n        if (isPrimitive || key in obj) {\n          iterator.call(context, obj[key], key, obj);\n        }\n      }\n    } else if (obj.forEach && obj.forEach !== forEach) {\n      obj.forEach(iterator, context, obj);\n    } else {\n      for (key in obj) {\n        if (obj.hasOwnProperty(key)) {\n          iterator.call(context, obj[key], key, obj);\n        }\n      }\n    }\n  }\n\n  return obj;\n}\n\nfunction snake_case (name, separator) {\n  separator = separator || '_';\n\n  return name.replace(SNAKE_CASE_REGEXP, (letter, pos) => {\n    return (pos ? separator : '') + letter.toLowerCase();\n  });\n}\n\nfunction isValidEmail (email) {\n  if (!utilities.isString(email)) {\n    return false;\n  }\n\n  return EMAIL_REGEXP.test(email.trim());\n}\n\nfunction extend (obj) {\n  let arg, i, k;\n\n  for (i = 1; i < arguments.length; i++) {\n    arg = arguments[i];\n    for (k in arg) {\n      if (arg.hasOwnProperty(k)) {\n        if (isObject(obj[k]) && !isNull(obj[k]) && isObject(arg[k])) {\n          obj[k] = extend({}, obj[k], arg[k]);\n        } else {\n          obj[k] = arg[k];\n        }\n      }\n    }\n  }\n\n  return obj;\n}\n\nfunction capitalize (s) {\n  return s.charAt(0).toUpperCase() + s.slice(1);\n}\n\nfunction decapitalize (s) {\n  return s.charAt(0).toLowerCase() + s.slice(1);\n}\n\n/**\n * This method works the same way array.prototype.map works but if the transformer returns undefine, then\n * it won't be added to the transformed Array.\n */\nfunction transformArray (array, transformer) {\n  const transformedArray = [];\n\n  array.forEach((item, index) => {\n    const transformedItem = transformer(item, index);\n\n    if (utilities.isDefined(transformedItem)) {\n      transformedArray.push(transformedItem);\n    }\n  });\n\n  return transformedArray;\n}\n\nfunction toFixedDigits (num, digits) {\n  let formattedNum = String(num);\n\n  digits = utilities.isNumber(digits) ? digits : 0;\n  num = utilities.isNumber(num) ? num : parseInt(num, 10);\n  if (utilities.isNumber(num) && !isNaN(num)) {\n    formattedNum = String(num);\n    while (formattedNum.length < digits) {\n      formattedNum = '0' + formattedNum;\n    }\n\n    return formattedNum;\n  }\n\n  return String(NaN);\n}\n\nfunction throttle (callback, delay) {\n  let previousCall = new Date().getTime() - (delay + 1);\n\n  return function () {\n    const time = new Date().getTime();\n\n    if (time - previousCall >= delay) {\n      previousCall = time;\n      callback.apply(this, arguments);\n    }\n  };\n}\n\nfunction debounce (callback, wait) {\n  let timeoutId;\n\n  return function () {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n    }\n    timeoutId = setTimeout(function () {\n      callback.apply(this, arguments);\n      timeoutId = undefined;\n    }, wait);\n  };\n}\n\n// a function designed to blow up the stack in a naive way\n// but it is ok for videoJs children components\nfunction treeSearch (root, getChildren, found) {\n  const children = getChildren(root);\n\n  for (let i = 0; i < children.length; i++) {\n    if (found(children[i])) {\n      return children[i];\n    }\n    else {\n      const el = treeSearch(children[i], getChildren, found);\n\n      if (el) {\n        return el;\n      }\n    }\n  }\n}\n\nfunction echoFn (val) {\n  return function () {\n    return val;\n  };\n}\n\n// Note: Supported formats come from http://www.w3.org/TR/NOTE-datetime\n// and the iso8601 regex comes from http://www.pelagodesign.com/blog/2009/05/20/iso-8601-date-validation-that-doesnt-suck/\nfunction isISO8601 (value) {\n  if (utilities.isNumber(value)) {\n    value = String(value);  // we make sure that we are working with strings\n  }\n\n  if (!utilities.isString(value)) {\n    return false;\n  }\n\n  return ISO8086_REGEXP.test(value.trim());\n}\n\n/**\n * Checks if the Browser is IE9 and below\n * @returns {boolean}\n */\nfunction isOldIE () {\n  const version = utilities.getInternetExplorerVersion(navigator);\n\n  if (version === -1) {\n    return false;\n  }\n\n  return version < 10;\n}\n\n/**\n * Returns the version of Internet Explorer or a -1 (indicating the use of another browser).\n * Source: https://msdn.microsoft.com/en-us/library/ms537509(v=vs.85).aspx\n * @returns {number} the version of Internet Explorer or a -1 (indicating the use of another browser).\n */\nfunction getInternetExplorerVersion (navigator) {\n  let rv = -1;\n\n  if (navigator.appName === 'Microsoft Internet Explorer') {\n    const ua = navigator.userAgent;\n    const re = new RegExp('MSIE ([0-9]{1,}[.0-9]{0,})');\n    const res = re.exec(ua);\n\n    if (res !== null) {\n      rv = parseFloat(res[1]);\n    }\n  }\n\n  return rv;\n}\n\n/** * Mobile Utility functions ***/\nfunction isIDevice () {\n  return /iP(hone|ad)/.test(utilities.UA);\n}\n\nfunction isMobile () {\n  return /iP(hone|ad|od)|Android|Windows Phone/.test(utilities.UA);\n}\n\nfunction isIPhone () {\n  return /iP(hone|od)/.test(utilities.UA);\n}\n\nfunction isAndroid () {\n  return /Android/.test(utilities.UA);\n}\n\nconst utilities = {\n  UA: navigator.userAgent,\n  noop: noop,\n  isNull: isNull,\n  isDefined: isDefined,\n  isUndefined: isUndefined,\n  isObject: isObject,\n  isFunction: isFunction,\n  isNumber: isNumber,\n  isWindow: isWindow,\n  isArray: isArray,\n  isArrayLike: isArrayLike,\n  isString: isString,\n  isEmptyString: isEmptyString,\n  isNotEmptyString: isNotEmptyString,\n  arrayLikeObjToArray: arrayLikeObjToArray,\n  forEach: forEach,\n  snake_case: snake_case,\n  isValidEmail: isValidEmail,\n  extend: extend,\n  capitalize: capitalize,\n  decapitalize: decapitalize,\n  transformArray: transformArray,\n  toFixedDigits: toFixedDigits,\n  throttle: throttle,\n  debounce: debounce,\n  treeSearch: treeSearch,\n  echoFn: echoFn,\n  isISO8601: isISO8601,\n  isOldIE: isOldIE,\n  getInternetExplorerVersion: getInternetExplorerVersion,\n  isIDevice: isIDevice,\n  isMobile: isMobile,\n  isIPhone: isIPhone,\n  isAndroid: isAndroid\n};\n\nmodule.exports = utilities;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/utils/utilityFunctions.js","'use strict';\n\nexport function unique(prefix) {\n    let count = -1;\n    return f => {\n        return `${prefix}_${++count}`;\n    };\n}\n\nexport function noop() {\n}\n\n\nexport function callbackTimeout(timer, onSuccess, onTimeout) {\n\n    let timeout = setTimeout(() => {\n\n        onSuccess = noop;\n        onTimeout();\n\n    }, timer);\n\n    return function () {\n        clearTimeout(timeout);\n        onSuccess.apply(this, arguments);\n    };\n}\n\n\nexport function createElementWithID(parent, id, cleanContent = false) {\n    var nEl = document.createElement('div');\n    nEl.id = id;\n    if (cleanContent) {\n        parent.innerHTML = '';\n    }\n    parent.appendChild(nEl);\n    return nEl;\n}\n\nexport function isPositiveInt(newVal, oldVal) {\n    return !isNaN(parseFloat(newVal)) && isFinite(newVal) && newVal > 0 ? newVal : oldVal;\n}\n\nlet endsWith = (function () {\n    if (String.prototype.endsWith) return String.prototype.endsWith;\n    return function endsWith (searchString, position) {\n        var subjectString = this.toString();\n        if (position === undefined || position > subjectString.length) {\n            position = subjectString.length;\n        }\n        position -= searchString.length;\n        var lastIndex = subjectString.indexOf(searchString, position);\n        return lastIndex !== -1 && lastIndex === position;\n    };\n})();\n\nexport function stringEndsWith(string, search) {\n    return endsWith.call(string, search);\n}\n\nexport function hideFlashEl(el) {\n    // can't use display none or visibility none because will block flash in some browsers\n    el.style.position = 'absolute';\n    el.style.left = '-1px';\n    el.style.top = '-1px';\n    el.style.width = '1px';\n    el.style.height = '1px';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/vpaid-flash-client/js/utils.js","\n\nconst utilities = require('./utilityFunctions');\n\nconst xml = {};\n\nxml.strToXMLDoc = function strToXMLDoc (stringContainingXMLSource) {\n  // IE 8\n  if (typeof window.DOMParser === 'undefined') {\n    const xmlDocument = new ActiveXObject('Microsoft.XMLDOM');\n\n    xmlDocument.async = false;\n    xmlDocument.loadXML(stringContainingXMLSource);\n\n    return xmlDocument;\n  }\n\n  return parseString(stringContainingXMLSource);\n\n  function parseString (stringContainingXMLSource) {\n    const parser = new DOMParser();\n    let parsedDocument;\n\n    // Note: This try catch is to deal with the fact that on IE parser.parseFromString does throw an error but the rest of the browsers don't.\n    try {\n      parsedDocument = parser.parseFromString(stringContainingXMLSource, 'application/xml');\n\n      if (isParseError(parsedDocument) || utilities.isEmptyString(stringContainingXMLSource)) {\n        throw new Error();\n      }\n    } catch (e) {\n      throw new Error('xml.strToXMLDOC: Error parsing the string: \\'' + stringContainingXMLSource + '\\'');\n    }\n\n    return parsedDocument;\n  }\n\n  function isParseError (parsedDocument) {\n    try { // parser and parsererrorNS could be cached on startup for efficiency\n      let parser = new DOMParser(),\n        erroneousParse = parser.parseFromString('INVALID', 'text/xml'),\n        parsererrorNS = erroneousParse.getElementsByTagName('parsererror')[0].namespaceURI;\n\n      if (parsererrorNS === 'http://www.w3.org/1999/xhtml') {\n        // In PhantomJS the parseerror element doesn't seem to have a special namespace, so we are just guessing here :(\n        return parsedDocument.getElementsByTagName('parsererror').length > 0;\n      }\n\n      return parsedDocument.getElementsByTagNameNS(parsererrorNS, 'parsererror').length > 0;\n    } catch (e) {\n      // Note on IE parseString throws an error by itself and it will never reach this code. Because it will have failed before\n    }\n  }\n};\n\nxml.parseText = function parseText (sValue) {\n  if (/^\\s*$/.test(sValue)) { return null; }\n  if (/^(?:true|false)$/i.test(sValue)) { return sValue.toLowerCase() === 'true'; }\n  if (isFinite(sValue)) { return parseFloat(sValue); }\n  if (utilities.isISO8601(sValue)) { return new Date(sValue); }\n\n  return sValue.trim();\n};\n\nxml.JXONTree = function JXONTree (oXMLParent) {\n  const parseText = xml.parseText;\n\n  // The document object is an especial object that it may miss some functions or attrs depending on the browser.\n  // To prevent this problem with create the JXONTree using the root childNode which is a fully fleshed node on all supported\n  // browsers.\n  if (oXMLParent.documentElement) {\n    return new xml.JXONTree(oXMLParent.documentElement);\n  }\n\n  if (oXMLParent.hasChildNodes()) {\n    let sCollectedTxt = '';\n\n    for (let oNode, sProp, vContent, nItem = 0; nItem < oXMLParent.childNodes.length; nItem++) {\n      oNode = oXMLParent.childNodes.item(nItem);\n\n      /* jshint bitwise: false*/\n      if ((oNode.nodeType - 1 | 1) === 3) { sCollectedTxt += oNode.nodeType === 3 ? oNode.nodeValue.trim() : oNode.nodeValue; }\n      else if (oNode.nodeType === 1 && !oNode.prefix) {\n        sProp = utilities.decapitalize(oNode.nodeName);\n        vContent = new xml.JXONTree(oNode);\n        if (this.hasOwnProperty(sProp)) {\n          if (this[sProp].constructor !== Array) { this[sProp] = [this[sProp]]; }\n          this[sProp].push(vContent);\n        } else { this[sProp] = vContent; }\n      }\n    }\n    if (sCollectedTxt) { this.keyValue = parseText(sCollectedTxt); }\n  }\n\n  // IE8 Stupid fix\n  const hasAttr = typeof oXMLParent.hasAttributes === 'undefined' ? oXMLParent.attributes.length > 0 : oXMLParent.hasAttributes();\n\n  if (hasAttr) {\n    let oAttrib;\n\n    for (let nAttrib = 0; nAttrib < oXMLParent.attributes.length; nAttrib++) {\n      oAttrib = oXMLParent.attributes.item(nAttrib);\n      this['@' + utilities.decapitalize(oAttrib.name)] = parseText(oAttrib.value.trim());\n    }\n  }\n};\n\nxml.JXONTree.prototype.attr = function (attr) {\n  return this['@' + utilities.decapitalize(attr)];\n};\n\nxml.toJXONTree = function toJXONTree (xmlString) {\n  const xmlDoc = xml.strToXMLDoc(xmlString);\n\n  return new xml.JXONTree(xmlDoc);\n};\n\n/**\n * Helper function to extract the keyvalue of a JXONTree obj\n *\n * @param xmlObj {JXONTree}\n * return the key value or undefined;\n */\nxml.keyValue = function getKeyValue (xmlObj) {\n  if (xmlObj) {\n    return xmlObj.keyValue;\n  }\n\n  return undefined;\n};\n\nxml.attr = function getAttrValue (xmlObj, attr) {\n  if (xmlObj) {\n    return xmlObj['@' + utilities.decapitalize(attr)];\n  }\n\n  return undefined;\n};\n\nxml.encode = function encodeXML (str) {\n  if (!utilities.isString(str)) { return undefined; }\n\n  return str.replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&apos;');\n};\n\nxml.decode = function decodeXML (str) {\n  if (!utilities.isString(str)) { return undefined; }\n\n  return str.replace(/&apos;/g, '\\'')\n    .replace(/&quot;/g, '\"')\n    .replace(/&gt;/g, '>')\n    .replace(/&lt;/g, '<')\n    .replace(/&amp;/g, '&');\n};\n\nmodule.exports = xml;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/utils/xml.js","\n\nfunction VASTError (message, code) {\n  this.message = 'VAST Error: ' + (message || '');\n  if (code) {\n    this.code = code;\n  }\n}\n\nVASTError.prototype = new Error();\nVASTError.prototype.name = 'VAST Error';\n\nmodule.exports = VASTError;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ads/vast/VASTError.js","const VPAIDFLASHClient = require('vpaid-flash-client/js/VPAIDFLASHClient');\nconst utilities = require('../../utils/utilityFunctions');\nconst VPAIDHTML5Tech = require('../vpaid/VPAIDHTML5Tech');\nconst VPAIDFlashTech = require('../vpaid/VPAIDFlashTech');\n\nconst vastUtil = {\n\n  track: function track (URLMacros, variables) {\n    const sources = vastUtil.parseURLMacros(URLMacros, variables);\n    const trackImgs = [];\n\n    sources.forEach((src) => {\n      const img = new Image();\n\n      img.src = src;\n      trackImgs.push(img);\n    });\n\n    return trackImgs;\n  },\n\n  parseURLMacros: function parseMacros (URLMacros, variables) {\n    const parsedURLs = [];\n\n    variables = variables || {};\n\n    if (!variables.CACHEBUSTING) {\n      variables.CACHEBUSTING = Math.round(Math.random() * 1.0e+10);\n    }\n\n    URLMacros.forEach((URLMacro) => {\n      parsedURLs.push(vastUtil._parseURLMacro(URLMacro, variables));\n    });\n\n    return parsedURLs;\n  },\n\n  parseURLMacro: function parseMacro (URLMacro, variables) {\n    variables = variables || {};\n\n    if (!variables.CACHEBUSTING) {\n      variables.CACHEBUSTING = Math.round(Math.random() * 1.0e+10);\n    }\n\n    return vastUtil._parseURLMacro(URLMacro, variables);\n  },\n\n  _parseURLMacro: function parseMacro (URLMacro, variables) {\n    variables = variables || {};\n\n    utilities.forEach(variables, (value, key) => {\n      //eslint-disable-next-line\n      URLMacro = URLMacro.replace(new RegExp('\\\\[' + key + '\\\\\\]', 'gm'), value);\n    });\n\n    return URLMacro;\n  },\n\n  parseDuration: function parseDuration (durationStr) {\n    const durationRegex = /(\\d\\d):(\\d\\d):(\\d\\d)(\\.(\\d\\d\\d))?/;\n    let match, durationInMs;\n\n    if (utilities.isString(durationStr)) {\n      match = durationStr.match(durationRegex);\n      if (match) {\n        durationInMs = parseHoursToMs(match[1]) + parseMinToMs(match[2]) + parseSecToMs(match[3]) + parseInt(match[5] || 0, 10);\n      }\n    }\n\n    return isNaN(durationInMs) ? null : durationInMs;\n\n    /** * local functions ***/\n    function parseHoursToMs (hourStr) {\n      return parseInt(hourStr, 10) * 60 * 60 * 1000;\n    }\n\n    function parseMinToMs (minStr) {\n      return parseInt(minStr, 10) * 60 * 1000;\n    }\n\n    function parseSecToMs (secStr) {\n      return parseInt(secStr, 10) * 1000;\n    }\n  },\n\n  parseImpressions: function parseImpressions (impressions) {\n    if (impressions) {\n      impressions = utilities.isArray(impressions) ? impressions : [impressions];\n\n      return utilities.transformArray(impressions, (impression) => {\n        if (utilities.isNotEmptyString(impression.keyValue)) {\n          return impression.keyValue;\n        }\n\n        return undefined;\n      });\n    }\n\n    return [];\n  },\n\n\n  // We assume that the progress is going to arrive in milliseconds\n  formatProgress: function formatProgress (progress) {\n    let hours, minutes, seconds, milliseconds;\n\n    hours = progress / (60 * 60 * 1000);\n    hours = Math.floor(hours);\n    minutes = progress / (60 * 1000) % 60;\n    minutes = Math.floor(minutes);\n    seconds = progress / 1000 % 60;\n    seconds = Math.floor(seconds);\n    milliseconds = progress % 1000;\n\n    return utilities.toFixedDigits(hours, 2) + ':' + utilities.toFixedDigits(minutes, 2) + ':' + utilities.toFixedDigits(seconds, 2) + '.' + utilities.toFixedDigits(milliseconds, 3);\n  },\n\n  parseOffset: function parseOffset (offset, duration) {\n    if (isPercentage(offset)) {\n      return calculatePercentage(offset, duration);\n    }\n\n    return vastUtil.parseDuration(offset);\n\n    /** * Local function ***/\n    function isPercentage (offset) {\n      const percentageRegex = /^\\d+(\\.\\d+)?%$/g;\n\n      return percentageRegex.test(offset);\n    }\n\n    function calculatePercentage (percentStr, duration) {\n      if (duration) {\n        return calcPercent(duration, parseFloat(percentStr.replace('%', '')));\n      }\n\n      return null;\n    }\n\n    function calcPercent (quantity, percent) {\n      return quantity * percent / 100;\n    }\n  },\n\n\n  // List of supported VPAID technologies\n  VPAID_techs: [\n    VPAIDFlashTech,\n    VPAIDHTML5Tech\n  ],\n\n  isVPAID: function isVPAIDMediaFile (mediaFile) {\n    return Boolean(mediaFile) && mediaFile.apiFramework === 'VPAID';\n  },\n\n  findSupportedVPAIDTech: function findSupportedVPAIDTech (mimeType) {\n    let i, len, VPAIDTech;\n\n    for (i = 0, len = this.VPAID_techs.length; i < len; i += 1) {\n      VPAIDTech = this.VPAID_techs[i];\n      if (VPAIDTech.supports(mimeType)) {\n        return VPAIDTech;\n      }\n    }\n\n    return null;\n  },\n\n  isFlashSupported: function isFlashSupported () {\n    return VPAIDFLASHClient.isSupported();\n  },\n\n  /**\n   * Necessary step for VPAIDFLAShClient to know if flash is supported and not blocked.\n   * IMPORTANT NOTE: This is an async test and needs to be run as soon as possible.\n   *\n   * @param vpaidFlashLoaderPath the path to the vpaidFlashLoader swf obj.\n   */\n  runFlashSupportCheck: function runFlashSupportCheck (vpaidFlashLoaderPath) {\n    VPAIDFLASHClient.runFlashTest({data: vpaidFlashLoaderPath});\n  }\n\n};\n\nmodule.exports = vastUtil;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ads/vast/vastUtil.js","/* jshint unused:false */\n\n\nlet _verbosity = 0;\nconst _prefix = '[videojs-vast-vpaid] ';\n\nfunction setVerbosity (v)\n{\n  _verbosity = v;\n}\n\nfunction handleMsg (method, args)\n{\n  if (args.length > 0 && typeof args[0] === 'string')\n    {\n    args[0] = _prefix + args[0];\n  }\n\n  if (method.apply)\n    {\n    method.apply(console, Array.prototype.slice.call(args));\n  }\n  else\n    {\n    method(Array.prototype.slice.call(args));\n  }\n}\n\nfunction debug ()\n{\n  if (_verbosity < 4)\n    {\n    return;\n  }\n\n  if (typeof console.debug === 'undefined')\n    {\n        // IE 10 doesn't have a console.debug() function\n    handleMsg(console.log, arguments);\n  }\n  else\n    {\n    handleMsg(console.debug, arguments);\n  }\n}\n\nfunction log ()\n{\n  if (_verbosity < 3)\n    {\n    return;\n  }\n\n  handleMsg(console.log, arguments);\n}\n\nfunction info ()\n{\n  if (_verbosity < 2)\n    {\n    return;\n  }\n\n  handleMsg(console.info, arguments);\n}\n\n\nfunction warn ()\n{\n  if (_verbosity < 1)\n    {\n    return;\n  }\n\n  handleMsg(console.warn, arguments);\n}\n\nfunction error ()\n{\n  handleMsg(console.error, arguments);\n}\n\nconst consoleLogger = {\n  setVerbosity: setVerbosity,\n  debug: debug,\n  log: log,\n  info: info,\n  warn: warn,\n  error: error\n};\n\nif (typeof console === 'undefined' || !console.log)\n{\n    // no console available; make functions no-op\n  consoleLogger.debug = function () {};\n  consoleLogger.log = function () {};\n  consoleLogger.info = function () {};\n  consoleLogger.warn = function () {};\n  consoleLogger.error = function () {};\n}\n\nmodule.exports = consoleLogger;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/utils/consoleLogger.js","\n\nconst utilities = require('./utilityFunctions');\n\nconst dom = {};\n\ndom.isVisible = function isVisible (el) {\n  const style = window.getComputedStyle(el);\n\n  return style.visibility !== 'hidden';\n};\n\ndom.isHidden = function isHidden (el) {\n  const style = window.getComputedStyle(el);\n\n  return style.display === 'none';\n};\n\ndom.isShown = function isShown (el) {\n  return !dom.isHidden(el);\n};\n\ndom.hide = function hide (el) {\n  el.__prev_style_display_ = el.style.display;\n  el.style.display = 'none';\n};\n\ndom.show = function show (el) {\n  if (dom.isHidden(el)) {\n    el.style.display = el.__prev_style_display_;\n  }\n  el.__prev_style_display_ = undefined;\n};\n\ndom.hasClass = function hasClass (el, cssClass) {\n  let classes, i, len;\n\n  if (utilities.isNotEmptyString(cssClass)) {\n    if (el.classList) {\n      return el.classList.contains(cssClass);\n    }\n\n    classes = utilities.isString(el.getAttribute('class')) ? el.getAttribute('class').split(/\\s+/) : [];\n    cssClass = cssClass || '';\n\n    for (i = 0, len = classes.length; i < len; i += 1) {\n      if (classes[i] === cssClass) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n};\n\ndom.addClass = function (el, cssClass) {\n  let classes;\n\n  if (utilities.isNotEmptyString(cssClass)) {\n    if (el.classList) {\n      return el.classList.add(cssClass);\n    }\n\n    classes = utilities.isString(el.getAttribute('class')) ? el.getAttribute('class').split(/\\s+/) : [];\n    if (utilities.isString(cssClass) && utilities.isNotEmptyString(cssClass.replace(/\\s+/, ''))) {\n      classes.push(cssClass);\n      el.setAttribute('class', classes.join(' '));\n    }\n  }\n};\n\ndom.removeClass = function (el, cssClass) {\n  let classes;\n\n  if (utilities.isNotEmptyString(cssClass)) {\n    if (el.classList) {\n      return el.classList.remove(cssClass);\n    }\n\n    classes = utilities.isString(el.getAttribute('class')) ? el.getAttribute('class').split(/\\s+/) : [];\n    const newClasses = [];\n    let i, len;\n\n    if (utilities.isString(cssClass) && utilities.isNotEmptyString(cssClass.replace(/\\s+/, ''))) {\n      for (i = 0, len = classes.length; i < len; i += 1) {\n        if (cssClass !== classes[i]) {\n          newClasses.push(classes[i]);\n        }\n      }\n      el.setAttribute('class', newClasses.join(' '));\n    }\n  }\n};\n\ndom.addEventListener = function addEventListener (el, type, handler) {\n  if (utilities.isArray(el)) {\n    utilities.forEach(el, (e) => {\n      dom.addEventListener(e, type, handler);\n    });\n\n    return;\n  }\n\n  if (utilities.isArray(type)) {\n    utilities.forEach(type, (t) => {\n      dom.addEventListener(el, t, handler);\n    });\n\n    return;\n  }\n\n  if (el.addEventListener) {\n    el.addEventListener(type, handler, false);\n  } else if (el.attachEvent) {\n    // WARNING!!! this is a very naive implementation !\n    // the event object that should be passed to the handler\n    // would not be there for IE8\n    // we should use \"window.event\" and then \"event.srcElement\"\n    // instead of \"event.target\"\n    el.attachEvent('on' + type, handler);\n  }\n};\n\ndom.removeEventListener = function removeEventListener (el, type, handler) {\n  if (utilities.isArray(el)) {\n    utilities.forEach(el, (e) => {\n      dom.removeEventListener(e, type, handler);\n    });\n\n    return;\n  }\n\n  if (utilities.isArray(type)) {\n    utilities.forEach(type, (t) => {\n      dom.removeEventListener(el, t, handler);\n    });\n\n    return;\n  }\n\n  if (el.removeEventListener) {\n    el.removeEventListener(type, handler, false);\n  } else if (el.detachEvent) {\n    el.detachEvent('on' + type, handler);\n  } else {\n    el['on' + type] = null;\n  }\n};\n\ndom.dispatchEvent = function dispatchEvent (el, event) {\n  if (el.dispatchEvent) {\n    el.dispatchEvent(event);\n  } else {\n    el.fireEvent('on' + event.eventType, event);\n  }\n};\n\ndom.isDescendant = function isDescendant (parent, child) {\n  let node = child.parentNode;\n\n  while (node !== null) {\n    if (node === parent) {\n      return true;\n    }\n    node = node.parentNode;\n  }\n\n  return false;\n};\n\ndom.getTextContent = function getTextContent (el) {\n  return el.textContent || el.text;\n};\n\ndom.prependChild = function prependChild (parent, child) {\n  if (child.parentNode) {\n    child.parentNode.removeChild(child);\n  }\n\n  return parent.insertBefore(child, parent.firstChild);\n};\n\ndom.remove = function removeNode (node) {\n  if (node && node.parentNode) {\n    node.parentNode.removeChild(node);\n  }\n};\n\ndom.isDomElement = function isDomElement (o) {\n  return o instanceof Element;\n};\n\ndom.click = function (el, handler) {\n  dom.addEventListener(el, 'click', handler);\n};\n\ndom.once = function (el, type, handler) {\n  function handlerWrap () {\n    handler(...arguments);\n    dom.removeEventListener(el, type, handlerWrap);\n  }\n\n  dom.addEventListener(el, type, handlerWrap);\n};\n\n// Note: there is no getBoundingClientRect on iPad so we need a fallback\ndom.getDimension = function getDimension (element) {\n  let rect;\n\n  // On IE9 and below getBoundingClientRect does not work consistently\n  if (!utilities.isOldIE() && element.getBoundingClientRect) {\n    rect = element.getBoundingClientRect();\n\n    return {\n      width: rect.width,\n      height: rect.height\n    };\n  }\n\n  return {\n    width: element.offsetWidth,\n    height: element.offsetHeight\n  };\n};\n\nmodule.exports = dom;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/utils/dom.js","'use strict';\n\nexport class MultipleValuesRegistry {\n    constructor () {\n        this._registries = {};\n    }\n    add (id, value) {\n        if (!this._registries[id]) {\n            this._registries[id] = [];\n        }\n        if (this._registries[id].indexOf(value) === -1) {\n            this._registries[id].push(value);\n        }\n    }\n    get (id) {\n        return this._registries[id] || [];\n    }\n    filterKeys (handler) {\n        return Object.keys(this._registries).filter(handler);\n    }\n    findByValue (value) {\n        var keys = Object.keys(this._registries).filter((key) => {\n            return this._registries[key].indexOf(value) !== -1;\n        });\n\n        return keys;\n    }\n    remove(key, value) {\n        if (!this._registries[key]) { return; }\n\n        var index = this._registries[key].indexOf(value);\n\n        if (index < 0) { return; }\n        return this._registries[key].splice(index, 1);\n    }\n    removeByKey (id) {\n        let old = this._registries[id];\n        delete this._registries[id];\n        return old;\n    }\n    removeByValue (value) {\n        let keys = this.findByValue(value);\n        return keys.map((key) => {\n            return this.remove(key, value);\n        });\n    }\n    removeAll() {\n        let old = this._registries;\n        this._registries = {};\n        return old;\n    }\n    size() {\n        return Object.keys(this._registries).length;\n    }\n}\n\nexport class SingleValueRegistry {\n    constructor () {\n        this._registries = {};\n    }\n    add (id, value) {\n        this._registries[id] = value;\n    }\n    get (id) {\n        return this._registries[id];\n    }\n    filterKeys (handler) {\n        return Object.keys(this._registries).filter(handler);\n    }\n    findByValue (value) {\n        var keys = Object.keys(this._registries).filter((key) => {\n            return this._registries[key] === value;\n        });\n\n        return keys;\n    }\n    remove (id) {\n        let old = this._registries[id];\n        delete this._registries[id];\n        return old;\n    }\n    removeByValue (value) {\n        let keys = this.findByValue(value);\n        return keys.map((key) => {\n            return this.remove(key);\n        });\n    }\n    removeAll() {\n        let old = this._registries;\n        this._registries = {};\n        return old;\n    }\n    size() {\n        return Object.keys(this._registries).length;\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/vpaid-flash-client/js/registry.js","const utilities = require('../../utils/utilityFunctions');\nconst xml = require('../../utils/xml');\nconst VideoClicks = require('./VideoClicks');\nconst Linear = require('./Linear');\nconst InLine = require('./InLine');\nconst Ad = require('./Ad');\nconst Wrapper = require('./Wrapper');\n\nwindow.InLine__A = InLine;\nfunction VASTResponse () {\n  if (!(this instanceof VASTResponse)) {\n    return new VASTResponse();\n  }\n\n  this._linearAdded = false;\n  this.ads = [];\n  this.errorURLMacros = [];\n  this.impressions = [];\n  this.clickTrackings = [];\n  this.customClicks = [];\n  this.trackingEvents = {};\n  this.mediaFiles = [];\n  this.clickThrough = undefined;\n  this.adTitle = '';\n  this.duration = undefined;\n  this.skipoffset = undefined;\n}\n\nVASTResponse.prototype.addAd = function (ad) {\n  let inLine, wrapper;\n\n  if (ad instanceof Ad) {\n    inLine = ad.inLine;\n    wrapper = ad.wrapper;\n\n    this.ads.push(ad);\n\n    if (inLine) {\n      this._addInLine(inLine);\n    }\n\n    if (wrapper) {\n      this._addWrapper(wrapper);\n    }\n  }\n};\n\nVASTResponse.prototype._addErrorTrackUrl = function (error) {\n  const errorURL = error instanceof xml.JXONTree ? xml.keyValue(error) : error;\n\n  if (errorURL) {\n    this.errorURLMacros.push(errorURL);\n  }\n};\n\nVASTResponse.prototype._addImpressions = function (impressions) {\n  if (Array.isArray(impressions)) {\n    appendToArray(this.impressions, impressions);\n  }\n};\n\nVASTResponse.prototype._addClickThrough = function (clickThrough) {\n  if (utilities.isNotEmptyString(clickThrough)) {\n    this.clickThrough = clickThrough;\n  }\n};\n\nVASTResponse.prototype._addClickTrackings = function (clickTrackings) {\n  if (Array.isArray(clickTrackings)) {\n    appendToArray(this.clickTrackings, clickTrackings);\n  }\n};\n\nVASTResponse.prototype._addCustomClicks = function (customClicks) {\n  if (Array.isArray(customClicks)) {\n    appendToArray(this.customClicks, customClicks);\n  }\n};\n\nVASTResponse.prototype._addTrackingEvents = function (trackingEvents) {\n  const eventsMap = this.trackingEvents;\n\n  if (trackingEvents) {\n    trackingEvents = utilities.isArray(trackingEvents) ? trackingEvents : [trackingEvents];\n    trackingEvents.forEach((trackingEvent) => {\n      if (!eventsMap[trackingEvent.name]) {\n        eventsMap[trackingEvent.name] = [];\n      }\n      eventsMap[trackingEvent.name].push(trackingEvent);\n    });\n  }\n};\n\nVASTResponse.prototype._addTitle = function (title) {\n  if (utilities.isNotEmptyString(title)) {\n    this.adTitle = title;\n  }\n};\n\nVASTResponse.prototype._addDuration = function (duration) {\n  if (utilities.isNumber(duration)) {\n    this.duration = duration;\n  }\n};\n\nVASTResponse.prototype._addVideoClicks = function (videoClicks) {\n  if (videoClicks instanceof VideoClicks) {\n    this._addClickThrough(videoClicks.clickThrough);\n    this._addClickTrackings(videoClicks.clickTrackings);\n    this._addCustomClicks(videoClicks.customClicks);\n  }\n};\n\nVASTResponse.prototype._addMediaFiles = function (mediaFiles) {\n  if (Array.isArray(mediaFiles)) {\n    appendToArray(this.mediaFiles, mediaFiles);\n  }\n};\n\nVASTResponse.prototype._addSkipoffset = function (offset) {\n  if (offset) {\n    this.skipoffset = offset;\n  }\n};\n\nVASTResponse.prototype._addAdParameters = function (adParameters) {\n  if (adParameters) {\n    this.adParameters = adParameters;\n  }\n};\n\nVASTResponse.prototype._addLinear = function (linear) {\n  if (linear instanceof Linear) {\n    this._addDuration(linear.duration);\n    this._addTrackingEvents(linear.trackingEvents);\n    this._addVideoClicks(linear.videoClicks);\n    this._addMediaFiles(linear.mediaFiles);\n    this._addSkipoffset(linear.skipoffset);\n    this._addAdParameters(linear.adParameters);\n    this._linearAdded = true;\n  }\n};\n\nVASTResponse.prototype._addInLine = function (inLine) {\n  const that = this;\n\n  if (inLine instanceof InLine) {\n    this._addTitle(inLine.adTitle);\n    this._addErrorTrackUrl(inLine.error);\n    this._addImpressions(inLine.impressions);\n\n    inLine.creatives.forEach((creative) => {\n      if (creative.linear) {\n        that._addLinear(creative.linear);\n      }\n    });\n  }\n};\n\nVASTResponse.prototype._addWrapper = function (wrapper) {\n  const that = this;\n\n  if (wrapper instanceof Wrapper) {\n    this._addErrorTrackUrl(wrapper.error);\n    this._addImpressions(wrapper.impressions);\n\n    wrapper.creatives.forEach((creative) => {\n      const linear = creative.linear;\n\n      if (linear) {\n        that._addVideoClicks(linear.videoClicks);\n        that.clickThrough = undefined;// We ensure that no clickThrough has been added\n        that._addTrackingEvents(linear.trackingEvents);\n      }\n    });\n  }\n};\n\nVASTResponse.prototype.hasLinear = function () {\n  return this._linearAdded;\n};\n\nfunction appendToArray (array, items) {\n  items.forEach((item) => {\n    array.push(item);\n  });\n}\n\nmodule.exports = VASTResponse;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ads/vast/VASTResponse.js","// Small subset of async\n\nconst utilities = require('./utilityFunctions');\n\nconst async = {};\n\nasync.setImmediate = function (fn) {\n  setTimeout(fn, 0);\n};\n\nasync.iterator = function (tasks) {\n  const makeCallback = function (index) {\n    const fn = function () {\n      if (tasks.length) {\n        tasks[index].apply(null, arguments);\n      }\n\n      return fn.next();\n    };\n\n    fn.next = function () {\n      return index < tasks.length - 1 ? makeCallback(index + 1) : null;\n    };\n\n    return fn;\n  };\n\n  return makeCallback(0);\n};\n\n\nasync.waterfall = function (tasks, callback) {\n  callback = callback || function () { };\n  if (!utilities.isArray(tasks)) {\n    const err = new Error('First argument to waterfall must be an array of functions');\n\n    return callback(err);\n  }\n  if (!tasks.length) {\n    return callback();\n  }\n  const wrapIterator = function (iterator) {\n    return function (err) {\n      if (err) {\n        callback(...arguments);\n        callback = function () {\n        };\n      }\n      else {\n        const args = Array.prototype.slice.call(arguments, 1);\n        const next = iterator.next();\n\n        if (next) {\n          args.push(wrapIterator(next));\n        }\n        else {\n          args.push(callback);\n        }\n        async.setImmediate(() => {\n          iterator(...args);\n        });\n      }\n    };\n  };\n\n  wrapIterator(async.iterator(tasks))();\n};\n\nasync.when = function (condition, callback) {\n  if (!utilities.isFunction(callback)) {\n    throw new Error('async.when error: missing callback argument');\n  }\n\n  const isAllowed = utilities.isFunction(condition) ? condition : function () {\n    return Boolean(condition);\n  };\n\n  return function () {\n    const args = utilities.arrayLikeObjToArray(arguments);\n    const next = args.pop();\n\n    if (isAllowed(...args)) {\n      return callback.apply(this, arguments);\n    }\n\n    args.unshift(null);\n\n    return next(...args);\n  };\n};\n\nmodule.exports = async;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/utils/async.js","\n\nmodule.exports = {\n  html5: [\n    'text/javascript',\n    'text/javascript1.0',\n    'text/javascript1.2',\n    'text/javascript1.4',\n    'text/jscript',\n    'application/javascript',\n    'application/x-javascript',\n    'text/ecmascript',\n    'text/ecmascript1.0',\n    'text/ecmascript1.2',\n    'text/ecmascript1.4',\n    'text/livescript',\n    'application/ecmascript',\n    'application/x-ecmascript'\n  ],\n\n  flash: [\n    'application/x-shockwave-flash'\n  ]\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/utils/mimetypes.js","\n\nconst dom = require('./dom');\nconst utilities = require('./utilityFunctions');\n\nconst playerUtils = {};\n\n/**\n * Returns an object that captures the portions of player state relevant to\n * video playback. The result of this function can be passed to\n * restorePlayerSnapshot with a player to return the player to the state it\n * was in when this function was invoked.\n * @param {object} player The videojs player object\n */\nplayerUtils.getPlayerSnapshot = function getPlayerSnapshot (player) {\n  const tech = player.el().querySelector('.vjs-tech');\n\n  const snapshot = {\n    ended: player.ended(),\n    src: player.currentSrc(),\n    currentTime: player.currentTime(),\n    type: player.currentType(),\n    playing: !player.paused(),\n    suppressedTracks: getSuppressedTracks(player)\n  };\n\n  if (tech) {\n    snapshot.nativePoster = tech.poster;\n    snapshot.style = tech.getAttribute('style');\n  }\n\n  return snapshot;\n\n  /** ** Local Functions ****/\n  function getSuppressedTracks (player) {\n    let tracks = player.remoteTextTracks ? player.remoteTextTracks() : [];\n\n    if (tracks && utilities.isArray(tracks.tracks)) {\n      tracks = tracks.tracks;\n    }\n\n    if (!utilities.isArray(tracks)) {\n      tracks = [];\n    }\n\n    const suppressedTracks = [];\n\n    tracks.forEach((track) => {\n      suppressedTracks.push({\n        track: track,\n        mode: track.mode\n      });\n      track.mode = 'disabled';\n    });\n\n    return suppressedTracks;\n  }\n};\n\n/**\n * Attempts to modify the specified player so that its state is equivalent to\n * the state of the snapshot.\n * @param {object} snapshot - the player state to apply\n */\nplayerUtils.restorePlayerSnapshot = function restorePlayerSnapshot (player, snapshot) {\n  const tech = player.el().querySelector('.vjs-tech');\n  let attempts = 20; // the number of remaining attempts to restore the snapshot\n\n  if (snapshot.nativePoster) {\n    tech.poster = snapshot.nativePoster;\n  }\n\n  if ('style' in snapshot) {\n    // overwrite all css style properties to restore state precisely\n    tech.setAttribute('style', snapshot.style || '');\n  }\n\n  if (hasSrcChanged(player, snapshot)) {\n    // on ios7, fiddling with textTracks too early will cause safari to crash\n    player.one('contentloadedmetadata', restoreTracks);\n\n    player.one('canplay', tryToResume);\n    ensureCanplayEvtGetsFired();\n\n    // if the src changed for ad playback, reset it\n    player.src({src: snapshot.src, type: snapshot.type});\n\n    // safari requires a call to `load` to pick up a changed source\n    player.load();\n  } else {\n    restoreTracks();\n\n    if (snapshot.playing) {\n      player.play();\n    }\n  }\n\n  /** * Local Functions ***/\n\n  /**\n   * Sometimes firefox does not trigger the 'canplay' evt.\n   * This code ensure that it always gets triggered triggered.\n   */\n  function ensureCanplayEvtGetsFired () {\n    const timeoutId = setTimeout(() => {\n      player.trigger('canplay');\n    }, 1000);\n\n    player.one('canplay', () => {\n      clearTimeout(timeoutId);\n    });\n  }\n\n  /**\n   * Determine whether the player needs to be restored to its state\n   * before ad playback began. With a custom ad display or burned-in\n   * ads, the content player state hasn't been modified and so no\n   * restoration is required\n   */\n  function hasSrcChanged (player, snapshot) {\n    if (player.src()) {\n      return player.src() !== snapshot.src;\n    }\n\n    // the player was configured through source element children\n    return player.currentSrc() !== snapshot.src;\n  }\n\n  function restoreTracks () {\n    const suppressedTracks = snapshot.suppressedTracks;\n\n    suppressedTracks.forEach((trackSnapshot) => {\n      trackSnapshot.track.mode = trackSnapshot.mode;\n    });\n  }\n\n  /**\n   * Determine if the video element has loaded enough of the snapshot source\n   * to be ready to apply the rest of the state\n   */\n  function tryToResume () {\n    // if some period of the video is seekable, resume playback\n    // otherwise delay a bit and then check again unless we're out of attempts\n\n    if (!playerUtils.isReadyToResume(player) && attempts--) {\n      setTimeout(tryToResume, 50);\n    } else {\n      try {\n        if (player.currentTime() !== snapshot.currentTime) {\n          if (snapshot.playing) { // if needed restore playing status after seek completes\n            player.one('seeked', () => {\n              player.play();\n            });\n          }\n          player.currentTime(snapshot.currentTime);\n        } else if (snapshot.playing) {\n          // if needed and no seek has been performed, restore playing status immediately\n          player.play();\n        }\n      } catch (e) {\n        videojs.log.warn('Failed to resume the content after an advertisement', e);\n      }\n    }\n  }\n};\n\nplayerUtils.isReadyToResume = function (player) {\n  if (player.readyState() > 1) {\n    // some browsers and media aren't \"seekable\".\n    // readyState greater than 1 allows for seeking without exceptions\n    return true;\n  }\n\n  if (player.seekable() === undefined) {\n    // if the player doesn't expose the seekable time ranges, try to\n    // resume playback immediately\n    return true;\n  }\n\n  if (player.seekable().length > 0) {\n    // if some period of the video is seekable, resume playback\n    return true;\n  }\n\n  return false;\n};\n\n/**\n * This function prepares the player to display ads.\n * Adding convenience events like the 'vast.firsPlay' that gets fired when the video is first played\n * and ads the blackPoster to the player to prevent content from being displayed before the preroll ad.\n *\n * @param player\n */\nplayerUtils.prepareForAds = function (player) {\n  const blackPoster = player.addChild('blackPoster');\n  let _firstPlay = true;\n  let volumeSnapshot;\n\n\n  monkeyPatchPlayerApi();\n\n  player.on('play', tryToTriggerFirstPlay);\n  player.on('vast.reset', resetFirstPlay);// Every time we change the sources we reset the first play.\n  player.on('vast.firstPlay', restoreContentVolume);\n  player.on('error', hideBlackPoster);// If there is an error in the player we remove the blackposter to show the err msg\n  player.on('vast.adStart', hideBlackPoster);\n  player.on('vast.adsCancel', hideBlackPoster);\n  player.on('vast.adError', hideBlackPoster);\n  player.on('vast.adStart', addStyles);\n  player.on('vast.adEnd', removeStyles);\n  player.on('vast.adsCancel', removeStyles);\n\n  /** * Local Functions ***/\n\n  /**\n   What this function does is ugly and horrible and I should think twice before calling myself a good developer. With that said,\n   it is the best solution I could find to mute the video until the 'play' event happens (on mobile devices) and the plugin can decide whether\n   to play the ad or not.\n\n   We also need this monkeypatch to be able to pause and resume an ad using the player's API\n\n   If you have a better solution please do tell me.\n   */\n  function monkeyPatchPlayerApi () {\n    /**\n     * Monkey patch needed to handle firstPlay and resume of playing ad.\n     *\n     * @param callOrigPlay necessary flag to prevent infinite loop when you are restoring a VAST ad.\n     * @returns {player}\n     */\n    const origPlay = player.play;\n\n    player.play = function (callOrigPlay) {\n      const that = this;\n\n      if (isFirstPlay()) {\n        firstPlay();\n      } else {\n        resume(callOrigPlay);\n      }\n\n      return this;\n\n      /** * local functions ***/\n      function firstPlay () {\n        if (!utilities.isIPhone()) {\n          volumeSnapshot = saveVolumeSnapshot();\n          player.muted(true);\n        }\n\n        origPlay.apply(that, arguments);\n        tryToTriggerFirstPlay();\n      }\n\n      function resume (callOrigPlay) {\n        if (isAdPlaying() && !callOrigPlay) {\n          player.vast.adUnit.resumeAd();\n        } else {\n          origPlay.apply(that, arguments);\n        }\n      }\n    };\n\n\n    /**\n     * Needed monkey patch to handle pause of playing ad.\n     *\n     * @param callOrigPlay necessary flag to prevent infinite loop when you are pausing a VAST ad.\n     * @returns {player}\n     */\n    const origPause = player.pause;\n\n    player.pause = function (callOrigPause) {\n      if (isAdPlaying() && !callOrigPause) {\n        player.vast.adUnit.pauseAd();\n      } else {\n        origPause.apply(this, arguments);\n      }\n\n      return this;\n    };\n\n\n    /**\n     * Needed monkey patch to handle paused state of the player when ads are playing.\n     *\n     * @param callOrigPlay necessary flag to prevent infinite loop when you are pausing a VAST ad.\n     * @returns {player}\n     */\n    const origPaused = player.paused;\n\n    player.paused = function (callOrigPaused) {\n      if (isAdPlaying() && !callOrigPaused) {\n        return player.vast.adUnit.isPaused();\n      }\n\n      return origPaused.apply(this, arguments);\n    };\n  }\n\n  function isAdPlaying () {\n    return player.vast && player.vast.adUnit;\n  }\n\n  function tryToTriggerFirstPlay () {\n    if (isFirstPlay()) {\n      _firstPlay = false;\n      player.trigger('vast.firstPlay');\n    }\n  }\n\n  function resetFirstPlay () {\n    _firstPlay = true;\n    blackPoster.show();\n    restoreContentVolume();\n  }\n\n  function isFirstPlay () {\n    return _firstPlay;\n  }\n\n  function saveVolumeSnapshot () {\n    return {\n      muted: player.muted(),\n      volume: player.volume()\n    };\n  }\n\n  function restoreContentVolume () {\n    if (volumeSnapshot) {\n      player.currentTime(0);\n      restoreVolumeSnapshot(volumeSnapshot);\n      volumeSnapshot = null;\n    }\n  }\n\n  function restoreVolumeSnapshot (snapshot) {\n    if (utilities.isObject(snapshot)) {\n      player.volume(snapshot.volume);\n      player.muted(snapshot.muted);\n    }\n  }\n\n  function hideBlackPoster () {\n    if (!dom.hasClass(blackPoster.el(), 'vjs-hidden')) {\n      blackPoster.hide();\n    }\n  }\n\n  function addStyles () {\n    dom.addClass(player.el(), 'vjs-ad-playing');\n  }\n\n  function removeStyles () {\n    dom.removeClass(player.el(), 'vjs-ad-playing');\n  }\n};\n\n/**\n * Remove the poster attribute from the video element tech, if present. When\n * reusing a video element for multiple videos, the poster image will briefly\n * reappear while the new source loads. Removing the attribute ahead of time\n * prevents the poster from showing up between videos.\n * @param {object} player The videojs player object\n */\nplayerUtils.removeNativePoster = function (player) {\n  const tech = player.el().querySelector('.vjs-tech');\n\n  if (tech) {\n    tech.removeAttribute('poster');\n  }\n};\n\n/**\n * Helper function to listen to many events until one of them gets fired, then we\n * execute the handler and unsubscribe all the event listeners;\n *\n * @param player specific player from where to listen for the events\n * @param events array of events\n * @param handler function to execute once one of the events fires\n */\nplayerUtils.once = function once (player, events, handler) {\n  function listener () {\n    handler(...arguments);\n\n    events.forEach((event) => {\n      player.off(event, listener);\n    });\n  }\n\n  events.forEach((event) => {\n    player.on(event, listener);\n  });\n};\n\n\nmodule.exports = playerUtils;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/utils/playerUtils.js","'use strict';\n\nconst swfobject = require('swfobject');\n\nconst JSFlashBridge = require('./jsFlashBridge').JSFlashBridge;\nconst VPAIDAdUnit = require('./VPAIDAdUnit').VPAIDAdUnit;\n\nconst noop = require('./utils').noop;\nconst callbackTimeout = require('./utils').callbackTimeout;\nconst isPositiveInt = require('./utils').isPositiveInt;\nconst createElementWithID = require('./utils').createElementWithID;\nconst uniqueVPAID = require('./utils').unique('vpaid');\nconst createFlashTester = require('./flashTester.js').createFlashTester;\n\nconst ERROR = 'error';\nconst FLASH_VERSION = '10.1.0';\n\nlet flashTester = {isSupported: ()=> true}; // if the runFlashTest is not run the flashTester will always return true\n\nclass VPAIDFLASHClient {\n    constructor (vpaidParentEl, callback, swfConfig = {data: 'VPAIDFlash.swf', width: 800, height: 400}, params = { wmode: 'transparent', salign: 'tl', align: 'left', allowScriptAccess: 'always', scale: 'noScale', allowFullScreen: 'true', quality: 'high'}, vpaidOptions = { debug: false, timeout: 10000 }) {\n\n        var me = this;\n\n        this._vpaidParentEl = vpaidParentEl;\n        this._flashID = uniqueVPAID();\n        this._destroyed = false;\n        callback = callback || noop;\n\n        swfConfig.width = isPositiveInt(swfConfig.width, 800);\n        swfConfig.height = isPositiveInt(swfConfig.height, 400);\n\n        createElementWithID(vpaidParentEl, this._flashID, true);\n\n        params.movie = swfConfig.data;\n        params.FlashVars = `flashid=${this._flashID}&handler=${JSFlashBridge.VPAID_FLASH_HANDLER}&debug=${vpaidOptions.debug}&salign=${params.salign}`;\n\n        if (!VPAIDFLASHClient.isSupported()) {\n            return onError('user don\\'t support flash or doesn\\'t have the minimum required version of flash ' + FLASH_VERSION);\n        }\n\n        this.el = swfobject.createSWF(swfConfig, params, this._flashID);\n\n        if (!this.el) {\n            return onError( 'swfobject failed to create object in element' );\n        }\n\n        var handler = callbackTimeout(vpaidOptions.timeout,\n            (err, data) => {\n                $loadPendedAdUnit.call(this);\n                callback(err, data);\n            }, () => {\n                callback('vpaid flash load timeout ' + vpaidOptions.timeout);\n            }\n        );\n\n        this._flash = new JSFlashBridge(this.el, swfConfig.data, this._flashID, swfConfig.width, swfConfig.height, handler);\n\n        function onError(error) {\n            setTimeout(() => {\n                callback(new Error(error));\n            }, 0);\n            return me;\n        }\n\n    }\n\n    destroy () {\n        this._destroyAdUnit();\n\n        if (this._flash) {\n            this._flash.destroy();\n            this._flash = null;\n        }\n        this.el = null;\n        this._destroyed = true;\n    }\n\n    isDestroyed () {\n        return this._destroyed;\n    }\n\n    _destroyAdUnit() {\n        delete this._loadLater;\n\n        if (this._adUnitLoad) {\n            this._adUnitLoad = null;\n            this._flash.removeCallback(this._adUnitLoad);\n        }\n\n        if (this._adUnit) {\n            this._adUnit._destroy();\n            this._adUnit = null;\n        }\n    }\n\n    loadAdUnit(adURL, callback) {\n        $throwIfDestroyed.call(this);\n\n        if (this._adUnit) {\n            this._destroyAdUnit();\n        }\n\n        if (this._flash.isReady()) {\n            this._adUnitLoad = (err, message) => {\n                if (!err) {\n                    this._adUnit = new VPAIDAdUnit(this._flash);\n                }\n                this._adUnitLoad = null;\n                callback(err, this._adUnit);\n            };\n\n            this._flash.callFlashMethod('loadAdUnit', [adURL], this._adUnitLoad);\n        }else {\n            this._loadLater = {url: adURL, callback};\n        }\n    }\n\n    unloadAdUnit(callback = undefined) {\n        $throwIfDestroyed.call(this);\n\n        this._destroyAdUnit();\n        this._flash.callFlashMethod('unloadAdUnit', [], callback);\n    }\n    getFlashID() {\n        $throwIfDestroyed.call(this);\n        return this._flash.getFlashID();\n    }\n    getFlashURL() {\n        $throwIfDestroyed.call(this);\n        return this._flash.getFlashURL();\n    }\n}\n\nsetStaticProperty('isSupported', () => {\n    return swfobject.hasFlashPlayerVersion(FLASH_VERSION) && flashTester.isSupported();\n}, true);\n\nsetStaticProperty('runFlashTest', (swfConfig) => {\n    flashTester = createFlashTester(document.body, swfConfig);\n});\n\nfunction $throwIfDestroyed() {\n    if(this._destroyed) {\n        throw new Error('VPAIDFlashToJS is destroyed!');\n    }\n}\n\nfunction $loadPendedAdUnit() {\n    if (this._loadLater) {\n        this.loadAdUnit(this._loadLater.url, this._loadLater.callback);\n        delete this._loadLater;\n    }\n}\n\nfunction setStaticProperty(propertyName, value, writable = false) {\n    Object.defineProperty(VPAIDFLASHClient, propertyName, {\n        writable: writable,\n        configurable: false,\n        value: value\n    });\n}\n\nVPAIDFLASHClient.swfobject = swfobject;\n\nmodule.exports = VPAIDFLASHClient;\n\n\n\n// WEBPACK FOOTER //\n// ./~/vpaid-flash-client/js/VPAIDFLASHClient.js","'use strict';\n\nlet unique = require('./utils').unique;\nlet isPositiveInt = require('./utils').isPositiveInt;\nlet stringEndsWith = require('./utils').stringEndsWith;\nlet SingleValueRegistry = require('./registry').SingleValueRegistry;\nlet MultipleValuesRegistry = require('./registry').MultipleValuesRegistry;\nconst registry = require('./jsFlashBridgeRegistry');\nconst VPAID_FLASH_HANDLER = 'vpaid_video_flash_handler';\nconst ERROR = 'AdError';\n\nexport class JSFlashBridge {\n    constructor (el, flashURL, flashID, width, height, loadHandShake) {\n        this._el = el;\n        this._flashID = flashID;\n        this._flashURL = flashURL;\n        this._width = width;\n        this._height = height;\n        this._handlers = new MultipleValuesRegistry();\n        this._callbacks = new SingleValueRegistry();\n        this._uniqueMethodIdentifier = unique(this._flashID);\n        this._ready = false;\n        this._handShakeHandler = loadHandShake;\n\n        registry.addInstance(this._flashID, this);\n    }\n\n    on(eventName, callback) {\n        this._handlers.add(eventName, callback);\n    }\n\n    off(eventName, callback) {\n        return this._handlers.remove(eventName, callback);\n    }\n\n    offEvent(eventName) {\n        return this._handlers.removeByKey(eventName);\n    }\n\n    offAll() {\n        return this._handlers.removeAll();\n    }\n\n    callFlashMethod(methodName, args = [], callback = undefined) {\n        var callbackID = '';\n        // if no callback, some methods the return is void so they don't need callback\n        if (callback) {\n            callbackID = `${this._uniqueMethodIdentifier()}_${methodName}`;\n            this._callbacks.add(callbackID, callback);\n        }\n\n\n        try {\n            //methods are created by ExternalInterface.addCallback in as3 code, if for some reason it failed\n            //this code will throw an error\n            this._el[methodName]([callbackID].concat(args));\n\n        } catch (e) {\n            if (callback) {\n                $asyncCallback.call(this, callbackID, e);\n            } else {\n\n                //if there isn't any callback to return error use error event handler\n                this._trigger(ERROR, e);\n            }\n        }\n    }\n\n    removeCallback(callback) {\n        return this._callbacks.removeByValue(callback);\n    }\n\n    removeCallbackByMethodName(suffix) {\n        this._callbacks.filterKeys((key) => {\n            return stringEndsWith(key, suffix);\n        }).forEach((key) => {\n            this._callbacks.remove(key);\n        });\n    }\n\n    removeAllCallbacks() {\n        return this._callbacks.removeAll();\n    }\n\n    _trigger(eventName, event) {\n        this._handlers.get(eventName).forEach((callback) => {\n            //clickThru has to be sync, if not will be block by the popupblocker\n            if (eventName === 'AdClickThru') {\n                callback(event);\n            } else {\n                setTimeout(() => {\n                    if (this._handlers.get(eventName).length > 0) {\n                        callback(event);\n                    }\n                }, 0);\n            }\n        });\n    }\n\n    _callCallback(methodName, callbackID, err, result) {\n\n        let callback = this._callbacks.get(callbackID);\n\n        //not all methods callback's are mandatory\n        //but if there exist an error, fire the error event\n        if (!callback) {\n            if (err && callbackID === '') {\n                this.trigger(ERROR, err);\n            }\n            return;\n        }\n\n        $asyncCallback.call(this, callbackID, err, result);\n\n    }\n\n    _handShake(err, data) {\n        this._ready = true;\n        if (this._handShakeHandler) {\n            this._handShakeHandler(err, data);\n            delete this._handShakeHandler;\n        }\n    }\n\n    //methods like properties specific to this implementation of VPAID\n    getSize() {\n        return {width: this._width, height: this._height};\n    }\n    setSize(newWidth, newHeight) {\n        this._width = isPositiveInt(newWidth, this._width);\n        this._height = isPositiveInt(newHeight, this._height);\n        this._el.setAttribute('width', this._width);\n        this._el.setAttribute('height', this._height);\n    }\n    getWidth() {\n        return this._width;\n    }\n    setWidth(newWidth) {\n        this.setSize(newWidth, this._height);\n    }\n    getHeight() {\n        return this._height;\n    }\n    setHeight(newHeight) {\n        this.setSize(this._width, newHeight);\n    }\n    getFlashID() {\n        return this._flashID;\n    }\n    getFlashURL() {\n        return this._flashURL;\n    }\n    isReady() {\n        return this._ready;\n    }\n    destroy() {\n        this.offAll();\n        this.removeAllCallbacks();\n        registry.removeInstanceByID(this._flashID);\n        if (this._el.parentElement) {\n            this._el.parentElement.removeChild(this._el);\n        }\n    }\n}\n\nfunction $asyncCallback(callbackID, err, result) {\n    setTimeout(() => {\n        let callback = this._callbacks.get(callbackID);\n        if (callback) {\n            this._callbacks.remove(callbackID);\n            callback(err, result);\n        }\n    }, 0);\n}\n\nObject.defineProperty(JSFlashBridge, 'VPAID_FLASH_HANDLER', {\n    writable: false,\n    configurable: false,\n    value: VPAID_FLASH_HANDLER\n});\n\n/**\n * External interface handler\n *\n * @param {string} flashID identifier of the flash who call this\n * @param {string} typeID what type of message is, can be 'event' or 'callback'\n * @param {string} typeName if the typeID is a event the typeName will be the eventName, if is a callback the typeID is the methodName that is related this callback\n * @param {string} callbackID only applies when the typeID is 'callback', identifier of the callback to call\n * @param {object} error error object\n * @param {object} data\n */\nwindow[VPAID_FLASH_HANDLER] = (flashID, typeID, typeName, callbackID, error, data) => {\n    let instance = registry.getInstanceByID(flashID);\n    if (!instance) return;\n    if (typeName === 'handShake') {\n        instance._handShake(error, data);\n    } else {\n        if (typeID !== 'event') {\n            instance._callCallback(typeName, callbackID, error, data);\n        } else {\n            instance._trigger(typeName, data);\n        }\n    }\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/vpaid-flash-client/js/jsFlashBridge.js","'use strict';\n\n/**\n * noop a empty function\n */\nfunction noop() {}\n\n/**\n * validate if is not validate will return an Error with the message\n *\n * @param {boolean} isValid\n * @param {string} message\n */\nfunction validate(isValid, message) {\n    return isValid ? null : new Error(message);\n}\n\nvar timeouts = {};\n/**\n * clearCallbackTimeout\n *\n * @param {function} func handler to remove\n */\nfunction clearCallbackTimeout(func) {\n    var timeout = timeouts[func];\n    if (timeout) {\n        clearTimeout(timeout);\n        delete timeouts[func];\n    }\n}\n\n/**\n * callbackTimeout if the onSuccess is not called and returns true in the timelimit then onTimeout will be called\n *\n * @param {number} timer\n * @param {function} onSuccess\n * @param {function} onTimeout\n */\nfunction callbackTimeout(timer, onSuccess, onTimeout) {\n    var callback, timeout;\n\n    timeout = setTimeout(function () {\n        onSuccess = noop;\n        delete timeout[callback];\n        onTimeout();\n    }, timer);\n\n    callback = function () {\n        // TODO avoid leaking arguments\n        // https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n        if (onSuccess.apply(this, arguments)) {\n            clearCallbackTimeout(callback);\n        }\n    };\n\n    timeouts[callback] = timeout;\n\n    return callback;\n}\n\n\n/**\n * createElementInEl\n *\n * @param {HTMLElement} parent\n * @param {string} tagName\n * @param {string} id\n */\nfunction createElementInEl(parent, tagName, id) {\n    var nEl = document.createElement(tagName);\n    if (id) nEl.id = id;\n    parent.appendChild(nEl);\n    return nEl;\n}\n\n/**\n * createIframeWithContent\n *\n * @param {HTMLElement} parent\n * @param {string} template simple template using {{var}}\n * @param {object} data\n */\nfunction createIframeWithContent(parent, template, data) {\n    var iframe = createIframe(parent, null, data.zIndex);\n    if (!setIframeContent(iframe, simpleTemplate(template, data))) return;\n    return iframe;\n}\n\n/**\n * createIframe\n *\n * @param {HTMLElement} parent\n * @param {string} url\n */\nfunction createIframe(parent, url, zIndex) {\n    var nEl = document.createElement('iframe');\n    nEl.src = url || 'about:blank';\n    nEl.marginWidth = '0';\n    nEl.marginHeight = '0';\n    nEl.frameBorder = '0';\n    nEl.width = '100%';\n    nEl.height = '100%';\n    setFullSizeStyle(nEl);\n\n    if(zIndex){\n        nEl.style.zIndex = zIndex;\n    }\n\n    nEl.setAttribute('SCROLLING','NO');\n    parent.innerHTML = '';\n    parent.appendChild(nEl);\n    return nEl;\n}\n\nfunction setFullSizeStyle(element) {\n    element.style.position = 'absolute';\n    element.style.left = '0';\n    element.style.top = '0';\n    element.style.margin = '0px';\n    element.style.padding = '0px';\n    element.style.border = 'none';\n    element.style.width = '100%';\n    element.style.height = '100%';\n}\n\n/**\n * simpleTemplate\n *\n * @param {string} template\n * @param {object} data\n */\nfunction simpleTemplate(template, data) {\n    Object.keys(data).forEach(function (key) {\n        var value = (typeof value === 'object') ? JSON.stringify(data[key]) : data[key];\n        template = template.replace(new RegExp('{{' + key + '}}', 'g'), value);\n    });\n    return template;\n}\n\n/**\n * setIframeContent\n *\n * @param {HTMLIframeElement} iframeEl\n * @param content\n */\nfunction setIframeContent(iframeEl, content) {\n    var iframeDoc = iframeEl.contentWindow && iframeEl.contentWindow.document;\n    if (!iframeDoc) return false;\n\n    iframeDoc.write(content);\n\n    return true;\n}\n\n\n/**\n * extend object with keys from another object\n *\n * @param {object} toExtend\n * @param {object} fromSource\n */\nfunction extend(toExtend, fromSource) {\n    Object.keys(fromSource).forEach(function(key) {\n        toExtend[key] = fromSource[key];\n    });\n    return toExtend;\n}\n\n\n/**\n * unique will create a unique string everytime is called, sequentially and prefixed\n *\n * @param {string} prefix\n */\nfunction unique(prefix) {\n    var count = -1;\n    return function () {\n        return prefix + '_' + (++count);\n    };\n}\n\nmodule.exports = {\n    noop: noop,\n    validate: validate,\n    clearCallbackTimeout: clearCallbackTimeout,\n    callbackTimeout: callbackTimeout,\n    createElementInEl: createElementInEl,\n    createIframeWithContent: createIframeWithContent,\n    createIframe: createIframe,\n    setFullSizeStyle: setFullSizeStyle,\n    simpleTemplate: simpleTemplate,\n    setIframeContent: setIframeContent,\n    extend: extend,\n    unique: unique\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/vpaid-html5-client/js/utils.js","\n\nconst InLine = require('./InLine');\nconst Wrapper = require('./Wrapper');\n\nfunction Ad (adJTree) {\n  if (!(this instanceof Ad)) {\n    return new Ad(adJTree);\n  }\n  this.initialize(adJTree);\n}\n\nAd.prototype.initialize = function (adJTree) {\n  this.id = adJTree.attr('id');\n  this.sequence = adJTree.attr('sequence');\n\n  if (adJTree.inLine) {\n    this.inLine = new InLine(adJTree.inLine);\n  }\n\n  if (adJTree.wrapper) {\n    this.wrapper = new Wrapper(adJTree.wrapper);\n  }\n};\n\nmodule.exports = Ad;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ads/vast/Ad.js","const utilities = require('../../utils/utilityFunctions');\nconst Companion = require('./Companion');\nconst Linear = require('./Linear');\n\nfunction Creative (creativeJTree) {\n  if (!(this instanceof Creative)) {\n    return new Creative(creativeJTree);\n  }\n\n  this.id = creativeJTree.attr('id');\n  this.sequence = creativeJTree.attr('sequence');\n  this.adId = creativeJTree.attr('adId');\n  this.apiFramework = creativeJTree.attr('apiFramework');\n\n  if (creativeJTree.linear) {\n    this.linear = new Linear(creativeJTree.linear);\n  }\n\n  if (creativeJTree.companionAds) {\n    const companions = [];\n    let companionAds = creativeJTree.companionAds && creativeJTree.companionAds.companion;\n\n    if (utilities.isDefined(companionAds)) {\n      companionAds = utilities.isArray(companionAds) ? companionAds : [companionAds];\n      companionAds.forEach((companionData) => {\n        companions.push(new Companion(companionData));\n      });\n    }\n    this.companionAds = companions;\n  }\n}\n\n/**\n * Returns true if the browser supports at the creative.\n */\nCreative.prototype.isSupported = function () {\n  if (this.linear) {\n    return this.linear.isSupported();\n  }\n\n  return true;\n};\n\nCreative.parseCreatives = function parseCreatives (creativesJTree) {\n  const creatives = [];\n  let creativesData;\n\n  if (utilities.isDefined(creativesJTree) && utilities.isDefined(creativesJTree.creative)) {\n    creativesData = utilities.isArray(creativesJTree.creative) ? creativesJTree.creative : [creativesJTree.creative];\n    creativesData.forEach((creative) => {\n      creatives.push(new Creative(creative));\n    });\n  }\n\n  return creatives;\n};\n\nmodule.exports = Creative;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ads/vast/Creative.js","const utilities = require('../../utils/utilityFunctions');\nconst xml = require('../../utils/xml');\nconst vastUtil = require('./vastUtil');\nconst Creative = require('./Creative');\n\nfunction InLine (inlineJTree) {\n  if (!(this instanceof InLine)) {\n    return new InLine(inlineJTree);\n  }\n\n  // Required Fields\n  this.adTitle = xml.keyValue(inlineJTree.adTitle);\n  this.adSystem = xml.keyValue(inlineJTree.adSystem);\n  this.impressions = vastUtil.parseImpressions(inlineJTree.impression);\n  this.creatives = Creative.parseCreatives(inlineJTree.creatives);\n\n  // Optional Fields\n  this.description = xml.keyValue(inlineJTree.description);\n  this.advertiser = xml.keyValue(inlineJTree.advertiser);\n  this.surveys = parseSurveys(inlineJTree.survey);\n  this.error = xml.keyValue(inlineJTree.error);\n  this.pricing = xml.keyValue(inlineJTree.pricing);\n  this.extensions = inlineJTree.extensions;\n\n  /** * Local Functions ***/\n  function parseSurveys (inlineSurveys) {\n    if (inlineSurveys) {\n      return utilities.transformArray(utilities.isArray(inlineSurveys) ? inlineSurveys : [inlineSurveys], (survey) => {\n        if (utilities.isNotEmptyString(survey.keyValue)) {\n          return {\n            uri: survey.keyValue,\n            type: survey.attr('type')\n          };\n        }\n\n        return undefined;\n      });\n    }\n\n    return [];\n  }\n}\n\n\n/**\n * Returns true if the browser supports all the creatives.\n */\nInLine.prototype.isSupported = function () {\n  let i, len;\n\n  if (this.creatives.length === 0) {\n    return false;\n  }\n\n  for (i = 0, len = this.creatives.length; i < len; i += 1) {\n    if (!this.creatives[i].isSupported()) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nmodule.exports = InLine;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ads/vast/InLine.js","const utilities = require('../../utils/utilityFunctions');\nconst xml = require('../../utils/xml');\nconst parsers = require('./parsers');\nconst TrackingEvent = require('./TrackingEvent');\nconst VideoClicks = require('./VideoClicks');\nconst MediaFile = require('./MediaFile');\n\nfunction Linear (linearJTree) {\n  if (!(this instanceof Linear)) {\n    return new Linear(linearJTree);\n  }\n\n  // Required Elements\n  this.duration = parsers.duration(xml.keyValue(linearJTree.duration));\n  this.mediaFiles = parseMediaFiles(linearJTree.mediaFiles && linearJTree.mediaFiles.mediaFile);\n\n  // Optional fields\n  this.trackingEvents = parseTrackingEvents(linearJTree.trackingEvents && linearJTree.trackingEvents.tracking, this.duration);\n  this.skipoffset = parsers.offset(xml.attr(linearJTree, 'skipoffset'), this.duration);\n\n  if (linearJTree.videoClicks) {\n    this.videoClicks = new VideoClicks(linearJTree.videoClicks);\n  }\n\n  if (linearJTree.adParameters) {\n    this.adParameters = xml.keyValue(linearJTree.adParameters);\n\n    if (xml.attr(linearJTree.adParameters, 'xmlEncoded')) {\n      this.adParameters = xml.decode(this.adParameters);\n    }\n  }\n\n  /** * Local functions ***/\n  function parseTrackingEvents (trackingEvents, duration) {\n    const trackings = [];\n\n    if (utilities.isDefined(trackingEvents)) {\n      trackingEvents = utilities.isArray(trackingEvents) ? trackingEvents : [trackingEvents];\n      trackingEvents.forEach((trackingData) => {\n        trackings.push(new TrackingEvent(trackingData, duration));\n      });\n    }\n\n    return trackings;\n  }\n\n  function parseMediaFiles (mediaFilesJxonTree) {\n    const mediaFiles = [];\n\n    if (utilities.isDefined(mediaFilesJxonTree)) {\n      mediaFilesJxonTree = utilities.isArray(mediaFilesJxonTree) ? mediaFilesJxonTree : [mediaFilesJxonTree];\n\n      mediaFilesJxonTree.forEach((mfData) => {\n        mediaFiles.push(new MediaFile(mfData));\n      });\n    }\n\n    return mediaFiles;\n  }\n}\n\n/**\n * Must return true if at least one of the MediaFiles' type is supported\n */\nLinear.prototype.isSupported = function () {\n  let i, len;\n\n  for (i = 0, len = this.mediaFiles.length; i < len; i += 1) {\n    if (this.mediaFiles[i].isSupported()) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\nmodule.exports = Linear;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ads/vast/Linear.js","const xml = require('../../utils/xml');\nconst parsers = require('./parsers');\n\nfunction TrackingEvent (trackingJTree, duration) {\n  if (!(this instanceof TrackingEvent)) {\n    return new TrackingEvent(trackingJTree, duration);\n  }\n\n  this.name = trackingJTree.attr('event');\n  this.uri = xml.keyValue(trackingJTree);\n\n  if ('progress' === this.name) {\n    this.offset = parsers.offset(trackingJTree.attr('offset'), duration);\n  }\n}\n\nmodule.exports = TrackingEvent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ads/vast/TrackingEvent.js","const utilities = require('../../utils/utilityFunctions');\nconst VASTError = require('./VASTError');\nconst VASTResponse = require('./VASTResponse');\nconst vastUtil = require('./vastUtil');\n\nfunction VASTTracker (assetURI, vastResponse) {\n  if (!(this instanceof VASTTracker)) {\n    return new VASTTracker(assetURI, vastResponse);\n  }\n\n  this.sanityCheck(assetURI, vastResponse);\n  this.initialize(assetURI, vastResponse);\n}\n\nVASTTracker.prototype.initialize = function (assetURI, vastResponse) {\n  this.response = vastResponse;\n  this.assetURI = assetURI;\n  this.progress = 0;\n  this.quartiles = {\n    firstQuartile: {tracked: false, time: Math.round(25 * vastResponse.duration) / 100},\n    midpoint: {tracked: false, time: Math.round(50 * vastResponse.duration) / 100},\n    thirdQuartile: {tracked: false, time: Math.round(75 * vastResponse.duration) / 100}\n  };\n};\n\nVASTTracker.prototype.sanityCheck = function (assetURI, vastResponse) {\n  if (!utilities.isString(assetURI) || utilities.isEmptyString(assetURI)) {\n    throw new VASTError('on VASTTracker constructor, missing required the URI of the ad asset being played');\n  }\n\n  if (!(vastResponse instanceof VASTResponse)) {\n    throw new VASTError('on VASTTracker constructor, missing required VAST response');\n  }\n};\n\nVASTTracker.prototype.trackURLs = function trackURLs (urls, variables) {\n  if (utilities.isArray(urls) && urls.length > 0) {\n    variables = utilities.extend({\n      ASSETURI: this.assetURI,\n      CONTENTPLAYHEAD: vastUtil.formatProgress(this.progress)\n    }, variables || {});\n\n    vastUtil.track(urls, variables);\n  }\n};\n\nVASTTracker.prototype.trackEvent = function trackEvent (eventName, trackOnce) {\n  this.trackURLs(getEventUris(this.response.trackingEvents[eventName]));\n  if (trackOnce) {\n    this.response.trackingEvents[eventName] = undefined;\n  }\n\n  /** * Local function ***/\n  function getEventUris (trackingEvents) {\n    let uris;\n\n    if (trackingEvents) {\n      uris = [];\n      trackingEvents.forEach((event) => {\n        if (!event.uri) {\n          return;\n        }\n\n        uris.push(event.uri);\n      });\n    }\n\n    return uris;\n  }\n};\n\nVASTTracker.prototype.trackProgress = function trackProgress (newProgressInMs) {\n  const that = this;\n  const events = [];\n  const ONCE = true;\n  const ALWAYS = false;\n  const trackingEvents = this.response.trackingEvents;\n\n  if (utilities.isNumber(newProgressInMs)) {\n    addTrackEvent('start', ONCE, newProgressInMs > 0);\n    addTrackEvent('rewind', ALWAYS, hasRewound(this.progress, newProgressInMs));\n    addQuartileEvents(newProgressInMs);\n    trackProgressEvents(newProgressInMs);\n    trackEvents();\n    this.progress = newProgressInMs;\n  }\n\n  /** * Local function ***/\n  function hasRewound (currentProgress, newProgress) {\n    const REWIND_THRESHOLD = 3000; // IOS video clock is very unreliable and we need a 3 seconds threshold to ensure that there was a rewind an that it was on purpose.\n\n    return currentProgress > newProgressInMs && Math.abs(newProgress - currentProgress) > REWIND_THRESHOLD;\n  }\n\n  function addTrackEvent (eventName, trackOnce, canBeAdded) {\n    if (trackingEvents[eventName] && canBeAdded) {\n      events.push({\n        name: eventName,\n        trackOnce: Boolean(trackOnce)\n      });\n    }\n  }\n\n  function addQuartileEvents (progress) {\n    const quartiles = that.quartiles;\n    const firstQuartile = that.quartiles.firstQuartile;\n    const midpoint = that.quartiles.midpoint;\n    const thirdQuartile = that.quartiles.thirdQuartile;\n\n    if (!firstQuartile.tracked) {\n      trackQuartile('firstQuartile', progress);\n    } else if (!midpoint.tracked) {\n      trackQuartile('midpoint', progress);\n    } else if (!thirdQuartile.tracked) {\n      trackQuartile('thirdQuartile', progress);\n    }\n\n    /** * Local function ***/\n    function trackQuartile (quartileName, progress) {\n      const quartile = quartiles[quartileName];\n\n      if (canBeTracked(quartile, progress)) {\n        quartile.tracked = true;\n        addTrackEvent(quartileName, ONCE, true);\n      }\n    }\n  }\n\n  function canBeTracked (quartile, progress) {\n    const quartileTime = quartile.time;\n\n    // We only fire the quartile event if the progress is bigger than the quartile time by 5 seconds at most.\n    return progress >= quartileTime && progress <= quartileTime + 5000;\n  }\n\n  function trackProgressEvents (progress) {\n    if (!utilities.isArray(trackingEvents.progress)) {\n      return; // Nothing to track\n    }\n\n    const pendingProgressEvts = [];\n\n    trackingEvents.progress.forEach((evt) => {\n      if (evt.offset <= progress) {\n        that.trackURLs([evt.uri]);\n      } else {\n        pendingProgressEvts.push(evt);\n      }\n    });\n    trackingEvents.progress = pendingProgressEvts;\n  }\n\n  function trackEvents () {\n    events.forEach((event) => {\n      that.trackEvent(event.name, event.trackOnce);\n    });\n  }\n};\n\n[\n  'rewind',\n  'fullscreen',\n  'exitFullscreen',\n  'pause',\n  'resume',\n  'mute',\n  'unmute',\n  'acceptInvitation',\n  'acceptInvitationLinear',\n  'collapse',\n  'expand'\n].forEach((eventName) => {\n  VASTTracker.prototype['track' + utilities.capitalize(eventName)] = function () {\n    this.trackEvent(eventName);\n  };\n});\n\n[\n  'start',\n  'skip',\n  'close',\n  'closeLinear'\n].forEach((eventName) => {\n  VASTTracker.prototype['track' + utilities.capitalize(eventName)] = function () {\n    this.trackEvent(eventName, true);\n  };\n});\n\n[\n  'firstQuartile',\n  'midpoint',\n  'thirdQuartile'\n].forEach((quartile) => {\n  VASTTracker.prototype['track' + utilities.capitalize(quartile)] = function () {\n    this.quartiles[quartile].tracked = true;\n    this.trackEvent(quartile, true);\n  };\n});\n\nVASTTracker.prototype.trackComplete = function () {\n  if (this.quartiles.thirdQuartile.tracked) {\n    this.trackEvent('complete', true);\n  }\n};\n\nVASTTracker.prototype.trackErrorWithCode = function trackErrorWithCode (errorcode) {\n  if (utilities.isNumber(errorcode)) {\n    this.trackURLs(this.response.errorURLMacros, {ERRORCODE: errorcode});\n  }\n};\n\nVASTTracker.prototype.trackImpressions = function trackImpressions () {\n  this.trackURLs(this.response.impressions);\n};\n\nVASTTracker.prototype.trackCreativeView = function trackCreativeView () {\n  this.trackEvent('creativeView');\n};\n\nVASTTracker.prototype.trackClick = function trackClick () {\n  this.trackURLs(this.response.clickTrackings);\n};\n\nmodule.exports = VASTTracker;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ads/vast/VASTTracker.js","const utilities = require('../../utils/utilityFunctions');\nconst xml = require('../../utils/xml');\n\nfunction VideoClicks (videoClickJTree) {\n  if (!(this instanceof VideoClicks)) {\n    return new VideoClicks(videoClickJTree);\n  }\n\n  this.clickThrough = xml.keyValue(videoClickJTree.clickThrough);\n  this.clickTrackings = parseClickTrackings(videoClickJTree.clickTracking);\n  this.customClicks = parseClickTrackings(videoClickJTree.customClick);\n\n  /** * Local functions ***/\n  function parseClickTrackings (trackingData) {\n    const clickTrackings = [];\n\n    if (trackingData) {\n      trackingData = utilities.isArray(trackingData) ? trackingData : [trackingData];\n      trackingData.forEach((clickTrackingData) => {\n        clickTrackings.push(xml.keyValue(clickTrackingData));\n      });\n    }\n\n    return clickTrackings;\n  }\n}\n\nmodule.exports = VideoClicks;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ads/vast/VideoClicks.js","const utilities = require('../../utils/utilityFunctions');\nconst xml = require('../../utils/xml');\nconst vastUtil = require('./vastUtil');\nconst Creative = require('./Creative');\n\nfunction Wrapper (wrapperJTree) {\n  if (!(this instanceof Wrapper)) {\n    return new Wrapper(wrapperJTree);\n  }\n\n  // Required elements\n  this.adSystem = xml.keyValue(wrapperJTree.adSystem);\n  this.impressions = vastUtil.parseImpressions(wrapperJTree.impression);\n  this.VASTAdTagURI = xml.keyValue(wrapperJTree.vASTAdTagURI);\n\n  // Optional elements\n  this.creatives = Creative.parseCreatives(wrapperJTree.creatives);\n  this.error = xml.keyValue(wrapperJTree.error);\n  this.extensions = wrapperJTree.extensions;\n\n  // Optional attrs\n  this.followAdditionalWrappers = utilities.isDefined(xml.attr(wrapperJTree, 'followAdditionalWrappers')) ? xml.attr(wrapperJTree, 'followAdditionalWrappers') : true;\n  this.allowMultipleAds = xml.attr(wrapperJTree, 'allowMultipleAds');\n  this.fallbackOnNoAd = xml.attr(wrapperJTree, 'fallbackOnNoAd');\n}\n\nmodule.exports = Wrapper;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ads/vast/Wrapper.js","\n\nconst utilities = require('../../utils/utilityFunctions');\n\nconst durationRegex = /(\\d\\d):(\\d\\d):(\\d\\d)(\\.(\\d\\d\\d))?/;\n\nconst parsers = {\n\n  duration: function parseDuration (durationStr) {\n    let match, durationInMs;\n\n    if (utilities.isString(durationStr)) {\n      match = durationStr.match(durationRegex);\n      if (match) {\n        durationInMs = parseHoursToMs(match[1]) + parseMinToMs(match[2]) + parseSecToMs(match[3]) + parseInt(match[5] || 0, 10);\n      }\n    }\n\n    return isNaN(durationInMs) ? null : durationInMs;\n\n    /** * local functions ***/\n    function parseHoursToMs (hourStr) {\n      return parseInt(hourStr, 10) * 60 * 60 * 1000;\n    }\n\n    function parseMinToMs (minStr) {\n      return parseInt(minStr, 10) * 60 * 1000;\n    }\n\n    function parseSecToMs (secStr) {\n      return parseInt(secStr, 10) * 1000;\n    }\n  },\n\n  offset: function parseOffset (offset, duration) {\n    if (isPercentage(offset)) {\n      return calculatePercentage(offset, duration);\n    }\n\n    return parsers.duration(offset);\n\n    /** * Local function ***/\n    function isPercentage (offset) {\n      const percentageRegex = /^\\d+(\\.\\d+)?%$/g;\n\n      return percentageRegex.test(offset);\n    }\n\n    function calculatePercentage (percentStr, duration) {\n      if (duration) {\n        return calcPercent(duration, parseFloat(percentStr.replace('%', '')));\n      }\n\n      return null;\n    }\n\n    function calcPercent (quantity, percent) {\n      return quantity * percent / 100;\n    }\n  }\n\n};\n\n\nmodule.exports = parsers;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ads/vast/parsers.js","\n\nconst utilities = require('./utilityFunctions');\n\n/**\n *\n * IMPORTANT NOTE: This function comes from angularJs and was originally called urlResolve\n *                 you can take a look at the original code here https://github.com/angular/angular.js/blob/master/src/ng/urlUtils.js\n *\n * Implementation Notes for non-IE browsers\n * ----------------------------------------\n * Assigning a URL to the href property of an anchor DOM node, even one attached to the DOM,\n * results both in the normalizing and parsing of the URL.  Normalizing means that a relative\n * URL will be resolved into an absolute URL in the context of the application document.\n * Parsing means that the anchor node's host, hostname, protocol, port, pathname and related\n * properties are all populated to reflect the normalized URL.  This approach has wide\n * compatibility - Safari 1+, Mozilla 1+, Opera 7+,e etc.  See\n * http://www.aptana.com/reference/html/api/HTMLAnchorElement.html\n *\n * Implementation Notes for IE\n * ---------------------------\n * IE >= 8 and <= 10 normalizes the URL when assigned to the anchor node similar to the other\n * browsers.  However, the parsed components will not be set if the URL assigned did not specify\n * them.  (e.g. if you assign a.href = \"foo\", then a.protocol, a.host, etc. will be empty.)  We\n * work around that by performing the parsing in a 2nd step by taking a previously normalized\n * URL (e.g. by assigning to a.href) and assigning it a.href again.  This correctly populates the\n * properties such as protocol, hostname, port, etc.\n *\n * IE7 does not normalize the URL when assigned to an anchor node.  (Apparently, it does, if one\n * uses the inner HTML approach to assign the URL as part of an HTML snippet -\n * http://stackoverflow.com/a/472729)  However, setting img[src] does normalize the URL.\n * Unfortunately, setting img[src] to something like \"javascript:foo\" on IE throws an exception.\n * Since the primary usage for normalizing URLs is to sanitize such URLs, we can't use that\n * method and IE < 8 is unsupported.\n *\n * References:\n *   http://developer.mozilla.org/en-US/docs/Web/API/HTMLAnchorElement\n *   http://www.aptana.com/reference/html/api/HTMLAnchorElement.html\n *   http://url.spec.whatwg.org/#urlutils\n *   https://github.com/angular/angular.js/pull/2902\n *   http://james.padolsey.com/javascript/parsing-urls-with-the-dom/\n *\n * @kind function\n * @param {string} url The URL to be parsed.\n * @description Normalizes and parses a URL.\n * @returns {object} Returns the normalized URL as a dictionary.\n *\n *   | member name   | Description    |\n *   |---------------|----------------|\n *   | href          | A normalized version of the provided URL if it was not an absolute URL |\n *   | protocol      | The protocol including the trailing colon                              |\n *   | host          | The host and port (if the port is non-default) of the normalizedUrl    |\n *   | search        | The search params, minus the question mark                             |\n *   | hash          | The hash string, minus the hash symbol\n *   | hostname      | The hostname\n *   | port          | The port, without \":\"\n *   | pathname      | The pathname, beginning with \"/\"\n *\n */\n\nconst urlParsingNode = document.createElement('a');\n\n/**\n * documentMode is an IE-only property\n * http://msdn.microsoft.com/en-us/library/ie/cc196988(v=vs.85).aspx\n */\nconst msie = document.documentMode;\n\nfunction urlParts (url) {\n  let href = url;\n\n  if (msie) {\n    // Normalize before parse.  Refer Implementation Notes on why this is\n    // done in two steps on IE.\n    urlParsingNode.setAttribute('href', href);\n    href = urlParsingNode.href;\n  }\n\n  urlParsingNode.setAttribute('href', href);\n\n  // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n  return {\n    href: urlParsingNode.href,\n    protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n    host: urlParsingNode.host,\n    search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n    hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n    hostname: urlParsingNode.hostname,\n    port: utilities.isNotEmptyString(urlParsingNode.port) ? urlParsingNode.port : 80,\n    pathname: urlParsingNode.pathname.charAt(0) === '/'\n      ? urlParsingNode.pathname\n      : '/' + urlParsingNode.pathname\n  };\n}\n\n\n/**\n * This function accepts a query string (search part of a url) and returns a dictionary with\n * the different key value pairs\n * @param {string} qs queryString\n */\nfunction queryStringToObj (qs, cond) {\n  let pairs, qsObj;\n\n  cond = utilities.isFunction(cond) ? cond : function () {\n    return true;\n  };\n\n  qs = qs.trim().replace(/^\\?/, '');\n  pairs = qs.split('&');\n  qsObj = {};\n\n  utilities.forEach(pairs, (pair) => {\n    let keyValue, key, value;\n\n    if (pair !== '') {\n      keyValue = pair.split('=');\n      key = keyValue[0];\n      value = keyValue[1];\n      if (cond(key, value)) {\n        qsObj[key] = value;\n      }\n    }\n  });\n\n  return qsObj;\n}\n\n/**\n * This function accepts an object and serializes it into a query string without the leading '?'\n * @param obj\n * @returns {string}\n */\nfunction objToQueryString (obj) {\n  const pairs = [];\n\n  utilities.forEach(obj, (value, key) => {\n    pairs.push(key + '=' + value);\n  });\n\n  return pairs.join('&');\n}\n\nmodule.exports = {\n  urlParts: urlParts,\n  queryStringToObj: queryStringToObj,\n  objToQueryString: objToQueryString\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/utils/urlUtils.js","/*\tSWFObject v2.2 <http://code.google.com/p/swfobject/> \n\tis released under the MIT License <http://www.opensource.org/licenses/mit-license.php> \n*/\nvar swfobject=function(){var D=\"undefined\",r=\"object\",S=\"Shockwave Flash\",W=\"ShockwaveFlash.ShockwaveFlash\",q=\"application/x-shockwave-flash\",R=\"SWFObjectExprInst\",x=\"onreadystatechange\",O=window,j=document,t=navigator,T=false,U=[h],o=[],N=[],I=[],l,Q,E,B,J=false,a=false,n,G,m=true,M=function(){var aa=typeof j.getElementById!=D&&typeof j.getElementsByTagName!=D&&typeof j.createElement!=D,ah=t.userAgent.toLowerCase(),Y=t.platform.toLowerCase(),ae=Y?/win/.test(Y):/win/.test(ah),ac=Y?/mac/.test(Y):/mac/.test(ah),af=/webkit/.test(ah)?parseFloat(ah.replace(/^.*webkit\\/(\\d+(\\.\\d+)?).*$/,\"$1\")):false,X=!+\"\\v1\",ag=[0,0,0],ab=null;if(typeof t.plugins!=D&&typeof t.plugins[S]==r){ab=t.plugins[S].description;if(ab&&!(typeof t.mimeTypes!=D&&t.mimeTypes[q]&&!t.mimeTypes[q].enabledPlugin)){T=true;X=false;ab=ab.replace(/^.*\\s+(\\S+\\s+\\S+$)/,\"$1\");ag[0]=parseInt(ab.replace(/^(.*)\\..*$/,\"$1\"),10);ag[1]=parseInt(ab.replace(/^.*\\.(.*)\\s.*$/,\"$1\"),10);ag[2]=/[a-zA-Z]/.test(ab)?parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/,\"$1\"),10):0}}else{if(typeof O[(['Active'].concat('Object').join('X'))]!=D){try{var ad=new window[(['Active'].concat('Object').join('X'))](W);if(ad){ab=ad.GetVariable(\"$version\");if(ab){X=true;ab=ab.split(\" \")[1].split(\",\");ag=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}}catch(Z){}}}return{w3:aa,pv:ag,wk:af,ie:X,win:ae,mac:ac}}(),k=function(){if(!M.w3){return}if((typeof j.readyState!=D&&j.readyState==\"complete\")||(typeof j.readyState==D&&(j.getElementsByTagName(\"body\")[0]||j.body))){f()}if(!J){if(typeof j.addEventListener!=D){j.addEventListener(\"DOMContentLoaded\",f,false)}if(M.ie&&M.win){j.attachEvent(x,function(){if(j.readyState==\"complete\"){j.detachEvent(x,arguments.callee);f()}});if(O==top){(function(){if(J){return}try{j.documentElement.doScroll(\"left\")}catch(X){setTimeout(arguments.callee,0);return}f()})()}}if(M.wk){(function(){if(J){return}if(!/loaded|complete/.test(j.readyState)){setTimeout(arguments.callee,0);return}f()})()}s(f)}}();function f(){if(J){return}try{var Z=j.getElementsByTagName(\"body\")[0].appendChild(C(\"span\"));Z.parentNode.removeChild(Z)}catch(aa){return}J=true;var X=U.length;for(var Y=0;Y<X;Y++){U[Y]()}}function K(X){if(J){X()}else{U[U.length]=X}}function s(Y){if(typeof O.addEventListener!=D){O.addEventListener(\"load\",Y,false)}else{if(typeof j.addEventListener!=D){j.addEventListener(\"load\",Y,false)}else{if(typeof O.attachEvent!=D){i(O,\"onload\",Y)}else{if(typeof O.onload==\"function\"){var X=O.onload;O.onload=function(){X();Y()}}else{O.onload=Y}}}}}function h(){if(T){V()}else{H()}}function V(){var X=j.getElementsByTagName(\"body\")[0];var aa=C(r);aa.setAttribute(\"type\",q);var Z=X.appendChild(aa);if(Z){var Y=0;(function(){if(typeof Z.GetVariable!=D){var ab=Z.GetVariable(\"$version\");if(ab){ab=ab.split(\" \")[1].split(\",\");M.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}else{if(Y<10){Y++;setTimeout(arguments.callee,10);return}}X.removeChild(aa);Z=null;H()})()}else{H()}}function H(){var ag=o.length;if(ag>0){for(var af=0;af<ag;af++){var Y=o[af].id;var ab=o[af].callbackFn;var aa={success:false,id:Y};if(M.pv[0]>0){var ae=c(Y);if(ae){if(F(o[af].swfVersion)&&!(M.wk&&M.wk<312)){w(Y,true);if(ab){aa.success=true;aa.ref=z(Y);ab(aa)}}else{if(o[af].expressInstall&&A()){var ai={};ai.data=o[af].expressInstall;ai.width=ae.getAttribute(\"width\")||\"0\";ai.height=ae.getAttribute(\"height\")||\"0\";if(ae.getAttribute(\"class\")){ai.styleclass=ae.getAttribute(\"class\")}if(ae.getAttribute(\"align\")){ai.align=ae.getAttribute(\"align\")}var ah={};var X=ae.getElementsByTagName(\"param\");var ac=X.length;for(var ad=0;ad<ac;ad++){if(X[ad].getAttribute(\"name\").toLowerCase()!=\"movie\"){ah[X[ad].getAttribute(\"name\")]=X[ad].getAttribute(\"value\")}}P(ai,ah,Y,ab)}else{p(ae);if(ab){ab(aa)}}}}}else{w(Y,true);if(ab){var Z=z(Y);if(Z&&typeof Z.SetVariable!=D){aa.success=true;aa.ref=Z}ab(aa)}}}}}function z(aa){var X=null;var Y=c(aa);if(Y&&Y.nodeName==\"OBJECT\"){if(typeof Y.SetVariable!=D){X=Y}else{var Z=Y.getElementsByTagName(r)[0];if(Z){X=Z}}}return X}function A(){return !a&&F(\"6.0.65\")&&(M.win||M.mac)&&!(M.wk&&M.wk<312)}function P(aa,ab,X,Z){a=true;E=Z||null;B={success:false,id:X};var ae=c(X);if(ae){if(ae.nodeName==\"OBJECT\"){l=g(ae);Q=null}else{l=ae;Q=X}aa.id=R;if(typeof aa.width==D||(!/%$/.test(aa.width)&&parseInt(aa.width,10)<310)){aa.width=\"310\"}if(typeof aa.height==D||(!/%$/.test(aa.height)&&parseInt(aa.height,10)<137)){aa.height=\"137\"}j.title=j.title.slice(0,47)+\" - Flash Player Installation\";var ad=M.ie&&M.win?(['Active'].concat('').join('X')):\"PlugIn\",ac=\"MMredirectURL=\"+O.location.toString().replace(/&/g,\"%26\")+\"&MMplayerType=\"+ad+\"&MMdoctitle=\"+j.title;if(typeof ab.flashvars!=D){ab.flashvars+=\"&\"+ac}else{ab.flashvars=ac}if(M.ie&&M.win&&ae.readyState!=4){var Y=C(\"div\");X+=\"SWFObjectNew\";Y.setAttribute(\"id\",X);ae.parentNode.insertBefore(Y,ae);ae.style.display=\"none\";(function(){if(ae.readyState==4){ae.parentNode.removeChild(ae)}else{setTimeout(arguments.callee,10)}})()}u(aa,ab,X)}}function p(Y){if(M.ie&&M.win&&Y.readyState!=4){var X=C(\"div\");Y.parentNode.insertBefore(X,Y);X.parentNode.replaceChild(g(Y),X);Y.style.display=\"none\";(function(){if(Y.readyState==4){Y.parentNode.removeChild(Y)}else{setTimeout(arguments.callee,10)}})()}else{Y.parentNode.replaceChild(g(Y),Y)}}function g(ab){var aa=C(\"div\");if(M.win&&M.ie){aa.innerHTML=ab.innerHTML}else{var Y=ab.getElementsByTagName(r)[0];if(Y){var ad=Y.childNodes;if(ad){var X=ad.length;for(var Z=0;Z<X;Z++){if(!(ad[Z].nodeType==1&&ad[Z].nodeName==\"PARAM\")&&!(ad[Z].nodeType==8)){aa.appendChild(ad[Z].cloneNode(true))}}}}}return aa}function u(ai,ag,Y){var X,aa=c(Y);if(M.wk&&M.wk<312){return X}if(aa){if(typeof ai.id==D){ai.id=Y}if(M.ie&&M.win){var ah=\"\";for(var ae in ai){if(ai[ae]!=Object.prototype[ae]){if(ae.toLowerCase()==\"data\"){ag.movie=ai[ae]}else{if(ae.toLowerCase()==\"styleclass\"){ah+=' class=\"'+ai[ae]+'\"'}else{if(ae.toLowerCase()!=\"classid\"){ah+=\" \"+ae+'=\"'+ai[ae]+'\"'}}}}}var af=\"\";for(var ad in ag){if(ag[ad]!=Object.prototype[ad]){af+='<param name=\"'+ad+'\" value=\"'+ag[ad]+'\" />'}}aa.outerHTML='<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"'+ah+\">\"+af+\"</object>\";N[N.length]=ai.id;X=c(ai.id)}else{var Z=C(r);Z.setAttribute(\"type\",q);for(var ac in ai){if(ai[ac]!=Object.prototype[ac]){if(ac.toLowerCase()==\"styleclass\"){Z.setAttribute(\"class\",ai[ac])}else{if(ac.toLowerCase()!=\"classid\"){Z.setAttribute(ac,ai[ac])}}}}for(var ab in ag){if(ag[ab]!=Object.prototype[ab]&&ab.toLowerCase()!=\"movie\"){e(Z,ab,ag[ab])}}aa.parentNode.replaceChild(Z,aa);X=Z}}return X}function e(Z,X,Y){var aa=C(\"param\");aa.setAttribute(\"name\",X);aa.setAttribute(\"value\",Y);Z.appendChild(aa)}function y(Y){var X=c(Y);if(X&&X.nodeName==\"OBJECT\"){if(M.ie&&M.win){X.style.display=\"none\";(function(){if(X.readyState==4){b(Y)}else{setTimeout(arguments.callee,10)}})()}else{X.parentNode.removeChild(X)}}}function b(Z){var Y=c(Z);if(Y){for(var X in Y){if(typeof Y[X]==\"function\"){Y[X]=null}}Y.parentNode.removeChild(Y)}}function c(Z){var X=null;try{X=j.getElementById(Z)}catch(Y){}return X}function C(X){return j.createElement(X)}function i(Z,X,Y){Z.attachEvent(X,Y);I[I.length]=[Z,X,Y]}function F(Z){var Y=M.pv,X=Z.split(\".\");X[0]=parseInt(X[0],10);X[1]=parseInt(X[1],10)||0;X[2]=parseInt(X[2],10)||0;return(Y[0]>X[0]||(Y[0]==X[0]&&Y[1]>X[1])||(Y[0]==X[0]&&Y[1]==X[1]&&Y[2]>=X[2]))?true:false}function v(ac,Y,ad,ab){if(M.ie&&M.mac){return}var aa=j.getElementsByTagName(\"head\")[0];if(!aa){return}var X=(ad&&typeof ad==\"string\")?ad:\"screen\";if(ab){n=null;G=null}if(!n||G!=X){var Z=C(\"style\");Z.setAttribute(\"type\",\"text/css\");Z.setAttribute(\"media\",X);n=aa.appendChild(Z);if(M.ie&&M.win&&typeof j.styleSheets!=D&&j.styleSheets.length>0){n=j.styleSheets[j.styleSheets.length-1]}G=X}if(M.ie&&M.win){if(n&&typeof n.addRule==r){n.addRule(ac,Y)}}else{if(n&&typeof j.createTextNode!=D){n.appendChild(j.createTextNode(ac+\" {\"+Y+\"}\"))}}}function w(Z,X){if(!m){return}var Y=X?\"visible\":\"hidden\";if(J&&c(Z)){c(Z).style.visibility=Y}else{v(\"#\"+Z,\"visibility:\"+Y)}}function L(Y){var Z=/[\\\\\\\"<>\\.;]/;var X=Z.exec(Y)!=null;return X&&typeof encodeURIComponent!=D?encodeURIComponent(Y):Y}var d=function(){if(M.ie&&M.win){window.attachEvent(\"onunload\",function(){var ac=I.length;for(var ab=0;ab<ac;ab++){I[ab][0].detachEvent(I[ab][1],I[ab][2])}var Z=N.length;for(var aa=0;aa<Z;aa++){y(N[aa])}for(var Y in M){M[Y]=null}M=null;for(var X in swfobject){swfobject[X]=null}swfobject=null})}}();return{registerObject:function(ab,X,aa,Z){if(M.w3&&ab&&X){var Y={};Y.id=ab;Y.swfVersion=X;Y.expressInstall=aa;Y.callbackFn=Z;o[o.length]=Y;w(ab,false)}else{if(Z){Z({success:false,id:ab})}}},getObjectById:function(X){if(M.w3){return z(X)}},embedSWF:function(ab,ah,ae,ag,Y,aa,Z,ad,af,ac){var X={success:false,id:ah};if(M.w3&&!(M.wk&&M.wk<312)&&ab&&ah&&ae&&ag&&Y){w(ah,false);K(function(){ae+=\"\";ag+=\"\";var aj={};if(af&&typeof af===r){for(var al in af){aj[al]=af[al]}}aj.data=ab;aj.width=ae;aj.height=ag;var am={};if(ad&&typeof ad===r){for(var ak in ad){am[ak]=ad[ak]}}if(Z&&typeof Z===r){for(var ai in Z){if(typeof am.flashvars!=D){am.flashvars+=\"&\"+ai+\"=\"+Z[ai]}else{am.flashvars=ai+\"=\"+Z[ai]}}}if(F(Y)){var an=u(aj,am,ah);if(aj.id==ah){w(ah,true)}X.success=true;X.ref=an}else{if(aa&&A()){aj.data=aa;P(aj,am,ah,ac);return}else{w(ah,true)}}if(ac){ac(X)}})}else{if(ac){ac(X)}}},switchOffAutoHideShow:function(){m=false},ua:M,getFlashPlayerVersion:function(){return{major:M.pv[0],minor:M.pv[1],release:M.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(Z,Y,X){if(M.w3){return u(Z,Y,X)}else{return undefined}},showExpressInstall:function(Z,aa,X,Y){if(M.w3&&A()){P(Z,aa,X,Y)}},removeSWF:function(X){if(M.w3){y(X)}},createCSS:function(aa,Z,Y,X){if(M.w3){v(aa,Z,Y,X)}},addDomLoadEvent:K,addLoadEvent:s,getQueryParamValue:function(aa){var Z=j.location.search||j.location.hash;if(Z){if(/\\?/.test(Z)){Z=Z.split(\"?\")[1]}if(aa==null){return L(Z)}var Y=Z.split(\"&\");for(var X=0;X<Y.length;X++){if(Y[X].substring(0,Y[X].indexOf(\"=\"))==aa){return L(Y[X].substring((Y[X].indexOf(\"=\")+1)))}}}return\"\"},expressInstallCallback:function(){if(a){var X=c(R);if(X&&l){X.parentNode.replaceChild(l,X);if(Q){w(Q,true);if(M.ie&&M.win){l.style.display=\"block\"}}if(E){E(B)}}a=false}}}}();module.exports=swfobject;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/swfobject/index.js\n// module id = 25\n// module chunks = 0 1 2 3","const VASTClient = require('../ads/vast/VASTClient');\nconst VASTError = require('../ads/vast/VASTError');\nconst vastUtil = require('../ads/vast/vastUtil');\nconst VASTIntegrator = require('../ads/vast/VASTIntegrator');\nconst VPAIDIntegrator = require('../ads/vpaid/VPAIDIntegrator');\nconst async = require('../utils/async');\nconst dom = require('../utils/dom');\nconst playerUtils = require('../utils/playerUtils');\nconst utilities = require('../utils/utilityFunctions');\nconst logger = require('../utils/consoleLogger');\n\nmodule.exports = function VASTPlugin (options) {\n  let snapshot;\n  const player = this;\n  const vast = new VASTClient();\n  let adsCanceled = false;\n  const defaultOpts = {\n    // maximum amount of time in ms to wait to receive `adsready` from the ad\n    // implementation after play has been requested. Ad implementations are\n    // expected to load any dynamic libraries and make any requests to determine\n    // ad policies for a video during this time.\n    timeout: 500,\n\n    // Whenever you play an add on IOS, the native player kicks in and we loose control of it. On very heavy pages the 'play' event\n    // May occur after the video content has already started. This is wrong if you want to play a preroll ad that needs to happen before the user\n    // starts watching the content. To prevent this usec\n    iosPrerollCancelTimeout: 2000,\n\n    // maximun amount of time for the ad to actually start playing. If this timeout gets\n    // triggered the ads will be cancelled\n    adCancelTimeout: 3000,\n\n    // Boolean flag that configures the player to play a new ad before the user sees the video again\n    // the current video\n    playAdAlways: false,\n\n    // Flag to enable or disable the ads by default.\n    adsEnabled: true,\n\n    // Boolean flag to enable or disable the resize with window.resize or orientationchange\n    autoResize: true,\n\n    // Path to the VPAID flash ad's loader\n    vpaidFlashLoaderPath: '/VPAIDFlash.swf',\n\n    // verbosity of console logging:\n    // 0 - error\n    // 1 - error, warn\n    // 2 - error, warn, info\n    // 3 - error, warn, info, log\n    // 4 - error, warn, info, log, debug\n    verbosity: 0\n  };\n\n  const settings = utilities.extend({}, defaultOpts, options || {});\n\n  if (utilities.isUndefined(settings.getAdTag) && utilities.isDefined(settings.adTag)) {\n    settings.getAdTag = (callback) => callback(null, settings.adTag);\n  }\n\n  if (utilities.isDefined(settings.adTagXML) && !utilities.isFunction(settings.adTagXML)) {\n    return trackAdError(new VASTError('on VideoJS VAST plugin, the passed adTagXML option does not contain a function'));\n  }\n\n  if (!utilities.isFunction(settings.adTagXML) && !utilities.isFunction(settings.getAdTag)) {\n    return trackAdError(new VASTError('on VideoJS VAST plugin, missing adTag on options object'));\n  }\n\n  logger.setVerbosity(settings.verbosity);\n\n  vastUtil.runFlashSupportCheck(settings.vpaidFlashLoaderPath);// Necessary step for VPAIDFLASHClient to work.\n\n  playerUtils.prepareForAds(player);\n\n  if (settings.playAdAlways) {\n    // No matter what happens we play a new ad before the user sees the video again.\n    player.on('vast.contentEnd', () => {\n      setTimeout(() => {\n        player.trigger('vast.reset');\n      }, 0);\n    });\n  }\n\n  player.on('vast.firstPlay', tryToPlayPrerollAd);\n\n  player.on('vast.reset', () => {\n    // If we are reseting the plugin, we don't want to restore the content\n    snapshot = null;\n    cancelAds();\n  });\n\n  player.vast = {\n    isEnabled: function () {\n      return settings.adsEnabled;\n    },\n\n    enable: function () {\n      settings.adsEnabled = true;\n    },\n\n    disable: function () {\n      settings.adsEnabled = false;\n    }\n  };\n\n  return player.vast;\n\n  /** ** Local functions ****/\n  function tryToPlayPrerollAd () {\n    // We remove the poster to prevent flickering whenever the content starts playing\n    playerUtils.removeNativePoster(player);\n\n    playerUtils.once(player, ['vast.adsCancel', 'vast.adEnd'], () => {\n      removeAdUnit();\n      restoreVideoContent();\n    });\n\n    async.waterfall([\n      checkAdsEnabled,\n      preparePlayerForAd,\n      startAdCancelTimeout,\n      playPrerollAd\n    ], (error, response) => {\n      if (error) {\n        trackAdError(error, response);\n      } else {\n        player.trigger('vast.adEnd');\n      }\n    });\n\n    /** * Local functions ***/\n\n    function removeAdUnit () {\n      if (player.vast && player.vast.adUnit) {\n        player.vast.adUnit = null; // We remove the adUnit\n      }\n    }\n\n    function restoreVideoContent () {\n      setupContentEvents();\n      if (snapshot) {\n        playerUtils.restorePlayerSnapshot(player, snapshot);\n        snapshot = null;\n      }\n    }\n\n    function setupContentEvents () {\n      playerUtils.once(player, ['playing', 'vast.reset', 'vast.firstPlay'], (evt) => {\n        if (evt.type !== 'playing') {\n          return;\n        }\n\n        player.trigger('vast.contentStart');\n\n        playerUtils.once(player, ['ended', 'vast.reset', 'vast.firstPlay'], (evt) => {\n          if (evt.type === 'ended') {\n            player.trigger('vast.contentEnd');\n          }\n        });\n      });\n    }\n\n    function checkAdsEnabled (next) {\n      if (settings.adsEnabled) {\n        return next(null);\n      }\n      next(new VASTError('Ads are not enabled'));\n    }\n\n    function preparePlayerForAd (next) {\n      if (canPlayPrerollAd()) {\n        snapshot = playerUtils.getPlayerSnapshot(player);\n        player.pause();\n        addSpinnerIcon();\n\n        if (player.paused()) {\n          next(null);\n        } else {\n          playerUtils.once(player, ['playing'], () => {\n            player.pause();\n            next(null);\n          });\n        }\n      } else {\n        next(new VASTError('video content has been playing before preroll ad'));\n      }\n    }\n\n    function canPlayPrerollAd () {\n      return !utilities.isIPhone() || player.currentTime() <= settings.iosPrerollCancelTimeout;\n    }\n\n    function startAdCancelTimeout (next) {\n      let adCancelTimeoutId;\n\n      adsCanceled = false;\n\n      adCancelTimeoutId = setTimeout(() => {\n        trackAdError(new VASTError('timeout while waiting for the video to start playing', 402));\n      }, settings.adCancelTimeout);\n\n      playerUtils.once(player, ['vast.adStart', 'vast.adsCancel'], clearAdCancelTimeout);\n\n      /** * local functions ***/\n      function clearAdCancelTimeout () {\n        if (adCancelTimeoutId) {\n          clearTimeout(adCancelTimeoutId);\n          adCancelTimeoutId = null;\n        }\n      }\n\n      next(null);\n    }\n\n    function addSpinnerIcon () {\n      dom.addClass(player.el(), 'vjs-vast-ad-loading');\n      playerUtils.once(player, ['vast.adStart', 'vast.adsCancel'], removeSpinnerIcon);\n    }\n\n    function removeSpinnerIcon () {\n      // IMPORTANT NOTE: We remove the spinnerIcon asynchronously to give time to the browser to start the video.\n      // If we remove it synchronously we see a flash of the content video before the ad starts playing.\n      setTimeout(() => {\n        dom.removeClass(player.el(), 'vjs-vast-ad-loading');\n      }, 100);\n    }\n  }\n\n  function cancelAds () {\n    player.trigger('vast.adsCancel');\n    adsCanceled = true;\n  }\n\n  function playPrerollAd (callback) {\n    async.waterfall([\n      getVastResponse,\n      playAd\n    ], callback);\n  }\n\n  function getVastResponse (callback) {\n    if (settings.getAdTag) {\n      return settings.getAdTag((error, adTag) => {\n        if (error) {\n          return trackAdError(error);\n        }\n\n        return vast.getVASTResponse(adTag, callback);\n      });\n    }\n\n    vast.getVASTResponse(settings.adTagXML, callback);\n  }\n\n  function playAd (vastResponse, callback) {\n    // If the state is not 'preroll?' it means the ads were canceled therefore, we break the waterfall\n    if (adsCanceled) {\n      return;\n    }\n\n    const adIntegrator = isVPAID(vastResponse) ? new VPAIDIntegrator(player, settings) : new VASTIntegrator(player);\n    let adFinished = false;\n\n    playerUtils.once(player, ['vast.adStart', 'vast.adsCancel'], (evt) => {\n      if (evt.type === 'vast.adStart') {\n        addAdsLabel();\n      }\n    });\n\n    playerUtils.once(player, ['vast.adEnd', 'vast.adsCancel'], removeAdsLabel);\n\n    if (utilities.isIDevice()) {\n      preventManualProgress();\n    }\n\n    player.vast.vastResponse = vastResponse;\n    logger.debug('calling adIntegrator.playAd() with vastResponse:', vastResponse);\n    player.vast.adUnit = adIntegrator.playAd(vastResponse, callback);\n\n    /** * Local functions ****/\n    function addAdsLabel () {\n      if (adFinished || player.controlBar.getChild('AdsLabel')) {\n        return;\n      }\n\n      player.controlBar.addChild('AdsLabel');\n    }\n\n    function removeAdsLabel () {\n      player.controlBar.removeChild('AdsLabel');\n      adFinished = true;\n    }\n\n    function preventManualProgress () {\n      // IOS video clock is very unreliable and we need a 3 seconds threshold to ensure that the user forwarded/rewound the ad\n      const PROGRESS_THRESHOLD = 3;\n      let previousTime = 0;\n      let skipad_attempts = 0;\n\n      player.on('timeupdate', preventAdSeek);\n      player.on('ended', preventAdSkip);\n\n      playerUtils.once(player, ['vast.adEnd', 'vast.adsCancel', 'vast.adError'], stopPreventManualProgress);\n\n      /** * Local functions ***/\n      function preventAdSkip () {\n        // Ignore ended event if the Ad time was not 'near' the end\n        // and revert time to the previous 'valid' time\n        if (player.duration() - previousTime > PROGRESS_THRESHOLD) {\n          player.pause(true); // this reduce the video jitter if the IOS skip button is pressed\n          player.play(true); // we need to trigger the play to put the video element back in a valid state\n          player.currentTime(previousTime);\n        }\n      }\n\n      function preventAdSeek () {\n        const currentTime = player.currentTime();\n        const progressDelta = Math.abs(currentTime - previousTime);\n\n        if (progressDelta > PROGRESS_THRESHOLD) {\n          skipad_attempts += 1;\n          if (skipad_attempts >= 2) {\n            player.pause(true);\n          }\n          player.currentTime(previousTime);\n        } else {\n          previousTime = currentTime;\n        }\n      }\n\n      function stopPreventManualProgress () {\n        player.off('timeupdate', preventAdSeek);\n        player.off('ended', preventAdSkip);\n      }\n    }\n  }\n\n  function trackAdError (error, vastResponse) {\n    player.trigger({type: 'vast.adError', error: error});\n    cancelAds();\n    logger.error('AD ERROR:', error.message, error, vastResponse);\n  }\n\n  function isVPAID (vastResponse) {\n    let i, len;\n    const mediaFiles = vastResponse.mediaFiles;\n\n    for (i = 0, len = mediaFiles.length; i < len; i++) {\n      if (vastUtil.isVPAID(mediaFiles[i])) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/plugin/videojs.vast.vpaid.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js??ref--2-1!../../node_modules/autoprefixer-loader/index.js??ref--2-2!../../node_modules/resolve-url-loader/index.js!../../node_modules/sass-loader/index.js!./videojs.vast.vpaid.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js??ref--2-1!../../node_modules/autoprefixer-loader/index.js??ref--2-2!../../node_modules/resolve-url-loader/index.js!../../node_modules/sass-loader/index.js!./videojs.vast.vpaid.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js??ref--2-1!../../node_modules/autoprefixer-loader/index.js??ref--2-2!../../node_modules/resolve-url-loader/index.js!../../node_modules/sass-loader/index.js!./videojs.vast.vpaid.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/styles/videojs.vast.vpaid.scss\n// module id = 27\n// module chunks = 0 1 2 3","'use strict';\n\n//simple representation of the API\nexport class IVPAIDAdUnit {\n\n    //all methods below\n    //are async methods\n    handshakeVersion(playerVPAIDVersion = '2.0', callback = undefined) {}\n\n    //creativeData is an object to be consistent with VPAIDHTML\n    initAd (width, height, viewMode, desiredBitrate, creativeData = {AdParameters:''}, environmentVars = {flashVars: ''}, callback = undefined) {}\n    resizeAd(width, height, viewMode, callback = undefined) {}\n\n    startAd(callback = undefined) {}\n    stopAd(callback = undefined) {}\n    pauseAd(callback = undefined) {}\n    resumeAd(callback = undefined) {}\n    expandAd(callback = undefined) {}\n    collapseAd(callback = undefined) {}\n    skipAd(callback = undefined) {}\n\n    //properties that will be treat as async methods\n    getAdLinear(callback) {}\n    getAdWidth(callback) {}\n    getAdHeight(callback) {}\n    getAdExpanded(callback) {}\n    getAdSkippableState(callback) {}\n    getAdRemainingTime(callback) {}\n    getAdDuration(callback) {}\n    setAdVolume(soundVolume, callback = undefined) {}\n    getAdVolume(callback) {}\n    getAdCompanions(callback) {}\n    getAdIcons(callback) {}\n}\n\nObject.defineProperty(IVPAIDAdUnit, 'EVENTS', {\n    writable: false,\n    configurable: false,\n    value: [\n        'AdLoaded',\n        'AdStarted',\n        'AdStopped',\n        'AdSkipped',\n        'AdSkippableStateChange', // VPAID 2.0 new event\n        'AdSizeChange', // VPAID 2.0 new event\n        'AdLinearChange',\n        'AdDurationChange', // VPAID 2.0 new event\n        'AdExpandedChange',\n        'AdRemainingTimeChange', // [Deprecated in 2.0] but will be still fired for backwards compatibility\n        'AdVolumeChange',\n        'AdImpression',\n        'AdVideoStart',\n        'AdVideoFirstQuartile',\n        'AdVideoMidpoint',\n        'AdVideoThirdQuartile',\n        'AdVideoComplete',\n        'AdClickThru',\n        'AdInteraction', // VPAID 2.0 new event\n        'AdUserAcceptInvitation',\n        'AdUserMinimize',\n        'AdUserClose',\n        'AdPaused',\n        'AdPlaying',\n        'AdLog',\n        'AdError'\n    ]\n});\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/vpaid-flash-client/js/IVPAIDAdUnit.js","'use strict';\n\nlet IVPAIDAdUnit = require('./IVPAIDAdUnit').IVPAIDAdUnit;\nlet ALL_VPAID_METHODS = Object.getOwnPropertyNames(IVPAIDAdUnit.prototype).filter(function (property) {\n    return ['constructor'].indexOf(property) === -1;\n});\n\nexport class VPAIDAdUnit extends IVPAIDAdUnit {\n    constructor (flash) {\n        super();\n        this._destroyed = false;\n        this._flash = flash;\n    }\n\n    _destroy() {\n        this._destroyed = true;\n        ALL_VPAID_METHODS.forEach((methodName) => {\n            this._flash.removeCallbackByMethodName(methodName);\n        });\n        IVPAIDAdUnit.EVENTS.forEach((event) => {\n            this._flash.offEvent(event);\n        });\n\n        this._flash = null;\n    }\n\n    isDestroyed () {\n        return this._destroyed;\n    }\n\n    on(eventName, callback) {\n        this._flash.on(eventName, callback);\n    }\n\n    off(eventName, callback) {\n        this._flash.off(eventName, callback);\n    }\n\n    //VPAID interface\n    handshakeVersion(playerVPAIDVersion = '2.0', callback = undefined) {\n        this._flash.callFlashMethod('handshakeVersion', [playerVPAIDVersion], callback);\n    }\n    initAd (width, height, viewMode, desiredBitrate, creativeData = {AdParameters: ''}, environmentVars = {flashVars: ''}, callback = undefined) {\n        //resize element that has the flash object\n        this._flash.setSize(width, height);\n        creativeData = creativeData || {AdParameters: ''};\n        environmentVars = environmentVars || {flashVars: ''};\n\n        this._flash.callFlashMethod('initAd', [this._flash.getWidth(), this._flash.getHeight(), viewMode, desiredBitrate, creativeData.AdParameters || '', environmentVars.flashVars || ''], callback);\n    }\n    resizeAd(width, height, viewMode, callback = undefined) {\n        //resize element that has the flash object\n        this._flash.setSize(width, height);\n\n        //resize ad inside the flash\n        this._flash.callFlashMethod('resizeAd', [this._flash.getWidth(), this._flash.getHeight(), viewMode], callback);\n    }\n    startAd(callback = undefined) {\n        this._flash.callFlashMethod('startAd', [], callback);\n    }\n    stopAd(callback = undefined) {\n        this._flash.callFlashMethod('stopAd', [], callback);\n    }\n    pauseAd(callback = undefined) {\n        this._flash.callFlashMethod('pauseAd', [], callback);\n    }\n    resumeAd(callback = undefined) {\n        this._flash.callFlashMethod('resumeAd', [], callback);\n    }\n    expandAd(callback = undefined) {\n        this._flash.callFlashMethod('expandAd', [], callback);\n    }\n    collapseAd(callback = undefined) {\n        this._flash.callFlashMethod('collapseAd', [], callback);\n    }\n    skipAd(callback = undefined) {\n        this._flash.callFlashMethod('skipAd', [], callback);\n    }\n\n    //properties that will be treat as async methods\n    getAdLinear(callback) {\n        this._flash.callFlashMethod('getAdLinear', [], callback);\n    }\n    getAdWidth(callback) {\n        this._flash.callFlashMethod('getAdWidth', [], callback);\n    }\n    getAdHeight(callback) {\n        this._flash.callFlashMethod('getAdHeight', [], callback);\n    }\n    getAdExpanded(callback) {\n        this._flash.callFlashMethod('getAdExpanded', [], callback);\n    }\n    getAdSkippableState(callback) {\n        this._flash.callFlashMethod('getAdSkippableState', [], callback);\n    }\n    getAdRemainingTime(callback) {\n        this._flash.callFlashMethod('getAdRemainingTime', [], callback);\n    }\n    getAdDuration(callback) {\n        this._flash.callFlashMethod('getAdDuration', [], callback);\n    }\n    setAdVolume(volume, callback = undefined) {\n        this._flash.callFlashMethod('setAdVolume', [volume], callback);\n    }\n    getAdVolume(callback) {\n        this._flash.callFlashMethod('getAdVolume', [], callback);\n    }\n    getAdCompanions(callback) {\n        this._flash.callFlashMethod('getAdCompanions', [], callback);\n    }\n    getAdIcons(callback) {\n        this._flash.callFlashMethod('getAdIcons', [], callback);\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/vpaid-flash-client/js/VPAIDAdUnit.js","'use strict';\n\nconst swfobject = require('swfobject');\n\nconst FLASH_TEST = 'vpaid_video_flash_tester';\nconst FLASH_TEST_EL = 'vpaid_video_flash_tester_el';\nconst JSFlashBridge = require('./jsFlashBridge').JSFlashBridge;\nconst utils = require('./utils');\nconst MultipleValuesRegistry = require('./registry').MultipleValuesRegistry;\n\nclass FlashTester {\n    constructor(parent, swfConfig = {data: 'VPAIDFlash.swf', width: 800, height: 400}) {\n        this.parentEl = utils.createElementWithID(parent, FLASH_TEST_EL); // some browsers create global variables using the element id http://stackoverflow.com/questions/3434278/do-dom-tree-elements-with-ids-become-global-variables\n        utils.hideFlashEl(this.parentEl);\n        var params = {};\n        params.movie = swfConfig.data;\n        params.FlashVars = `flashid=${FLASH_TEST_EL}&handler=${JSFlashBridge.VPAID_FLASH_HANDLER}`;\n        params.allowScriptAccess = 'always';\n\n        this.el = swfobject.createSWF(swfConfig, params, FLASH_TEST_EL);\n        this._handlers = new MultipleValuesRegistry();\n        this._isSupported = false;\n        if (this.el) {\n            utils.hideFlashEl(this.el);\n            this._flash = new JSFlashBridge(this.el, swfConfig.data, FLASH_TEST_EL, swfConfig.width, swfConfig.height, ()=> {\n                const support = true;\n                this._isSupported = support;\n                this._handlers.get('change').forEach((callback) => {\n                    setTimeout(()=> {\n                        callback('change', support);\n                    }, 0);\n                });\n            });\n        }\n    }\n    isSupported() {\n        return this._isSupported;\n    }\n    on(eventName, callback) {\n        this._handlers.add(eventName, callback);\n    }\n}\n\nexport var createFlashTester = function createFlashTester(el, swfConfig) {\n    if (!window[FLASH_TEST]) {\n        window[FLASH_TEST] = new FlashTester(el, swfConfig);\n    }\n    return window[FLASH_TEST];\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/vpaid-flash-client/js/flashTester.js","'use strict';\n\nlet SingleValueRegistry = require('./registry').SingleValueRegistry;\nlet instances = new SingleValueRegistry();\n\nconst JSFlashBridgeRegistry = {};\nObject.defineProperty(JSFlashBridgeRegistry, 'addInstance', {\n    writable: false,\n    configurable: false,\n    value: function (id, instance) {\n        instances.add(id, instance);\n    }\n});\n\nObject.defineProperty(JSFlashBridgeRegistry, 'getInstanceByID', {\n    writable: false,\n    configurable: false,\n    value: function (id) {\n        return instances.get(id);\n    }\n});\n\nObject.defineProperty(JSFlashBridgeRegistry, 'removeInstanceByID', {\n    writable: false,\n    configurable: false,\n    value: function (id) {\n        return instances.remove(id);\n    }\n});\n\nmodule.exports = JSFlashBridgeRegistry;\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/vpaid-flash-client/js/jsFlashBridgeRegistry.js","'use strict';\n\nvar METHODS = [\n    'handshakeVersion',\n    'initAd',\n    'startAd',\n    'stopAd',\n    'skipAd', // VPAID 2.0 new method\n    'resizeAd',\n    'pauseAd',\n    'resumeAd',\n    'expandAd',\n    'collapseAd',\n    'subscribe',\n    'unsubscribe'\n];\n\nvar EVENTS = [\n    'AdLoaded',\n    'AdStarted',\n    'AdStopped',\n    'AdSkipped',\n    'AdSkippableStateChange', // VPAID 2.0 new event\n    'AdSizeChange', // VPAID 2.0 new event\n    'AdLinearChange',\n    'AdDurationChange', // VPAID 2.0 new event\n    'AdExpandedChange',\n    'AdRemainingTimeChange', // [Deprecated in 2.0] but will be still fired for backwards compatibility\n    'AdVolumeChange',\n    'AdImpression',\n    'AdVideoStart',\n    'AdVideoFirstQuartile',\n    'AdVideoMidpoint',\n    'AdVideoThirdQuartile',\n    'AdVideoComplete',\n    'AdClickThru',\n    'AdInteraction', // VPAID 2.0 new event\n    'AdUserAcceptInvitation',\n    'AdUserMinimize',\n    'AdUserClose',\n    'AdPaused',\n    'AdPlaying',\n    'AdLog',\n    'AdError'\n];\n\nvar GETTERS = [\n    'getAdLinear',\n    'getAdWidth', // VPAID 2.0 new getter\n    'getAdHeight', // VPAID 2.0 new getter\n    'getAdExpanded',\n    'getAdSkippableState', // VPAID 2.0 new getter\n    'getAdRemainingTime',\n    'getAdDuration', // VPAID 2.0 new getter\n    'getAdVolume',\n    'getAdCompanions', // VPAID 2.0 new getter\n    'getAdIcons' // VPAID 2.0 new getter\n];\n\nvar SETTERS = [\n    'setAdVolume'\n];\n\n\n/**\n * This callback is displayed as global member. The callback use nodejs error-first callback style\n * @callback NodeStyleCallback\n * @param {string|null}\n * @param {undefined|object}\n */\n\n\n/**\n * IVPAIDAdUnit\n *\n * @class\n *\n * @param {object} creative\n * @param {HTMLElement} el\n * @param {HTMLVideoElement} video\n */\nfunction IVPAIDAdUnit(creative, el, video) {}\n\n\n/**\n * handshakeVersion\n *\n * @param {string} VPAIDVersion\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.handshakeVersion = function (VPAIDVersion, callback) {};\n\n/**\n * initAd\n *\n * @param {number} width\n * @param {number} height\n * @param {string} viewMode can be 'normal', 'thumbnail' or 'fullscreen'\n * @param {number} desiredBitrate indicates the desired bitrate in kbps\n * @param {object} [creativeData] used for additional initialization data\n * @param {object} [environmentVars] used for passing implementation-specific of js version\n * @param {NodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.initAd = function(width, height, viewMode, desiredBitrate, creativeData, environmentVars, callback) {};\n\n/**\n * startAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.startAd = function(callback) {};\n\n/**\n * stopAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.stopAd = function(callback) {};\n\n/**\n * skipAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.skipAd = function(callback) {};\n\n/**\n * resizeAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.resizeAd = function(width, height, viewMode, callback) {};\n\n/**\n * pauseAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.pauseAd = function(callback) {};\n\n/**\n * resumeAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.resumeAd = function(callback) {};\n\n/**\n * expandAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.expandAd = function(callback) {};\n\n/**\n * collapseAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.collapseAd = function(callback) {};\n\n/**\n * subscribe\n *\n * @param {string} event\n * @param {nodeStyleCallback} handler\n * @param {object} context\n */\nIVPAIDAdUnit.prototype.subscribe = function(event, handler, context) {};\n\n/**\n * startAd\n *\n * @param {string} event\n * @param {function} handler\n */\nIVPAIDAdUnit.prototype.unsubscribe = function(event, handler) {};\n\n\n\n/**\n * getAdLinear\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdLinear = function(callback) {};\n\n/**\n * getAdWidth\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdWidth = function(callback) {};\n\n/**\n * getAdHeight\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdHeight = function(callback) {};\n\n/**\n * getAdExpanded\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdExpanded = function(callback) {};\n\n/**\n * getAdSkippableState\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdSkippableState = function(callback) {};\n\n/**\n * getAdRemainingTime\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdRemainingTime = function(callback) {};\n\n/**\n * getAdDuration\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdDuration = function(callback) {};\n\n/**\n * getAdVolume\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdVolume = function(callback) {};\n\n/**\n * getAdCompanions\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdCompanions = function(callback) {};\n\n/**\n * getAdIcons\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdIcons = function(callback) {};\n\n/**\n * setAdVolume\n *\n * @param {number} volume\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.setAdVolume = function(volume, callback) {};\n\naddStaticToInterface(IVPAIDAdUnit, 'METHODS', METHODS);\naddStaticToInterface(IVPAIDAdUnit, 'GETTERS', GETTERS);\naddStaticToInterface(IVPAIDAdUnit, 'SETTERS', SETTERS);\naddStaticToInterface(IVPAIDAdUnit, 'EVENTS',  EVENTS);\n\n\nvar VPAID1_METHODS = METHODS.filter(function(method) {\n    return ['skipAd'].indexOf(method) === -1;\n});\n\naddStaticToInterface(IVPAIDAdUnit, 'checkVPAIDInterface', function checkVPAIDInterface (creative) {\n    var result = VPAID1_METHODS.every(function(key) {\n        return typeof creative[key] === 'function';\n    });\n    return result;\n});\n\nmodule.exports = IVPAIDAdUnit;\n\nfunction addStaticToInterface(Interface, name, value) {\n    Object.defineProperty(Interface, name, {\n        writable: false,\n        configurable: false,\n        value: value\n    });\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/vpaid-html5-client/js/IVPAIDAdUnit.js","'use strict';\n\nvar IVPAIDAdUnit = require('./IVPAIDAdUnit');\nvar Subscriber = require('./subscriber');\nvar checkVPAIDInterface = IVPAIDAdUnit.checkVPAIDInterface;\nvar utils = require('./utils');\nvar METHODS = IVPAIDAdUnit.METHODS;\nvar ERROR = 'AdError';\nvar AD_CLICK = 'AdClickThru';\nvar FILTERED_EVENTS = IVPAIDAdUnit.EVENTS.filter(function (event) {\n    return event != AD_CLICK;\n});\n\n/**\n * This callback is displayed as global member. The callback use nodejs error-first callback style\n * @callback NodeStyleCallback\n * @param {string|null}\n * @param {undefined|object}\n */\n\n\n/**\n * VPAIDAdUnit\n * @class\n *\n * @param VPAIDCreative\n * @param {HTMLElement} [el] this will be used in initAd environmentVars.slot if defined\n * @param {HTMLVideoElement} [video] this will be used in initAd environmentVars.videoSlot if defined\n */\nfunction VPAIDAdUnit(VPAIDCreative, el, video, iframe) {\n    this._isValid = checkVPAIDInterface(VPAIDCreative);\n    if (this._isValid) {\n        this._creative = VPAIDCreative;\n        this._el = el;\n        this._videoEl = video;\n        this._iframe = iframe;\n        this._subscribers = new Subscriber();\n        utils.setFullSizeStyle(el);\n        $addEventsSubscribers.call(this);\n    }\n}\n\nVPAIDAdUnit.prototype = Object.create(IVPAIDAdUnit.prototype);\n\n/**\n * isValidVPAIDAd will return if the VPAIDCreative passed in constructor is valid or not\n *\n * @return {boolean}\n */\nVPAIDAdUnit.prototype.isValidVPAIDAd = function isValidVPAIDAd() {\n    return this._isValid;\n};\n\nIVPAIDAdUnit.METHODS.forEach(function(method) {\n    //NOTE: this methods arguments order are implemented differently from the spec\n    var ignores = [\n        'subscribe',\n        'unsubscribe',\n        'initAd'\n    ];\n\n    if (ignores.indexOf(method) !== -1) return;\n\n    VPAIDAdUnit.prototype[method] = function () {\n        var ariaty = IVPAIDAdUnit.prototype[method].length;\n        // TODO avoid leaking arguments\n        // https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n        var args = Array.prototype.slice.call(arguments);\n        var callback = (ariaty === args.length) ? args.pop() : undefined;\n\n        setTimeout(function () {\n            var result, error = null;\n            try {\n                result = this._creative[method].apply(this._creative, args);\n            } catch(e) {\n                error = e;\n            }\n\n            callOrTriggerEvent(callback, this._subscribers, error, result);\n        }.bind(this), 0);\n    };\n});\n\n\n/**\n * initAd concreate implementation\n *\n * @param {number} width\n * @param {number} height\n * @param {string} viewMode can be 'normal', 'thumbnail' or 'fullscreen'\n * @param {number} desiredBitrate indicates the desired bitrate in kbps\n * @param {object} [creativeData] used for additional initialization data\n * @param {object} [environmentVars] used for passing implementation-specific of js version, if el & video was used in constructor slot & videoSlot will be added to the object\n * @param {NodeStyleCallback} callback\n */\nVPAIDAdUnit.prototype.initAd = function initAd(width, height, viewMode, desiredBitrate, creativeData, environmentVars, callback) {\n    creativeData = creativeData || {};\n    environmentVars = utils.extend({\n        slot: this._el,\n        videoSlot: this._videoEl\n    }, environmentVars || {});\n\n    setTimeout(function () {\n        var error;\n        try {\n            this._creative.initAd(width, height, viewMode, desiredBitrate, creativeData, environmentVars);\n        } catch (e) {\n            error = e;\n        }\n\n        callOrTriggerEvent(callback, this._subscribers, error);\n    }.bind(this), 0);\n};\n\n/**\n * subscribe\n *\n * @param {string} event\n * @param {nodeStyleCallback} handler\n * @param {object} context\n */\nVPAIDAdUnit.prototype.subscribe = function subscribe(event, handler, context) {\n    this._subscribers.subscribe(handler, event, context);\n};\n\n\n/**\n * unsubscribe\n *\n * @param {string} event\n * @param {nodeStyleCallback} handler\n */\nVPAIDAdUnit.prototype.unsubscribe = function unsubscribe(event, handler) {\n    this._subscribers.unsubscribe(handler, event);\n};\n\n//alias\nVPAIDAdUnit.prototype.on = VPAIDAdUnit.prototype.subscribe;\nVPAIDAdUnit.prototype.off = VPAIDAdUnit.prototype.unsubscribe;\n\nIVPAIDAdUnit.GETTERS.forEach(function(getter) {\n    VPAIDAdUnit.prototype[getter] = function (callback) {\n        setTimeout(function () {\n\n            var result, error = null;\n            try {\n                result = this._creative[getter]();\n            } catch(e) {\n                error = e;\n            }\n\n            callOrTriggerEvent(callback, this._subscribers, error, result);\n        }.bind(this), 0);\n    };\n});\n\n/**\n * setAdVolume\n *\n * @param volume\n * @param {nodeStyleCallback} callback\n */\nVPAIDAdUnit.prototype.setAdVolume = function setAdVolume(volume, callback) {\n    setTimeout(function () {\n\n        var result, error = null;\n        try {\n            this._creative.setAdVolume(volume);\n            result = this._creative.getAdVolume();\n        } catch(e) {\n            error = e;\n        }\n\n        if (!error) {\n            error = utils.validate(result === volume, 'failed to apply volume: ' + volume);\n        }\n        callOrTriggerEvent(callback, this._subscribers, error, result);\n    }.bind(this), 0);\n};\n\nVPAIDAdUnit.prototype._destroy = function destroy() {\n    this.stopAd();\n    this._subscribers.unsubscribeAll();\n};\n\nfunction $addEventsSubscribers() {\n    // some ads implement\n    // so they only handle one subscriber\n    // to handle this we create our one\n    FILTERED_EVENTS.forEach(function (event) {\n        this._creative.subscribe($trigger.bind(this, event), event);\n    }.bind(this));\n\n    // map the click event to be an object instead of depending of the order of the arguments\n    // and to be consistent with the flash\n    this._creative.subscribe($clickThruHook.bind(this), AD_CLICK);\n\n    // because we are adding the element inside the iframe\n    // the user is not able to click in the video\n    if (this._videoEl) {\n        var documentElement = this._iframe.contentDocument.documentElement;\n        var videoEl = this._videoEl;\n        documentElement.addEventListener('click', function(e) {\n            if (e.target === documentElement) {\n                videoEl.click();\n            }\n        });\n    }\n}\n\nfunction $clickThruHook(url, id, playerHandles) {\n    this._subscribers.triggerSync(AD_CLICK, {url: url, id: id, playerHandles: playerHandles});\n}\n\nfunction $trigger(event) {\n    // TODO avoid leaking arguments\n    // https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n    this._subscribers.trigger(event, Array.prototype.slice(arguments, 1));\n}\n\nfunction callOrTriggerEvent(callback, subscribers, error, result) {\n    if (callback) {\n        callback(error, result);\n    } else if (error) {\n        subscribers.trigger(ERROR, error);\n    }\n}\n\nmodule.exports = VPAIDAdUnit;\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/vpaid-html5-client/js/VPAIDAdUnit.js","'use strict';\n\nvar utils = require('./utils');\nvar unique = utils.unique('vpaidIframe');\nvar VPAIDAdUnit = require('./VPAIDAdUnit');\n\nvar defaultTemplate = '<!DOCTYPE html>' +\n    '<html lang=\"en\">' +\n    '<head><meta charset=\"UTF-8\"></head>' +\n    '<body style=\"margin:0;padding:0\"><div class=\"ad-element\"></div>' +\n    '<script type=\"text/javascript\" src=\"{{iframeURL_JS}}\"></script>' +\n    '<script type=\"text/javascript\">' +\n    'window.parent.postMessage(\\'{\"event\": \"ready\", \"id\": \"{{iframeID}}\"}\\', \\'{{origin}}\\');' +\n    '</script>' +\n    '</body>' +\n    '</html>';\n\nvar AD_STOPPED = 'AdStopped';\n\n/**\n * This callback is displayed as global member. The callback use nodejs error-first callback style\n * @callback NodeStyleCallback\n * @param {string|null}\n * @param {undefined|object}\n */\n\n/**\n * VPAIDHTML5Client\n * @class\n *\n * @param {HTMLElement} el that will contain the iframe to load adUnit and a el to add to adUnit slot\n * @param {HTMLVideoElement} video default video element to be used by adUnit\n * @param {object} [templateConfig] template: html template to be used instead of the default, extraOptions: to be used when rendering the template\n * @param {object} [vpaidOptions] timeout: when loading adUnit\n */\nfunction VPAIDHTML5Client(el, video, templateConfig, vpaidOptions) {\n    templateConfig = templateConfig || {};\n\n    this._id = unique();\n    this._destroyed = false;\n\n    this._frameContainer = utils.createElementInEl(el, 'div');\n    this._videoEl = video;\n    this._vpaidOptions = vpaidOptions || {timeout: 10000};\n\n    this._templateConfig = {\n        template: templateConfig.template || defaultTemplate,\n        extraOptions: templateConfig.extraOptions || {}\n    };\n}\n\n/**\n * destroy\n *\n */\nVPAIDHTML5Client.prototype.destroy = function destroy() {\n    if (this._destroyed) {\n        return;\n    }\n    this._destroyed = true;\n    $unloadPreviousAdUnit.call(this);\n};\n\n/**\n * isDestroyed\n *\n * @return {boolean}\n */\nVPAIDHTML5Client.prototype.isDestroyed = function isDestroyed() {\n    return this._destroyed;\n};\n\n/**\n * loadAdUnit\n *\n * @param {string} adURL url of the js of the adUnit\n * @param {nodeStyleCallback} callback\n */\nVPAIDHTML5Client.prototype.loadAdUnit = function loadAdUnit(adURL, callback) {\n    $throwIfDestroyed.call(this);\n    $unloadPreviousAdUnit.call(this);\n    var that = this;\n\n    var frame = utils.createIframeWithContent(\n        this._frameContainer,\n        this._templateConfig.template,\n        utils.extend({\n            iframeURL_JS: adURL,\n            iframeID: this.getID(),\n            origin: getOrigin()\n        }, this._templateConfig.extraOptions)\n    );\n\n    this._frame = frame;\n\n    this._onLoad = utils.callbackTimeout(\n        this._vpaidOptions.timeout,\n        onLoad.bind(this),\n        onTimeout.bind(this)\n    );\n\n    window.addEventListener('message', this._onLoad);\n\n    function onLoad (e) {\n        /*jshint validthis: false */\n        //don't clear timeout\n        if (e.origin !== getOrigin()) return;\n        var result = JSON.parse(e.data);\n\n        //don't clear timeout\n        if (result.id !== that.getID()) return;\n\n        var adUnit, error, createAd;\n        if (!that._frame.contentWindow) {\n\n            error = 'the iframe is not anymore in the DOM tree';\n\n        } else {\n            createAd = that._frame.contentWindow.getVPAIDAd;\n            error = utils.validate(typeof createAd === 'function', 'the ad didn\\'t return a function to create an ad');\n        }\n\n        if (!error) {\n            var adEl = that._frame.contentWindow.document.querySelector('.ad-element');\n            adUnit = new VPAIDAdUnit(createAd(), adEl, that._videoEl, that._frame);\n            adUnit.subscribe(AD_STOPPED, $adDestroyed.bind(that));\n            error = utils.validate(adUnit.isValidVPAIDAd(), 'the add is not fully complaint with VPAID specification');\n        }\n\n        that._adUnit = adUnit;\n        $destroyLoadListener.call(that);\n        callback(error, error ? null : adUnit);\n\n        //clear timeout\n        return true;\n    }\n\n    function onTimeout() {\n        callback('timeout', null);\n    }\n};\n\n/**\n * unloadAdUnit\n *\n */\nVPAIDHTML5Client.prototype.unloadAdUnit = function unloadAdUnit() {\n    $unloadPreviousAdUnit.call(this);\n};\n\n/**\n * getID will return the unique id\n *\n * @return {string}\n */\nVPAIDHTML5Client.prototype.getID = function () {\n    return this._id;\n};\n\n\n/**\n * $removeEl\n *\n * @param {string} key\n */\nfunction $removeEl(key) {\n    var el = this[key];\n    if (el) {\n        el.remove();\n        delete this[key];\n    }\n}\n\nfunction $adDestroyed() {\n    $removeAdElements.call(this);\n    delete this._adUnit;\n}\n\nfunction $unloadPreviousAdUnit() {\n    $removeAdElements.call(this);\n    $destroyAdUnit.call(this);\n}\n\nfunction $removeAdElements() {\n    $removeEl.call(this, '_frame');\n    $destroyLoadListener.call(this);\n}\n\n/**\n * $destroyLoadListener\n *\n */\nfunction $destroyLoadListener() {\n    if (this._onLoad) {\n        window.removeEventListener('message', this._onLoad);\n        utils.clearCallbackTimeout(this._onLoad);\n        delete this._onLoad;\n    }\n}\n\n\nfunction $destroyAdUnit() {\n    if (this._adUnit) {\n        this._adUnit.stopAd();\n        delete this._adUnit;\n    }\n}\n\n/**\n * $throwIfDestroyed\n *\n */\nfunction $throwIfDestroyed() {\n    if (this._destroyed) {\n        throw new Error ('VPAIDHTML5Client already destroyed!');\n    }\n}\n\nfunction getOrigin() {\n    if( window.location.origin ) {\n        return window.location.origin;\n    }\n    else {\n        return window.location.protocol + \"//\" +\n            window.location.hostname +\n            (window.location.port ? ':' + window.location.port: '');\n    }\n}\n\nmodule.exports = VPAIDHTML5Client;\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/vpaid-html5-client/js/VPAIDHTML5Client.js","'use strict';\n\nfunction Subscriber() {\n    this._subscribers = {};\n}\n\nSubscriber.prototype.subscribe = function subscribe(handler, eventName, context) {\n    if (!this.isHandlerAttached(handler, eventName)) {\n        this.get(eventName).push({handler: handler, context: context, eventName: eventName});\n    }\n};\n\nSubscriber.prototype.unsubscribe = function unsubscribe(handler, eventName) {\n    this._subscribers[eventName] = this.get(eventName).filter(function (subscriber) {\n        return handler !== subscriber.handler;\n    });\n};\n\nSubscriber.prototype.unsubscribeAll = function unsubscribeAll() {\n    this._subscribers = {};\n};\n\nSubscriber.prototype.trigger = function(eventName, data) {\n    var that = this;\n    var subscribers = this.get(eventName)\n        .concat(this.get('*'));\n\n    subscribers.forEach(function (subscriber) {\n        setTimeout(function () {\n            if (that.isHandlerAttached(subscriber.handler, subscriber.eventName)) {\n                subscriber.handler.call(subscriber.context, data);\n            }\n        }, 0);\n    });\n};\n\nSubscriber.prototype.triggerSync = function(eventName, data) {\n    var subscribers = this.get(eventName)\n        .concat(this.get('*'));\n\n    subscribers.forEach(function (subscriber) {\n        subscriber.handler.call(subscriber.context, data);\n    });\n};\n\nSubscriber.prototype.get = function get(eventName) {\n    if (!this._subscribers[eventName]) {\n        this._subscribers[eventName] = [];\n    }\n    return this._subscribers[eventName];\n};\n\nSubscriber.prototype.isHandlerAttached = function isHandlerAttached(handler, eventName) {\n    return this.get(eventName).some(function(subscriber) {\n        return handler === subscriber.handler;\n    })\n};\n\nmodule.exports = Subscriber;\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/vpaid-html5-client/js/subscriber.js","const utilities = require('../../utils/utilityFunctions');\nconst xml = require('../../utils/xml');\nconst logger = require('../../utils/consoleLogger');\nconst TrackingEvent = require('./TrackingEvent');\n\nfunction Companion (companionJTree) {\n  if (!(this instanceof Companion)) {\n    return new Companion(companionJTree);\n  }\n\n  logger.info('<Companion> found companion ad');\n  logger.debug('<Companion>  companionJTree:', companionJTree);\n\n  // Required Elements\n  this.creativeType = xml.attr(companionJTree.staticResource, 'creativeType');\n  this.staticResource = xml.keyValue(companionJTree.staticResource);\n\n  logger.info('<Companion>  creativeType: ' + this.creativeType);\n  logger.info('<Companion>  staticResource: ' + this.staticResource);\n\n  // Weird bug when the JXON tree is built it doesn't handle casing properly in this situation...\n  let htmlResource = null;\n\n  if (xml.keyValue(companionJTree.HTMLResource)) {\n    htmlResource = xml.keyValue(companionJTree.HTMLResource);\n  } else if (xml.keyValue(companionJTree.hTMLResource)) {\n    htmlResource = xml.keyValue(companionJTree.hTMLResource);\n  }\n\n  if (htmlResource !== null)\n  {\n    logger.info('<Companion> found html resource', htmlResource);\n  }\n\n  this.htmlResource = htmlResource;\n\n  let iframeResource = null;\n\n  if (xml.keyValue(companionJTree.IFrameResource)) {\n    iframeResource = xml.keyValue(companionJTree.IFrameResource);\n  } else if (xml.keyValue(companionJTree.iFrameresource)) {\n    iframeResource = xml.keyValue(companionJTree.iFrameresource);\n  }\n\n  if (iframeResource !== null)\n  {\n    logger.info('<Companion> found iframe resource', iframeResource);\n  }\n\n  this.iframeResource = iframeResource;\n\n  // Optional fields\n  this.id = xml.attr(companionJTree, 'id');\n  this.width = xml.attr(companionJTree, 'width');\n  this.height = xml.attr(companionJTree, 'height');\n  this.expandedWidth = xml.attr(companionJTree, 'expandedWidth');\n  this.expandedHeight = xml.attr(companionJTree, 'expandedHeight');\n  this.scalable = xml.attr(companionJTree, 'scalable');\n  this.maintainAspectRatio = xml.attr(companionJTree, 'maintainAspectRatio');\n  this.minSuggestedDuration = xml.attr(companionJTree, 'minSuggestedDuration');\n  this.apiFramework = xml.attr(companionJTree, 'apiFramework');\n  this.companionClickThrough = xml.keyValue(companionJTree.companionClickThrough);\n  this.trackingEvents = parseTrackingEvents(companionJTree.trackingEvents && companionJTree.trackingEvents.tracking);\n\n  logger.info('<Companion>  companionClickThrough: ' + this.companionClickThrough);\n\n\n  /** * Local functions ***/\n  function parseTrackingEvents (trackingEvents) {\n    const trackings = [];\n\n    if (utilities.isDefined(trackingEvents)) {\n      trackingEvents = utilities.isArray(trackingEvents) ? trackingEvents : [trackingEvents];\n      trackingEvents.forEach((trackingData) => {\n        trackings.push(new TrackingEvent(trackingData));\n      });\n    }\n\n    return trackings;\n  }\n}\n\nmodule.exports = Companion;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ads/vast/Companion.js","\n\nconst xml = require('../../utils/xml');\nconst urlUtils = require('../../utils/urlUtils');\nconst vastUtil = require('./vastUtil');\n\nconst attributesList = [\n  // Required attributes\n  'delivery',\n  'type',\n  'width',\n  'height',\n\n  // Optional attributes\n  'codec',\n  'id',\n  'bitrate',\n  'minBitrate',\n  'maxBitrate',\n  'scalable',\n  'maintainAspectRatio',\n  'apiFramework'\n];\n\nconst pageProtocol = window.location && urlUtils.urlParts(window.location.href).protocol;\n\nfunction MediaFile (mediaFileJTree) {\n  if (!(this instanceof MediaFile)) {\n    return new MediaFile(mediaFileJTree);\n  }\n\n  // Required attributes\n  this.src = xml.keyValue(mediaFileJTree);\n\n  for (let x = 0; x < attributesList.length; x++) {\n    const attribute = attributesList[x];\n\n    this[attribute] = mediaFileJTree.attr(attribute);\n  }\n}\n\nMediaFile.prototype.isSupported = function () {\n  if (vastUtil.isVPAID(this)) {\n    return Boolean(vastUtil.findSupportedVPAIDTech(this.type));\n  }\n\n  if (this.type === 'video/x-flv') {\n    return vastUtil.isFlashSupported();\n  }\n\n  if (pageProtocol === 'https') {\n    return urlUtils.urlParts(this.src).protocol === pageProtocol;\n  }\n\n  return true;\n};\n\nmodule.exports = MediaFile;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ads/vast/MediaFile.js","const async = require('../../utils/async');\nconst http = require('../../utils/http').http;\nconst utilities = require('../../utils/utilityFunctions');\nconst xml = require('../../utils/xml');\nconst logger = require('../../utils/consoleLogger');\nconst Ad = require('./Ad');\nconst VASTError = require('./VASTError');\nconst VASTResponse = require('./VASTResponse');\nconst vastUtil = require('./vastUtil');\n\nfunction VASTClient (options) {\n  if (!(this instanceof VASTClient)) {\n    return new VASTClient(options);\n  }\n  const defaultOptions = {\n    WRAPPER_LIMIT: 5\n  };\n\n  options = options || {};\n  this.settings = utilities.extend({}, options, defaultOptions);\n  this.errorURLMacros = [];\n}\n\nVASTClient.prototype.getVASTResponse = function getVASTResponse (adTag, callback) {\n  const that = this;\n\n  const error = sanityCheck(adTag, callback);\n\n  if (error) {\n    if (utilities.isFunction(callback)) {\n      return callback(error);\n    }\n    throw error;\n  }\n\n  async.waterfall([\n    this._getVASTAd.bind(this, adTag),\n    buildVASTResponse\n  ],\n    callback);\n\n  /** * Local functions ***/\n  function buildVASTResponse (adsChain, cb) {\n    try {\n      const response = that._buildVASTResponse(adsChain);\n\n      cb(null, response);\n    } catch (e) {\n      cb(e);\n    }\n  }\n\n  function sanityCheck (adTag, cb) {\n    if (!adTag) {\n      return new VASTError('on VASTClient.getVASTResponse, missing ad tag URL');\n    }\n\n    if (!utilities.isFunction(cb)) {\n      return new VASTError('on VASTClient.getVASTResponse, missing callback function');\n    }\n  }\n};\n\nVASTClient.prototype._getVASTAd = function (adTag, callback) {\n  const that = this;\n\n  getAdWaterfall(adTag, (error, vastTree) => {\n    const waterfallAds = vastTree && utilities.isArray(vastTree.ads) ? vastTree.ads : null;\n\n    if (error) {\n      that._trackError(error, waterfallAds);\n\n      return callback(error, waterfallAds);\n    }\n\n    getAd(waterfallAds.shift(), [], waterfallHandler);\n\n    /** * Local functions ***/\n    function waterfallHandler (error, adChain) {\n      if (error) {\n        that._trackError(error, adChain);\n        if (waterfallAds.length > 0) {\n          getAd(waterfallAds.shift(), [], waterfallHandler);\n        } else {\n          callback(error, adChain);\n        }\n      } else {\n        callback(null, adChain);\n      }\n    }\n  });\n\n  /** * Local functions ***/\n  function getAdWaterfall (adTag, callback) {\n    const requestVastXML = that._requestVASTXml.bind(that, adTag);\n\n    async.waterfall([\n      requestVastXML,\n      buildVastWaterfall\n    ], callback);\n  }\n\n  function buildVastWaterfall (xmlStr, callback) {\n    let vastTree;\n\n    try {\n      vastTree = xml.toJXONTree(xmlStr);\n      logger.debug('built JXONTree from VAST response:', vastTree);\n\n      if (utilities.isArray(vastTree.ad)) {\n        vastTree.ads = vastTree.ad;\n      } else if (vastTree.ad) {\n        vastTree.ads = [vastTree.ad];\n      } else {\n        vastTree.ads = [];\n      }\n      callback(validateVASTTree(vastTree), vastTree);\n    } catch (e) {\n      callback(new VASTError('on VASTClient.getVASTAd.buildVastWaterfall, error parsing xml', 100), null);\n    }\n  }\n\n  function validateVASTTree (vastTree) {\n    const vastVersion = xml.attr(vastTree, 'version');\n\n    if (!vastTree.ad) {\n      return new VASTError('on VASTClient.getVASTAd.validateVASTTree, no Ad in VAST tree', 303);\n    }\n\n    if (vastVersion && (vastVersion !== 3 && vastVersion !== 2)) {\n      return new VASTError('on VASTClient.getVASTAd.validateVASTTree, not supported VAST version \"' + vastVersion + '\"', 102);\n    }\n\n    return null;\n  }\n\n  function getAd (adTag, adChain, callback) {\n    if (adChain.length >= that.WRAPPER_LIMIT) {\n      return callback(new VASTError('on VASTClient.getVASTAd.getAd, players wrapper limit reached (the limit is ' + that.WRAPPER_LIMIT + ')', 302), adChain);\n    }\n\n    async.waterfall([\n      function (next) {\n        if (utilities.isString(adTag)) {\n          requestVASTAd(adTag, next);\n        } else {\n          next(null, adTag);\n        }\n      },\n      buildAd\n    ], (error, ad) => {\n      if (ad) {\n        adChain.push(ad);\n      }\n\n      if (error) {\n        return callback(error, adChain);\n      }\n\n      if (ad.wrapper) {\n        return getAd(ad.wrapper.VASTAdTagURI, adChain, callback);\n      }\n\n      return callback(null, adChain);\n    });\n  }\n\n  function buildAd (adJxonTree, callback) {\n    try {\n      const ad = new Ad(adJxonTree);\n\n      callback(validateAd(ad), ad);\n    } catch (e) {\n      callback(new VASTError('on VASTClient.getVASTAd.buildAd, error parsing xml', 100), null);\n    }\n  }\n\n  function validateAd (ad) {\n    const wrapper = ad.wrapper;\n    const inLine = ad.inLine;\n    const errMsgPrefix = 'on VASTClient.getVASTAd.validateAd, ';\n\n    if (inLine && wrapper) {\n      return new VASTError(errMsgPrefix + 'InLine and Wrapper both found on the same Ad', 101);\n    }\n\n    if (!inLine && !wrapper) {\n      return new VASTError(errMsgPrefix + 'nor wrapper nor inline elements found on the Ad', 101);\n    }\n\n    if (inLine && !inLine.isSupported()) {\n      return new VASTError(errMsgPrefix + 'could not find MediaFile that is supported by this video player', 403);\n    }\n\n    if (wrapper && !wrapper.VASTAdTagURI) {\n      return new VASTError(errMsgPrefix + 'missing \\'VASTAdTagURI\\' in wrapper', 101);\n    }\n\n    return null;\n  }\n\n  function requestVASTAd (adTag, callback) {\n    that._requestVASTXml(adTag, (error, xmlStr) => {\n      if (error) {\n        return callback(error);\n      }\n      try {\n        const vastTree = xml.toJXONTree(xmlStr);\n\n        callback(validateVASTTree(vastTree), vastTree.ad);\n      } catch (e) {\n        callback(new VASTError('on VASTClient.getVASTAd.requestVASTAd, error parsing xml', 100));\n      }\n    });\n  }\n};\n\nVASTClient.prototype._requestVASTXml = function requestVASTXml (adTag, callback) {\n  try {\n    if (utilities.isFunction(adTag)) {\n      adTag(requestHandler);\n    } else {\n      logger.info('requesting adTag: ' + adTag);\n      http.get(adTag, requestHandler, {\n        withCredentials: true\n      });\n    }\n  } catch (e) {\n    callback(e);\n  }\n\n  /** * Local functions ***/\n  function requestHandler (error, response, status) {\n    if (error) {\n      const errMsg = utilities.isDefined(status) ?\n      'on VASTClient.requestVastXML, HTTP request error with status \\'' + status + '\\'' :\n        'on VASTClient.requestVastXML, Error getting the the VAST XML with he passed adTagXML fn';\n\n      return callback(new VASTError(errMsg, 301), null);\n    }\n\n    callback(null, response);\n  }\n};\n\nVASTClient.prototype._buildVASTResponse = function buildVASTResponse (adsChain) {\n  const response = new VASTResponse();\n\n  addAdsToResponse(response, adsChain);\n  validateResponse(response);\n\n  return response;\n\n  //* ** Local function ****\n  function addAdsToResponse (response, ads) {\n    ads.forEach((ad) => {\n      response.addAd(ad);\n    });\n  }\n\n  function validateResponse (response) {\n    const progressEvents = response.trackingEvents.progress;\n\n    if (!response.hasLinear()) {\n      throw new VASTError('on VASTClient._buildVASTResponse, Received an Ad type that is not supported', 200);\n    }\n\n    if (response.duration === undefined) {\n      throw new VASTError('on VASTClient._buildVASTResponse, Missing duration field in VAST response', 101);\n    }\n\n    if (progressEvents) {\n      progressEvents.forEach((progressEvent) => {\n        if (!utilities.isNumber(progressEvent.offset)) {\n          throw new VASTError('on VASTClient._buildVASTResponse, missing or wrong offset attribute on progress tracking event', 101);\n        }\n      });\n    }\n  }\n};\n\nVASTClient.prototype._trackError = function (error, adChain) {\n  if (!utilities.isArray(adChain) || adChain.length === 0) { // There is nothing to track\n    return;\n  }\n\n  const errorURLMacros = [];\n\n  adChain.forEach(addErrorUrlMacros);\n  vastUtil.track(errorURLMacros, {ERRORCODE: error.code || 900});  // 900 <== Undefined error\n\n  /** * Local functions  ***/\n  function addErrorUrlMacros (ad) {\n    if (ad.wrapper && ad.wrapper.error) {\n      errorURLMacros.push(ad.wrapper.error);\n    }\n\n    if (ad.inLine && ad.inLine.error) {\n      errorURLMacros.push(ad.inLine.error);\n    }\n  }\n};\n\nmodule.exports = VASTClient;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ads/vast/VASTClient.js","const async = require('../../utils/async');\nconst dom = require('../../utils/dom');\nconst playerUtils = require('../../utils/playerUtils');\nconst utilities = require('../../utils/utilityFunctions');\nconst logger = require('../../utils/consoleLogger');\nconst VASTResponse = require('./VASTResponse');\nconst VASTError = require('./VASTError');\nconst VASTTracker = require('./VASTTracker');\nconst vastUtil = require('./vastUtil');\n\nfunction VASTIntegrator (player) {\n  if (!(this instanceof VASTIntegrator)) {\n    return new VASTIntegrator(player);\n  }\n\n  this.player = player;\n}\n\nVASTIntegrator.prototype.playAd = function playAd (vastResponse, callback) {\n  const that = this;\n\n  callback = callback || utilities.noop;\n\n  if (!(vastResponse instanceof VASTResponse)) {\n    return callback(new VASTError('On VASTIntegrator, missing required VASTResponse'));\n  }\n\n  async.waterfall([\n    function (next) {\n      next(null, vastResponse);\n    },\n    this._selectAdSource.bind(this),\n    this._createVASTTracker.bind(this),\n    this._addClickThrough.bind(this),\n    this._addSkipButton.bind(this),\n    this._setupEvents.bind(this),\n    this._playSelectedAd.bind(this)\n  ], (error, response) => {\n    if (error && response) {\n      that._trackError(error, response);\n    }\n    callback(error, response);\n  });\n\n  this._adUnit = {\n    _src: null,\n    type: 'VAST',\n    pauseAd: function () {\n      that.player.pause(true);\n    },\n\n    resumeAd: function () {\n      that.player.play(true);\n    },\n\n    isPaused: function () {\n      return that.player.paused(true);\n    },\n\n    getSrc: function () {\n      return this._src;\n    }\n  };\n\n  return this._adUnit;\n};\n\nVASTIntegrator.prototype._selectAdSource = function selectAdSource (response, callback) {\n  let source;\n\n  const playerWidth = dom.getDimension(this.player.el()).width;\n  const mediaFiles = response.mediaFiles.filter((mediaFile) => mediaFile.isSupported());\n\n  mediaFiles.sort((a, b) => {\n    const deltaA = Math.abs(playerWidth - a.width);\n    const deltaB = Math.abs(playerWidth - b.width);\n\n    return deltaA - deltaB;\n  });\n\n  source = this.player.selectSource(mediaFiles).source;\n\n  if (source) {\n    logger.info('selected source: ', source);\n    if (this._adUnit) {\n      this._adUnit._src = source;\n    }\n\n    return callback(null, source, response);\n  }\n\n  // code 403 <== Couldn't find MediaFile that is supported by this video player\n  callback(new VASTError('Could not find Ad mediafile supported by this player', 403), response);\n};\n\nVASTIntegrator.prototype._createVASTTracker = function createVASTTracker (adMediaFile, response, callback) {\n  try {\n    callback(null, adMediaFile, new VASTTracker(adMediaFile.src, response), response);\n  } catch (e) {\n    callback(e, response);\n  }\n};\n\nVASTIntegrator.prototype._setupEvents = function setupEvents (adMediaFile, tracker, response, callback) {\n  let previouslyMuted;\n  const player = this.player;\n\n  player.on('fullscreenchange', trackFullscreenChange);\n  player.on('vast.adStart', trackImpressions);\n  player.on('pause', trackPause);\n  player.on('timeupdate', trackProgress);\n  player.on('volumechange', trackVolumeChange);\n\n  playerUtils.once(player, ['vast.adEnd', 'vast.adsCancel'], unbindEvents);\n  playerUtils.once(player, ['vast.adEnd', 'vast.adsCancel', 'vast.adSkip'], (evt) => {\n    if (evt.type === 'vast.adEnd') {\n      tracker.trackComplete();\n    }\n  });\n\n  return callback(null, adMediaFile, response);\n\n  /** * Local Functions ***/\n  function unbindEvents () {\n    player.off('fullscreenchange', trackFullscreenChange);\n    player.off('vast.adStart', trackImpressions);\n    player.off('pause', trackPause);\n    player.off('timeupdate', trackProgress);\n    player.off('volumechange', trackVolumeChange);\n  }\n\n  function trackFullscreenChange () {\n    if (player.isFullscreen()) {\n      tracker.trackFullscreen();\n    } else {\n      tracker.trackExitFullscreen();\n    }\n  }\n\n  function trackPause () {\n    // NOTE: whenever a video ends the video Element triggers a 'pause' event before the 'ended' event.\n    //      We should not track this pause event because it makes the VAST tracking confusing again we use a\n    //      Threshold of 2 seconds to prevent false positives on IOS.\n    if (Math.abs(player.duration() - player.currentTime()) < 2) {\n      return;\n    }\n\n    tracker.trackPause();\n    playerUtils.once(player, ['play', 'vast.adEnd', 'vast.adsCancel'], (evt) => {\n      if (evt.type === 'play') {\n        tracker.trackResume();\n      }\n    });\n  }\n\n  function trackProgress () {\n    const currentTimeInMs = player.currentTime() * 1000;\n\n    tracker.trackProgress(currentTimeInMs);\n  }\n\n  function trackImpressions () {\n    tracker.trackImpressions();\n    tracker.trackCreativeView();\n  }\n\n  function trackVolumeChange () {\n    const muted = player.muted();\n\n    if (muted) {\n      tracker.trackMute();\n    } else if (previouslyMuted) {\n      tracker.trackUnmute();\n    }\n    previouslyMuted = muted;\n  }\n};\n\nVASTIntegrator.prototype._addSkipButton = function addSkipButton (source, tracker, response, callback) {\n  let skipOffsetInSec;\n  const that = this;\n\n  if (utilities.isNumber(response.skipoffset)) {\n    skipOffsetInSec = response.skipoffset / 1000;\n    addSkipButtonToPlayer(this.player, skipOffsetInSec);\n  }\n  callback(null, source, tracker, response);\n\n  /** * Local function ***/\n  function addSkipButtonToPlayer (player, skipOffset) {\n    const skipButton = createSkipButton(player);\n    const updateSkipButton = updateSkipButtonState.bind(that, skipButton, skipOffset, player);\n\n    player.el().appendChild(skipButton);\n    player.on('timeupdate', updateSkipButton);\n\n    playerUtils.once(player, ['vast.adEnd', 'vast.adsCancel'], removeSkipButton);\n\n    function removeSkipButton () {\n      player.off('timeupdate', updateSkipButton);\n      dom.remove(skipButton);\n    }\n  }\n\n  function createSkipButton (player) {\n    const skipButton = window.document.createElement('div');\n\n    dom.addClass(skipButton, 'vast-skip-button');\n\n    skipButton.onclick = function (e) {\n      if (dom.hasClass(skipButton, 'enabled')) {\n        tracker.trackSkip();\n        player.trigger('vast.adSkip');\n      }\n\n      // We prevent event propagation to avoid problems with the clickThrough and so on\n      if (window.Event.prototype.stopPropagation === undefined) {\n        return false;\n      } else {\n        e.stopPropagation();\n      }\n    };\n\n    return skipButton;\n  }\n\n  function updateSkipButtonState (skipButton, skipOffset, player) {\n    const timeLeft = Math.ceil(skipOffset - player.currentTime());\n\n    if (timeLeft > 0) {\n      skipButton.innerHTML = 'Skip in ' + utilities.toFixedDigits(timeLeft, 2) + '...';\n    // eslint-disable-next-line\n    } else if (!dom.hasClass(skipButton, 'enabled')) {\n      dom.addClass(skipButton, 'enabled');\n      skipButton.innerHTML = 'Skip ad';\n    }\n  }\n};\n\nVASTIntegrator.prototype._addClickThrough = function addClickThrough (mediaFile, tracker, response, callback) {\n  const player = this.player;\n  const blocker = createClickThroughBlocker(player, tracker, response);\n  const updateBlocker = updateBlockerURL.bind(this, blocker, response, player);\n\n  player.el().insertBefore(blocker, player.controlBar.el());\n  player.on('timeupdate', updateBlocker);\n  playerUtils.once(player, ['vast.adEnd', 'vast.adsCancel'], removeBlocker);\n\n  return callback(null, mediaFile, tracker, response);\n\n  /** * Local Functions ***/\n\n  function createClickThroughBlocker (player, tracker, response) {\n    const blocker = window.document.createElement('a');\n    const clickThroughMacro = response.clickThrough;\n\n    dom.addClass(blocker, 'vast-blocker');\n    blocker.href = generateClickThroughURL(clickThroughMacro, player);\n\n    if (utilities.isString(clickThroughMacro)) {\n      blocker.target = '_blank';\n    }\n\n    blocker.onclick = function (e) {\n      if (player.paused()) {\n        player.play();\n\n        // We prevent event propagation to avoid problems with the player's normal pause mechanism\n        if (window.Event.prototype.stopPropagation !== undefined) {\n          e.stopPropagation();\n        }\n\n        return false;\n      }\n\n      player.pause();\n      tracker.trackClick();\n    };\n\n    return blocker;\n  }\n\n  function updateBlockerURL (blocker, response, player) {\n    blocker.href = generateClickThroughURL(response.clickThrough, player);\n  }\n\n  function generateClickThroughURL (clickThroughMacro, player) {\n    const variables = {\n      ASSETURI: mediaFile.src,\n      CONTENTPLAYHEAD: vastUtil.formatProgress(player.currentTime() * 1000)\n    };\n\n    return clickThroughMacro ? vastUtil.parseURLMacro(clickThroughMacro, variables) : '#';\n  }\n\n  function removeBlocker () {\n    player.off('timeupdate', updateBlocker);\n    dom.remove(blocker);\n  }\n};\n\nVASTIntegrator.prototype._playSelectedAd = function playSelectedAd (source, response, callback) {\n  const player = this.player;\n\n  player.preload('auto'); // without preload=auto the durationchange event is never fired\n  player.src(source);\n\n  logger.debug('<VASTIntegrator._playSelectedAd> waiting for durationchange to play the ad...');\n\n  playerUtils.once(player, ['durationchange', 'error', 'vast.adsCancel'], (evt) => {\n    if (evt.type === 'durationchange') {\n      logger.debug('<VASTIntegrator._playSelectedAd> got durationchange; calling playAd()');\n      playAd();\n    } else if (evt.type === 'error') {\n      callback(new VASTError('on VASTIntegrator, Player is unable to play the Ad', 400), response);\n    }\n\n    // NOTE: If the ads get canceled we do nothing/\n  });\n\n  /** ** local functions ******/\n  function playAd () {\n    playerUtils.once(player, ['playing', 'vast.adsCancel'], (evt) => {\n      if (evt.type === 'vast.adsCancel') {\n        return;\n      }\n\n      logger.debug('<VASTIntegrator._playSelectedAd/playAd> got playing event; triggering vast.adStart...');\n\n      player.trigger('vast.adStart');\n\n      player.on('ended', proceed);\n      player.on('vast.adsCancel', proceed);\n      player.on('vast.adSkip', proceed);\n\n      function proceed (evt) {\n        if (evt.type === 'ended' && player.duration() - player.currentTime() > 3) {\n          // Ignore ended event if the Ad time was not 'near' the end\n          // avoids issues where IOS controls could skip the Ad\n          return;\n        }\n\n        player.off('ended', proceed);\n        player.off('vast.adsCancel', proceed);\n        player.off('vast.adSkip', proceed);\n\n        // NOTE: if the ads get cancel we do nothing apart removing the listners\n        if (evt.type === 'ended' || evt.type === 'vast.adSkip') {\n          callback(null, response);\n        }\n      }\n    });\n\n    logger.debug('<VASTIntegrator._playSelectedAd/playAd> calling player.play()...');\n\n    player.play();\n  }\n};\n\nVASTIntegrator.prototype._trackError = function trackError (error, response) {\n  vastUtil.track(response.errorURLMacros, {ERRORCODE: error.code || 900});\n};\n\nmodule.exports = VASTIntegrator;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ads/vast/VASTIntegrator.js","const VASTError = require('../vast/VASTError');\nconst utilities = require('../../utils/utilityFunctions');\n\nfunction VPAIDAdUnitWrapper (vpaidAdUnit, opts) {\n  if (!(this instanceof VPAIDAdUnitWrapper)) {\n    return new VPAIDAdUnitWrapper(vpaidAdUnit, opts);\n  }\n  sanityCheck(vpaidAdUnit, opts);\n\n  this.options = utilities.extend({}, opts);\n\n  this._adUnit = vpaidAdUnit;\n\n  /** * Local Functions ***/\n  function sanityCheck (adUnit, opts) {\n    if (!adUnit || !VPAIDAdUnitWrapper.checkVPAIDInterface(adUnit)) {\n      throw new VASTError('on VPAIDAdUnitWrapper, the passed VPAID adUnit does not fully implement the VPAID interface');\n    }\n\n    if (!utilities.isObject(opts)) {\n      throw new VASTError('on VPAIDAdUnitWrapper, expected options hash  but got \\'' + opts + '\\'');\n    }\n\n    if (!('responseTimeout' in opts) || !utilities.isNumber(opts.responseTimeout)) {\n      throw new VASTError('on VPAIDAdUnitWrapper, expected responseTimeout in options');\n    }\n  }\n}\n\nVPAIDAdUnitWrapper.checkVPAIDInterface = function checkVPAIDInterface (VPAIDAdUnit) {\n  // NOTE: skipAd is not part of the method list because it only appears in VPAID 2.0 and we support VPAID 1.0\n  const VPAIDInterfaceMethods = [\n    'handshakeVersion', 'initAd', 'startAd', 'stopAd', 'resizeAd', 'pauseAd', 'expandAd', 'collapseAd'\n  ];\n\n  for (let i = 0, len = VPAIDInterfaceMethods.length; i < len; i++) {\n    if (!VPAIDAdUnit || !utilities.isFunction(VPAIDAdUnit[VPAIDInterfaceMethods[i]])) {\n      return false;\n    }\n  }\n\n\n  return canSubscribeToEvents(VPAIDAdUnit) && canUnsubscribeFromEvents(VPAIDAdUnit);\n\n  /** * Local Functions ***/\n\n  function canSubscribeToEvents (adUnit) {\n    return utilities.isFunction(adUnit.subscribe) || utilities.isFunction(adUnit.addEventListener) || utilities.isFunction(adUnit.on);\n  }\n\n  function canUnsubscribeFromEvents (adUnit) {\n    return utilities.isFunction(adUnit.unsubscribe) || utilities.isFunction(adUnit.removeEventListener) || utilities.isFunction(adUnit.off);\n  }\n};\n\nVPAIDAdUnitWrapper.prototype.adUnitAsyncCall = function (...args) {\n  const method = args.shift();\n  let cb = args.pop();\n  let timeoutId;\n\n  sanityCheck(method, cb, this._adUnit);\n  args.push(wrapCallback());\n\n  this._adUnit[method](...args);\n  timeoutId = setTimeout(() => {\n    timeoutId = null;\n    cb(new VASTError('on VPAIDAdUnitWrapper, timeout while waiting for a response on call \\'' + method + '\\''));\n    cb = utilities.noop;\n  }, this.options.responseTimeout);\n\n  /** * Local functions ***/\n  function sanityCheck (method, cb, adUnit) {\n    if (!utilities.isString(method) || !utilities.isFunction(adUnit[method])) {\n      throw new VASTError('on VPAIDAdUnitWrapper.adUnitAsyncCall, invalid method name');\n    }\n\n    if (!utilities.isFunction(cb)) {\n      throw new VASTError('on VPAIDAdUnitWrapper.adUnitAsyncCall, missing callback');\n    }\n  }\n\n  function wrapCallback () {\n    return function () {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n      cb.apply(this, arguments);\n    };\n  }\n};\n\nVPAIDAdUnitWrapper.prototype.on = function (evtName, handler) {\n  const addEventListener = this._adUnit.addEventListener || this._adUnit.subscribe || this._adUnit.on;\n\n  addEventListener.call(this._adUnit, evtName, handler);\n};\n\nVPAIDAdUnitWrapper.prototype.off = function (evtName, handler) {\n  const removeEventListener = this._adUnit.removeEventListener || this._adUnit.unsubscribe || this._adUnit.off;\n\n  removeEventListener.call(this._adUnit, evtName, handler);\n};\n\nVPAIDAdUnitWrapper.prototype.waitForEvent = function (evtName, cb, context) {\n  let timeoutId;\n\n  sanityCheck(evtName, cb);\n  context = context || null;\n\n  this.on(evtName, responseListener);\n\n  timeoutId = setTimeout(() => {\n    cb(new VASTError('on VPAIDAdUnitWrapper.waitForEvent, timeout while waiting for event \\'' + evtName + '\\''));\n    timeoutId = null;\n    cb = utilities.noop;\n  }, this.options.responseTimeout);\n\n  /** * Local functions ***/\n  function sanityCheck (evtName, cb) {\n    if (!utilities.isString(evtName)) {\n      throw new VASTError('on VPAIDAdUnitWrapper.waitForEvent, missing evt name');\n    }\n\n    if (!utilities.isFunction(cb)) {\n      throw new VASTError('on VPAIDAdUnitWrapper.waitForEvent, missing callback');\n    }\n  }\n\n  function responseListener () {\n    const args = utilities.arrayLikeObjToArray(arguments);\n\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n      timeoutId = null;\n    }\n\n    args.unshift(null);\n    cb.apply(context, args);\n  }\n};\n\n// VPAID METHODS\nVPAIDAdUnitWrapper.prototype.handshakeVersion = function (version, cb) {\n  this.adUnitAsyncCall('handshakeVersion', version, cb);\n};\n\n/* jshint maxparams:6 */\nVPAIDAdUnitWrapper.prototype.initAd = function (width, height, viewMode, desiredBitrate, adUnitData, cb) {\n  this.waitForEvent('AdLoaded', cb);\n  this._adUnit.initAd(width, height, viewMode, desiredBitrate, adUnitData);\n};\n\nVPAIDAdUnitWrapper.prototype.resizeAd = function (width, height, viewMode, cb) {\n  // NOTE: AdSizeChange event is only supported on VPAID 2.0 so for the moment we are not going to use it\n  // and will assume that everything is fine after the async call\n  this.adUnitAsyncCall('resizeAd', width, height, viewMode, cb);\n};\n\nVPAIDAdUnitWrapper.prototype.startAd = function (cb) {\n  this.waitForEvent('AdStarted', cb);\n  this._adUnit.startAd();\n};\n\nVPAIDAdUnitWrapper.prototype.stopAd = function (cb) {\n  this.waitForEvent('AdStopped', cb);\n  this._adUnit.stopAd();\n};\n\nVPAIDAdUnitWrapper.prototype.pauseAd = function (cb) {\n  this.waitForEvent('AdPaused', cb);\n  this._adUnit.pauseAd();\n};\n\nVPAIDAdUnitWrapper.prototype.resumeAd = function (cb) {\n  this.waitForEvent('AdPlaying', cb);\n  this._adUnit.resumeAd();\n};\n\nVPAIDAdUnitWrapper.prototype.expandAd = function (cb) {\n  this.waitForEvent('AdExpandedChange', cb);\n  this._adUnit.expandAd();\n};\n\nVPAIDAdUnitWrapper.prototype.collapseAd = function (cb) {\n  this.waitForEvent('AdExpandedChange', cb);\n  this._adUnit.collapseAd();\n};\n\nVPAIDAdUnitWrapper.prototype.skipAd = function (cb) {\n  this.waitForEvent('AdSkipped', cb);\n  this._adUnit.skipAd();\n};\n\n// VPAID property getters\n[\n  'adLinear',\n  'adWidth',\n  'adHeight',\n  'adExpanded',\n  'adSkippableState',\n  'adRemainingTime',\n  'adDuration',\n  'adVolume',\n  'adCompanions',\n  'adIcons'\n].forEach((property) => {\n  const getterName = 'get' + utilities.capitalize(property);\n\n  VPAIDAdUnitWrapper.prototype[getterName] = function (cb) {\n    this.adUnitAsyncCall(getterName, cb);\n  };\n});\n\n// VPAID property setters\nVPAIDAdUnitWrapper.prototype.setAdVolume = function (volume, cb) {\n  this.adUnitAsyncCall('setAdVolume', volume, cb);\n};\n\nmodule.exports = VPAIDAdUnitWrapper;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ads/vpaid/VPAIDAdUnitWrapper.js","require('vpaid-flash-client/bin/VPAIDFlash.swf');\nconst VPAIDFLASHClient = require('vpaid-flash-client/js/VPAIDFLASHClient');\nconst MimeTypes = require('../../utils/mimetypes');\nconst VASTError = require('../vast/VASTError');\nconst utilities = require('../../utils/utilityFunctions');\nconst dom = require('../../utils/dom');\nconst logger = require('../../utils/consoleLogger');\n\nfunction VPAIDFlashTech (mediaFile, settings) {\n  if (!(this instanceof VPAIDFlashTech)) {\n    return new VPAIDFlashTech(mediaFile);\n  }\n  sanityCheck(mediaFile);\n  this.name = 'vpaid-flash';\n  this.mediaFile = mediaFile;\n  this.containerEl = null;\n  this.vpaidFlashClient = null;\n  this.settings = settings;\n\n  /** * local functions ***/\n  function sanityCheck (mediaFile) {\n    if (!mediaFile || !utilities.isString(mediaFile.src)) {\n      throw new VASTError('on VPAIDFlashTech, invalid MediaFile');\n    }\n  }\n}\n\nVPAIDFlashTech.VPAIDFLASHClient = VPAIDFLASHClient;\n\nVPAIDFlashTech.supports = function (type) {\n  return MimeTypes.flash.indexOf(type) > -1 && VPAIDFlashTech.VPAIDFLASHClient.isSupported();\n};\n\nVPAIDFlashTech.prototype.loadAdUnit = function loadFlashCreative (containerEl, objectEl, callback) {\n  const that = this;\n  const flashClientOpts = this.settings && this.settings.vpaidFlashLoaderPath ? {data: this.settings.vpaidFlashLoaderPath} : undefined;\n\n  sanityCheck(containerEl, callback);\n\n  this.containerEl = containerEl;\n\n  logger.debug('<VPAIDFlashTech.loadAdUnit> loading VPAIDFLASHClient with opts:', flashClientOpts);\n\n  this.vpaidFlashClient = new VPAIDFlashTech.VPAIDFLASHClient(containerEl, (error) => {\n    if (error) {\n      return callback(error);\n    }\n\n    logger.info('<VPAIDFlashTech.loadAdUnit> calling VPAIDFLASHClient.loadAdUnit(); that.mediaFile:', that.mediaFile);\n    that.vpaidFlashClient.loadAdUnit(that.mediaFile.src, callback);\n  }, flashClientOpts);\n\n  /** * Local Functions ***/\n  function sanityCheck (container, cb) {\n    if (!dom.isDomElement(container)) {\n      throw new VASTError('on VPAIDFlashTech.loadAdUnit, invalid dom container element');\n    }\n\n    if (!utilities.isFunction(cb)) {\n      throw new VASTError('on VPAIDFlashTech.loadAdUnit, missing valid callback');\n    }\n  }\n};\n\nVPAIDFlashTech.prototype.unloadAdUnit = function () {\n  if (this.vpaidFlashClient) {\n    try {\n      this.vpaidFlashClient.destroy();\n    } catch (e) {\n      logger.error('VAST ERROR: trying to unload the VPAID adunit');\n    }\n    this.vpaidFlashClient = null;\n  }\n\n  if (this.containerEl) {\n    dom.remove(this.containerEl);\n    this.containerEl = null;\n  }\n};\n\nmodule.exports = VPAIDFlashTech;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ads/vpaid/VPAIDFlashTech.js","const VPAIDHTML5Client = require('vpaid-html5-client/js/VPAIDHTML5Client');\nconst MimeTypes = require('../../utils/mimetypes');\nconst VASTError = require('../vast/VASTError');\nconst utilities = require('../../utils/utilityFunctions');\nconst dom = require('../../utils/dom');\nconst logger = require('../../utils/consoleLogger');\n\nfunction VPAIDHTML5Tech (mediaFile) {\n  if (!(this instanceof VPAIDHTML5Tech)) {\n    return new VPAIDHTML5Tech(mediaFile);\n  }\n\n  sanityCheck(mediaFile);\n\n  this.name = 'vpaid-html5';\n  this.containerEl = null;\n  this.videoEl = null;\n  this.vpaidHTMLClient = null;\n\n  this.mediaFile = mediaFile;\n\n  function sanityCheck (mediaFile) {\n    if (!mediaFile || !utilities.isString(mediaFile.src)) {\n      throw new VASTError(VPAIDHTML5Tech.INVALID_MEDIA_FILE);\n    }\n  }\n}\n\nVPAIDHTML5Tech.VPAIDHTML5Client = VPAIDHTML5Client;\n\nVPAIDHTML5Tech.supports = function (type) {\n  return !utilities.isOldIE() && MimeTypes.html5.indexOf(type) > -1;\n};\n\nVPAIDHTML5Tech.prototype.loadAdUnit = function loadAdUnit (containerEl, videoEl, callback) {\n  sanityCheck(containerEl, videoEl, callback);\n\n  this.containerEl = containerEl;\n  this.videoEl = videoEl;\n  this.vpaidHTMLClient = new VPAIDHTML5Tech.VPAIDHTML5Client(containerEl, videoEl, {});\n  this.vpaidHTMLClient.loadAdUnit(this.mediaFile.src, callback);\n\n  function sanityCheck (container, video, cb) {\n    if (!dom.isDomElement(container)) {\n      throw new VASTError(VPAIDHTML5Tech.INVALID_DOM_CONTAINER_EL);\n    }\n\n    if (!dom.isDomElement(video) || video.tagName.toLowerCase() !== 'video') {\n      throw new VASTError(VPAIDHTML5Tech.INVALID_DOM_CONTAINER_EL);\n    }\n\n    if (!utilities.isFunction(cb)) {\n      throw new VASTError(VPAIDHTML5Tech.MISSING_CALLBACK);\n    }\n  }\n};\n\nVPAIDHTML5Tech.prototype.unloadAdUnit = function unloadAdUnit () {\n  if (this.vpaidHTMLClient) {\n    try {\n      this.vpaidHTMLClient.destroy();\n    } catch (e) {\n      logger.error('VAST ERROR: trying to unload the VPAID adunit');\n    }\n\n    this.vpaidHTMLClient = null;\n  }\n\n  if (this.containerEl) {\n    dom.remove(this.containerEl);\n    this.containerEl = null;\n  }\n};\n\nconst PREFIX = 'on VPAIDHTML5Tech';\n\nVPAIDHTML5Tech.INVALID_MEDIA_FILE = PREFIX + ', invalid MediaFile';\nVPAIDHTML5Tech.INVALID_DOM_CONTAINER_EL = PREFIX + ', invalid container HtmlElement';\nVPAIDHTML5Tech.INVALID_DOM_VIDEO_EL = PREFIX + ', invalid HTMLVideoElement';\nVPAIDHTML5Tech.MISSING_CALLBACK = PREFIX + ', missing valid callback';\n\nmodule.exports = VPAIDHTML5Tech;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ads/vpaid/VPAIDHTML5Tech.js","const MimeTypes = require('../../utils/mimetypes');\nconst VASTError = require('../vast/VASTError');\nconst VASTResponse = require('../vast/VASTResponse');\nconst VASTTracker = require('../vast/VASTTracker');\nconst vastUtil = require('../vast/vastUtil');\nconst async = require('../../utils/async');\nconst dom = require('../../utils/dom');\nconst playerUtils = require('../../utils/playerUtils');\nconst utilities = require('../../utils/utilityFunctions');\nconst logger = require('../../utils/consoleLogger');\nconst VPAIDAdUnitWrapper = require('./VPAIDAdUnitWrapper');\n\nfunction VPAIDIntegrator (player, settings) {\n  if (!(this instanceof VPAIDIntegrator)) {\n    return new VPAIDIntegrator(player);\n  }\n\n  this.VIEW_MODE = {\n    NORMAL: 'normal',\n    FULLSCREEN: 'fullscreen',\n    THUMBNAIL: 'thumbnail'\n  };\n  this.player = player;\n  this.containerEl = createVPAIDContainerEl(player);\n  this.options = {\n    responseTimeout: 5000,\n    VPAID_VERSION: '2.0'\n  };\n  this.settings = settings;\n\n  /** * Local functions ***/\n\n  function createVPAIDContainerEl () {\n    const containerEl = document.createElement('div');\n\n    dom.addClass(containerEl, 'VPAID-container');\n    player.el().insertBefore(containerEl, player.controlBar.el());\n\n    return containerEl;\n  }\n}\n\nVPAIDIntegrator.prototype.playAd = function playVPaidAd (vastResponse, callback) {\n  if (!(vastResponse instanceof VASTResponse)) {\n    return callback(new VASTError('on VASTIntegrator.playAd, missing required VASTResponse'));\n  }\n\n  const that = this;\n  const player = this.player;\n\n  logger.debug('<VPAIDIntegrator.playAd> looking for supported tech...');\n  const tech = this._findSupportedTech(vastResponse, this.settings);\n\n  callback = callback || utilities.noop;\n\n  this._adUnit = null;\n\n  dom.addClass(player.el(), 'vjs-vpaid-ad');\n\n  player.on('vast.adsCancel', triggerVpaidAdEnd);\n  player.one('vpaid.adEnd', () => {\n    player.off('vast.adsCancel', triggerVpaidAdEnd);\n    removeAdUnit();\n  });\n\n  if (tech) {\n    logger.info('<VPAIDIntegrator.playAd> found tech: ', tech);\n\n    async.waterfall([\n      function (next) {\n        next(null, tech, vastResponse);\n      },\n      this._loadAdUnit.bind(this),\n      this._playAdUnit.bind(this),\n      this._finishPlaying.bind(this)\n\n    ], adComplete);\n\n    this._adUnit = {\n      _paused: true,\n      type: 'VPAID',\n      pauseAd: function () {\n        player.trigger('vpaid.pauseAd');\n        player.pause(true);// we make sure that the video content gets stopped.\n      },\n      resumeAd: function () {\n        player.trigger('vpaid.resumeAd');\n      },\n      isPaused: function () {\n        return this._paused;\n      },\n      getSrc: function () {\n        return tech.mediaFile;\n      }\n    };\n  } else {\n    logger.debug('<VPAIDIntegrator.playAd> could not find suitable tech');\n    const error = new VASTError('on VPAIDIntegrator.playAd, could not find a supported mediaFile', 403);\n\n    adComplete(error, this._adUnit, vastResponse);\n  }\n\n  return this._adUnit;\n\n  /** * Local functions ***/\n  function adComplete (error, adUnit, vastResponse) {\n    if (error && vastResponse) {\n      that._trackError(vastResponse, error.code);\n    }\n    player.trigger('vpaid.adEnd');\n    callback(error, vastResponse);\n  }\n\n  function triggerVpaidAdEnd () {\n    player.trigger('vpaid.adEnd');\n  }\n\n  function removeAdUnit () {\n    if (tech) {\n      tech.unloadAdUnit();\n    }\n    dom.removeClass(player.el(), 'vjs-vpaid-ad');\n  }\n};\n\nVPAIDIntegrator.prototype._findSupportedTech = function (vastResponse, settings) {\n  if (!(vastResponse instanceof VASTResponse)) {\n    return null;\n  }\n\n  const vpaidMediaFiles = vastResponse.mediaFiles.filter(vastUtil.isVPAID);\n  const preferredTech = settings && settings.preferredTech;\n  const skippedSupportTechs = [];\n  let i, len, mediaFile, VPAIDTech, isPreferedTech;\n\n  for (i = 0, len = vpaidMediaFiles.length; i < len; i += 1) {\n    mediaFile = vpaidMediaFiles[i];\n    VPAIDTech = vastUtil.findSupportedVPAIDTech(mediaFile.type);\n\n    // no supported VPAID tech found, skip mediafile\n    //eslint-disable-next-line\n    if (!VPAIDTech) { continue; }\n\n    // do we have a prefered tech, does it play this media file ?\n    isPreferedTech = preferredTech ?\n      mediaFile.type === preferredTech || MimeTypes[preferredTech] && MimeTypes[preferredTech].indexOf(mediaFile.type) > -1 :\n      false;\n\n    // our prefered tech can read this mediafile, defaulting to it.\n    if (isPreferedTech) {\n      return new VPAIDTech(mediaFile, settings);\n    }\n\n    skippedSupportTechs.push({mediaFile: mediaFile, tech: VPAIDTech});\n  }\n\n  if (skippedSupportTechs.length) {\n    const firstTech = skippedSupportTechs[0];\n\n    return new firstTech.tech(firstTech.mediaFile, settings);\n  }\n\n  return null;\n};\n\nVPAIDIntegrator.prototype._createVPAIDAdUnitWrapper = function (adUnit, src, responseTimeout) {\n  return new VPAIDAdUnitWrapper(adUnit, {src: src, responseTimeout: responseTimeout});\n};\n\nVPAIDIntegrator.prototype._loadAdUnit = function (tech, vastResponse, next) {\n  const that = this;\n  const player = this.player;\n  const vjsTechEl = player.el().querySelector('.vjs-tech');\n  const responseTimeout = this.settings.responseTimeout || this.options.responseTimeout;\n\n  tech.loadAdUnit(this.containerEl, vjsTechEl, (error, adUnit) => {\n    if (error) {\n      return next(error, adUnit, vastResponse);\n    }\n\n    try {\n      const WrappedAdUnit = that._createVPAIDAdUnitWrapper(adUnit, tech.mediaFile.src, responseTimeout);\n      const techClass = 'vjs-' + tech.name + '-ad';\n\n      dom.addClass(player.el(), techClass);\n      player.one('vpaid.adEnd', () => {\n        dom.removeClass(player.el(), techClass);\n      });\n      next(null, WrappedAdUnit, vastResponse);\n    } catch (e) {\n      next(e, adUnit, vastResponse);\n    }\n  });\n};\n\nVPAIDIntegrator.prototype._playAdUnit = function (adUnit, vastResponse, callback) {\n  async.waterfall([\n    function (next) {\n      next(null, adUnit, vastResponse);\n    },\n    this._handshake.bind(this),\n    this._initAd.bind(this),\n    this._setupEvents.bind(this),\n    this._addSkipButton.bind(this),\n    this._linkPlayerControls.bind(this),\n    this._startAd.bind(this)\n  ], callback);\n};\n\nVPAIDIntegrator.prototype._handshake = function handshake (adUnit, vastResponse, next) {\n  adUnit.handshakeVersion(this.options.VPAID_VERSION, (error, version) => {\n    if (error) {\n      return next(error, adUnit, vastResponse);\n    }\n\n    if (version && isSupportedVersion(version)) {\n      return next(null, adUnit, vastResponse);\n    }\n\n    return next(new VASTError('on VPAIDIntegrator._handshake, unsupported version \"' + version + '\"'), adUnit, vastResponse);\n  });\n\n  function isSupportedVersion (version) {\n    const majorNum = major(version);\n\n    return majorNum >= 1 && majorNum <= 2;\n  }\n\n  function major (version) {\n    const parts = version.split('.');\n\n    return parseInt(parts[0], 10);\n  }\n};\n\nVPAIDIntegrator.prototype._initAd = function (adUnit, vastResponse, next) {\n  const tech = this.player.el().querySelector('.vjs-tech');\n  const dimension = dom.getDimension(tech);\n\n  adUnit.initAd(dimension.width, dimension.height, this.VIEW_MODE.NORMAL, -1, {AdParameters: vastResponse.adParameters || ''}, (error) => {\n    next(error, adUnit, vastResponse);\n  });\n};\n\nVPAIDIntegrator.prototype._createVASTTracker = function (adUnitSrc, vastResponse) {\n  return new VASTTracker(adUnitSrc, vastResponse);\n};\n\nVPAIDIntegrator.prototype._setupEvents = function (adUnit, vastResponse, next) {\n  const adUnitSrc = adUnit.options.src;\n  const tracker = this._createVASTTracker(adUnitSrc, vastResponse);\n  const player = this.player;\n  const that = this;\n\n  adUnit.on('AdSkipped', () => {\n    player.trigger('vpaid.AdSkipped');\n    tracker.trackSkip();\n  });\n\n  adUnit.on('AdImpression', () => {\n    player.trigger('vpaid.AdImpression');\n    tracker.trackImpressions();\n  });\n\n  adUnit.on('AdStarted', () => {\n    player.trigger('vpaid.AdStarted');\n    tracker.trackCreativeView();\n    notifyPlayToPlayer();\n  });\n\n  adUnit.on('AdVideoStart', () => {\n    player.trigger('vpaid.AdVideoStart');\n    tracker.trackStart();\n    notifyPlayToPlayer();\n  });\n\n  adUnit.on('AdPlaying', () => {\n    player.trigger('vpaid.AdPlaying');\n    tracker.trackResume();\n    notifyPlayToPlayer();\n  });\n\n  adUnit.on('AdPaused', () => {\n    player.trigger('vpaid.AdPaused');\n    tracker.trackPause();\n    notifyPauseToPlayer();\n  });\n\n  function notifyPlayToPlayer () {\n    if (that._adUnit && that._adUnit.isPaused()) {\n      that._adUnit._paused = false;\n    }\n    player.trigger('play');\n  }\n\n  function notifyPauseToPlayer () {\n    if (that._adUnit) {\n      that._adUnit._paused = true;\n    }\n    player.trigger('pause');\n  }\n\n  adUnit.on('AdVideoFirstQuartile', () => {\n    player.trigger('vpaid.AdVideoFirstQuartile');\n    tracker.trackFirstQuartile();\n  });\n\n  adUnit.on('AdVideoMidpoint', () => {\n    player.trigger('vpaid.AdVideoMidpoint');\n    tracker.trackMidpoint();\n  });\n\n  adUnit.on('AdVideoThirdQuartile', () => {\n    player.trigger('vpaid.AdVideoThirdQuartile');\n    tracker.trackThirdQuartile();\n  });\n\n  adUnit.on('AdVideoComplete', () => {\n    player.trigger('vpaid.AdVideoComplete');\n    tracker.trackComplete();\n  });\n\n  adUnit.on('AdClickThru', (data) => {\n    player.trigger('vpaid.AdClickThru');\n    const url = data.url;\n    const playerHandles = data.playerHandles;\n    const clickThruUrl = utilities.isNotEmptyString(url) ? url : generateClickThroughURL(vastResponse.clickThrough);\n\n    tracker.trackClick();\n    if (playerHandles && clickThruUrl) {\n      window.open(clickThruUrl, '_blank');\n    }\n\n    function generateClickThroughURL (clickThroughMacro) {\n      const variables = {\n        ASSETURI: adUnit.options.src,\n        CONTENTPLAYHEAD: 0 // In VPAID there is no method to know the current time from the adUnit\n      };\n\n      return clickThroughMacro ? vastUtil.parseURLMacro(clickThroughMacro, variables) : null;\n    }\n  });\n\n  adUnit.on('AdUserAcceptInvitation', () => {\n    player.trigger('vpaid.AdUserAcceptInvitation');\n    tracker.trackAcceptInvitation();\n    tracker.trackAcceptInvitationLinear();\n  });\n\n  adUnit.on('AdUserClose', () => {\n    player.trigger('vpaid.AdUserClose');\n    tracker.trackClose();\n    tracker.trackCloseLinear();\n  });\n\n  adUnit.on('AdUserMinimize', () => {\n    player.trigger('vpaid.AdUserMinimize');\n    tracker.trackCollapse();\n  });\n\n  adUnit.on('AdError', () => {\n    player.trigger('vpaid.AdError');\n\n    // NOTE: we track errors code 901, as noted in VAST 3.0\n    tracker.trackErrorWithCode(901);\n  });\n\n  adUnit.on('AdVolumeChange', () => {\n    player.trigger('vpaid.AdVolumeChange');\n    const lastVolume = player.volume();\n\n    adUnit.getAdVolume((error, currentVolume) => {\n      if (lastVolume !== currentVolume) {\n        if (currentVolume === 0 && lastVolume > 0) {\n          tracker.trackMute();\n        }\n\n        if (currentVolume > 0 && lastVolume === 0) {\n          tracker.trackUnmute();\n        }\n\n        player.volume(currentVolume);\n      }\n    });\n  });\n\n  const updateViewSize = resizeAd.bind(this, player, adUnit, this.VIEW_MODE);\n  const updateViewSizeThrottled = utilities.throttle(updateViewSize, 100);\n  const autoResize = this.settings.autoResize;\n\n  if (autoResize) {\n    dom.addEventListener(window, 'resize', updateViewSizeThrottled);\n    dom.addEventListener(window, 'orientationchange', updateViewSizeThrottled);\n  }\n\n  player.on('vast.resize', updateViewSize);\n  player.on('vpaid.pauseAd', pauseAdUnit);\n  player.on('vpaid.resumeAd', resumeAdUnit);\n\n  player.one('vpaid.adEnd', () => {\n    player.off('vast.resize', updateViewSize);\n    player.off('vpaid.pauseAd', pauseAdUnit);\n    player.off('vpaid.resumeAd', resumeAdUnit);\n\n    if (autoResize) {\n      dom.removeEventListener(window, 'resize', updateViewSizeThrottled);\n      dom.removeEventListener(window, 'orientationchange', updateViewSizeThrottled);\n    }\n  });\n\n  next(null, adUnit, vastResponse);\n\n  /** * Local Functions ***/\n  function pauseAdUnit () {\n    adUnit.pauseAd(utilities.noop);\n  }\n\n  function resumeAdUnit () {\n    adUnit.resumeAd(utilities.noop);\n  }\n};\n\nVPAIDIntegrator.prototype._addSkipButton = function (adUnit, vastResponse, next) {\n  let skipButton;\n  const player = this.player;\n\n  adUnit.on('AdSkippableStateChange', updateSkipButtonState);\n\n  playerUtils.once(player, ['vast.adEnd', 'vast.adsCancel'], removeSkipButton);\n\n  next(null, adUnit, vastResponse);\n\n  /** * Local function ***/\n  function updateSkipButtonState () {\n    player.trigger('vpaid.AdSkippableStateChange');\n    adUnit.getAdSkippableState((error, isSkippable) => {\n      if (isSkippable) {\n        if (!skipButton) {\n          addSkipButton(player);\n        }\n      } else {\n        removeSkipButton(player);\n      }\n    });\n  }\n\n  function addSkipButton (player) {\n    skipButton = createSkipButton(player);\n    player.el().appendChild(skipButton);\n  }\n\n  function removeSkipButton () {\n    dom.remove(skipButton);\n    skipButton = null;\n  }\n\n  function createSkipButton () {\n    const skipButton = window.document.createElement('div');\n\n    dom.addClass(skipButton, 'vast-skip-button');\n    dom.addClass(skipButton, 'enabled');\n    skipButton.innerHTML = 'Skip ad';\n\n    skipButton.onclick = function (e) {\n      adUnit.skipAd(utilities.noop);// We skip the adUnit\n\n      // We prevent event propagation to avoid problems with the clickThrough and so on\n      if (window.Event.prototype.stopPropagation === undefined) {\n        return false;\n      } else {\n        e.stopPropagation();\n      }\n    };\n\n    return skipButton;\n  }\n};\n\nVPAIDIntegrator.prototype._linkPlayerControls = function (adUnit, vastResponse, next) {\n  const that = this;\n\n  linkVolumeControl(this.player, adUnit);\n  linkFullScreenControl(this.player, adUnit, this.VIEW_MODE);\n\n  next(null, adUnit, vastResponse);\n\n  /** * Local functions ***/\n  function linkVolumeControl (player, adUnit) {\n    player.on('volumechange', updateAdUnitVolume);\n    adUnit.on('AdVolumeChange', updatePlayerVolume);\n\n    player.one('vpaid.adEnd', () => {\n      player.off('volumechange', updateAdUnitVolume);\n    });\n\n\n    /** * local functions ***/\n    function updateAdUnitVolume () {\n      const vol = player.muted() ? 0 : player.volume();\n\n      adUnit.setAdVolume(vol, logError);\n    }\n\n    function updatePlayerVolume () {\n      player.trigger('vpaid.AdVolumeChange');\n      const lastVolume = player.volume();\n\n      adUnit.getAdVolume((error, vol) => {\n        if (error) {\n          logError(error);\n        } else if (lastVolume !== vol) {\n          player.volume(vol);\n        }\n      });\n    }\n  }\n\n  function linkFullScreenControl (player, adUnit, VIEW_MODE) {\n    const updateViewSize = resizeAd.bind(that, player, adUnit, VIEW_MODE);\n\n    player.on('fullscreenchange', updateViewSize);\n\n    player.one('vpaid.adEnd', () => {\n      player.off('fullscreenchange', updateViewSize);\n    });\n  }\n};\n\nVPAIDIntegrator.prototype._startAd = function (adUnit, vastResponse, next) {\n  const player = this.player;\n\n  adUnit.startAd((error) => {\n    if (!error) {\n      player.trigger('vast.adStart');\n    }\n    next(error, adUnit, vastResponse);\n  });\n};\n\nVPAIDIntegrator.prototype._finishPlaying = function (adUnit, vastResponse, next) {\n  const player = this.player;\n\n  adUnit.on('AdStopped', () => {\n    player.trigger('vpaid.AdStopped');\n    finishPlayingAd(null);\n  });\n\n  adUnit.on('AdError', (error) => {\n    const errMsg = error ? error.message : 'on VPAIDIntegrator, error while waiting for the adUnit to finish playing';\n\n    finishPlayingAd(new VASTError(errMsg));\n  });\n\n  /** * local functions ***/\n  function finishPlayingAd (error) {\n    next(error, adUnit, vastResponse);\n  }\n};\n\nVPAIDIntegrator.prototype._trackError = function trackError (response, errorCode) {\n  vastUtil.track(response.errorURLMacros, {ERRORCODE: errorCode || 901});\n};\n\nfunction resizeAd (player, adUnit, VIEW_MODE) {\n  const tech = player.el().querySelector('.vjs-tech');\n  const dimension = dom.getDimension(tech);\n  const MODE = player.isFullscreen() ? VIEW_MODE.FULLSCREEN : VIEW_MODE.NORMAL;\n\n  adUnit.resizeAd(dimension.width, dimension.height, MODE, logError);\n}\n\nfunction logError (error) {\n  if (error) {\n    logger.error('ERROR: ' + error.message, error);\n  }\n}\n\nmodule.exports = VPAIDIntegrator;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ads/vpaid/VPAIDIntegrator.js","\n\nconst dom = require('../../utils/dom');\n\nconst element = document.createElement('div');\n\nelement.className = 'vjs-ads-label vjs-control vjs-label-hidden';\nelement.innerHTML = 'Advertisement';\n\nconst AdsLabelFactory = function (baseComponent) {\n  return {\n    /** @constructor */\n    init: function init (player, options) {\n      options.el = element;\n      baseComponent.call(this, player, options);\n\n      // We asynchronously reposition the ads label element\n      setTimeout(() => {\n        const currentTimeComp = player.controlBar && (player.controlBar.getChild('timerControls') || player.controlBar.getChild('currentTimeDisplay'));\n\n        if (currentTimeComp) {\n          player.controlBar.el().insertBefore(element, currentTimeComp.el());\n        }\n        dom.removeClass(element, 'vjs-label-hidden');\n      }, 0);\n    },\n\n    el: function getElement () {\n      return element;\n    }\n  };\n};\n\nmodule.exports = AdsLabelFactory;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/plugin/components/ads-label.js","\n\n/**\n * The component that shows a black screen until the ads plugin has decided if it can or it can not play the ad.\n *\n * Note: In case you wonder why instead of this black poster we don't just show the spinner loader.\n *       IOS devices do not work well with animations and the browser chrashes from time to time That is why we chose to\n *       have a secondary black poster.\n *\n *       It also makes it much more easier for the users of the plugin since it does not change the default behaviour of the\n *       spinner and the player works the same way with and without the plugin.\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nconst element = document.createElement('div');\n\nconst BlackPosterFactory = function (baseComponent) {\n  return {\n    /** @constructor */\n    init: function init (player, options) {\n      options.el = element;\n      element.className = 'vjs-black-poster';\n      baseComponent.call(this, player, options);\n\n      const posterImg = player.getChild('posterImage');\n\n      // We need to do it asynchronously to be sure that the black poster el is on the dom.\n      setTimeout(() => {\n        if (posterImg && player && player.el()) {\n          player.el().insertBefore(element, posterImg.el());\n        }\n      }, 0);\n    },\n    el: function getElement () {\n      return element;\n    }\n  };\n};\n\nmodule.exports = BlackPosterFactory;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/plugin/components/black-poster.js","\n\nconst urlUtils = require('./urlUtils');\nconst utilities = require('./utilityFunctions');\n\nfunction HttpRequestError (message) {\n  this.message = 'HttpRequest Error: ' + (message || '');\n}\nHttpRequestError.prototype = new Error();\nHttpRequestError.prototype.name = 'HttpRequest Error';\n\nfunction HttpRequest (createXhr) {\n  if (!utilities.isFunction(createXhr)) {\n    throw new HttpRequestError('Missing XMLHttpRequest factory method');\n  }\n\n  this.createXhr = createXhr;\n}\n\nHttpRequest.prototype.run = function (method, url, callback, options) {\n  sanityCheck(url, callback, options);\n  let timeout, timeoutId;\n  const xhr = this.createXhr();\n\n  options = options || {};\n  timeout = utilities.isNumber(options.timeout) ? options.timeout : 0;\n\n  xhr.open(method, urlUtils.urlParts(url).href, true);\n\n  if (options.headers) {\n    setHeaders(xhr, options.headers);\n  }\n\n  if (options.withCredentials) {\n    xhr.withCredentials = true;\n  }\n\n  xhr.onload = function () {\n    let statusText, response, status;\n\n    /**\n     * The only way to do a secure request on IE8 and IE9 is with the XDomainRequest object. Unfortunately, microsoft is\n     * so nice that decided that the status property and the 'getAllResponseHeaders' method where not needed so we have to\n     * fake them. If the request gets done with an XDomainRequest instance, we will assume that there are no headers and\n     * the status will always be 200. If you don't like it, DO NOT USE ANCIENT BROWSERS!!!\n     *\n     * For mor info go to: https://msdn.microsoft.com/en-us/library/cc288060(v=vs.85).aspx\n     */\n    if (!xhr.getAllResponseHeaders) {\n      xhr.getAllResponseHeaders = function () {\n        return null;\n      };\n    }\n\n    if (!xhr.status) {\n      xhr.status = 200;\n    }\n\n    if (utilities.isDefined(timeoutId)) {\n      clearTimeout(timeoutId);\n      timeoutId = undefined;\n    }\n\n    statusText = xhr.statusText || '';\n\n    // responseText is the old-school way of retrieving response (supported by IE8 & 9)\n    // response/responseType properties were introduced in XHR Level2 spec (supported by IE10)\n    response = 'response' in xhr ? xhr.response : xhr.responseText;\n\n    // normalize IE9 bug (http://bugs.jquery.com/ticket/1450)\n    status = xhr.status === 1223 ? 204 : xhr.status;\n\n    callback(\n      status,\n      response,\n      xhr.getAllResponseHeaders(),\n      statusText);\n  };\n\n  xhr.onerror = requestError;\n  xhr.onabort = requestError;\n\n  xhr.send();\n\n  if (timeout > 0) {\n    timeoutId = setTimeout(() => {\n      if (xhr) {\n        xhr.abort();\n      }\n    }, timeout);\n  }\n\n  function sanityCheck (url, callback, options) {\n    if (!utilities.isString(url) || utilities.isEmptyString(url)) {\n      throw new HttpRequestError('Invalid url \\'' + url + '\\'');\n    }\n\n    if (!utilities.isFunction(callback)) {\n      throw new HttpRequestError('Invalid handler \\'' + callback + '\\' for the http request');\n    }\n\n    if (utilities.isDefined(options) && !utilities.isObject(options)) {\n      throw new HttpRequestError('Invalid options map \\'' + options + '\\'');\n    }\n  }\n\n  function setHeaders (xhr, headers) {\n    utilities.forEach(headers, (value, key) => {\n      if (utilities.isDefined(value)) {\n        xhr.setRequestHeader(key, value);\n      }\n    });\n  }\n\n  function requestError () {\n    callback(-1, null, null, '');\n  }\n};\n\nHttpRequest.prototype.get = function (url, callback, options) {\n  this.run('GET', url, processResponse, options);\n\n  function processResponse (status, response, headersString, statusText) {\n    if (isSuccess(status)) {\n      callback(null, response, status, headersString, statusText);\n    } else {\n      callback(new HttpRequestError(statusText), response, status, headersString, statusText);\n    }\n  }\n\n  function isSuccess (status) {\n    return 200 <= status && status < 300;\n  }\n};\n\nfunction createXhr () {\n  let xhr = new XMLHttpRequest();\n\n  if (!('withCredentials' in xhr)) {\n    // XDomainRequest for IE.\n    xhr = new XDomainRequest();\n  }\n\n  return xhr;\n}\n\nconst http = new HttpRequest(createXhr);\n\nmodule.exports = {\n  http: http,\n  HttpRequest: HttpRequest,\n  HttpRequestError: HttpRequestError,\n  createXhr: createXhr\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/utils/http.js","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".vjs-label-hidden {\\n  display: none !important;\\n}\\n\\n.vjs-default-skin div.vjs-ads-label {\\n  font-size: 13px;\\n  line-height: 30px;\\n  font-weight: normal;\\n  text-align: center;\\n  color: white;\\n  display: none;\\n  width: auto;\\n  padding-left: 10px;\\n}\\n\\n.vjs-ad-playing .vjs-control.vjs-ads-label {\\n  display: block;\\n}\\n\\n.vjs-black-poster {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  margin: 0;\\n  padding: 0;\\n  background-repeat: no-repeat;\\n  background-position: 50% 50%;\\n  background-size: contain;\\n  cursor: pointer;\\n  background-color: #000;\\n}\\n\\n.vjs-has-started .vjs-black-poster.vjs-hidden {\\n  display: none;\\n}\\n\\n.vjs-using-native-controls .vjs-black-poster {\\n  display: none;\\n}\\n\\ndiv.VPAID-container {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\ndiv.vjs-vpaid-ad div.vjs-progress-control,\\ndiv.vjs-vpaid-ad div.vjs-time-controls,\\ndiv.vjs-vpaid-ad div.vjs-time-divider {\\n  display: none;\\n}\\n\\ndiv.vjs-vpaid-ad.vjs-vpaid-flash-ad div.VPAID-container {\\n  background-color: #000;\\n}\\n\\ndiv.vjs-vpaid-ad .vjs-tech {\\n  z-index: 0;\\n}\\n\\n/**\\n * videojs.ads.css\\n */\\n\\n/* Ad playback */\\n\\n.vjs-ad-playing .vjs-progress-control {\\n  pointer-events: none;\\n}\\n\\n.vjs-ad-playing .vjs-play-control.vjs-paused,\\n.vjs-ad-playing .vjs-volume-level,\\n.vjs-ad-playing .vjs-play-progress {\\n  background-color: #ffe400 !important;\\n}\\n\\ndiv.vast-skip-button {\\n  display: block;\\n  position: absolute;\\n  bottom: 20%;\\n  right: 0;\\n  background-color: #000;\\n  color: white;\\n  font-size: 15px;\\n  font-weight: bold;\\n  width: auto;\\n  padding: 8px;\\n  z-index: 2;\\n  border: 1px solid white;\\n  border-right: none;\\n}\\n\\n.vast-skip-button.enabled {\\n  cursor: pointer;\\n  color: #fff;\\n}\\n\\n.vast-skip-button.enabled:hover {\\n  cursor: pointer;\\n  background: #333;\\n}\\n\\n.vast-blocker {\\n  display: block;\\n  position: absolute;\\n  margin: 0;\\n  padding: 0;\\n  height: 100%;\\n  width: 100%;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n}\\n\\n.vast-skip-button.enabled::after {\\n  content: \\\">>\\\";\\n  position: relative;\\n  top: 1px;\\n  margin-left: 8px;\\n}\\n\\n/* Ad loading */\\n\\n.vjs-ad-playing.vjs-vast-ad-loading .vjs-loading-spinner {\\n  display: block;\\n  z-index: 10;\\n  /* only animate when showing because it can be processor heavy */\\n  -webkit-animation: spin 1.5s infinite linear;\\n  animation: spin 1.5s infinite linear;\\n}\\n\\n.vjs-vast-ad-loading div.vjs-big-play-button {\\n  display: none !important;\\n}\\n\\n.vjs-ad-playing .vjs-slider-handle::before {\\n  display: none;\\n}\\n\\n.vjs-ad-playing .vjs-live-controls {\\n  display: none;\\n}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"modules\":false,\"importLoaders\":1,\"minimize\":false}!./~/autoprefixer-loader?{\"browsers\":[\"> 1%\",\"last 3 versions\",\"iOS > 6\",\"ie > 9\"],\"cascade\":false}!./~/resolve-url-loader!./~/sass-loader!./src/styles/videojs.vast.vpaid.scss\n// module id = 47\n// module chunks = 0 1 2 3","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader/lib/css-base.js\n// module id = 48\n// module chunks = 0 1 2 3","module.exports = __webpack_public_path__ + \"VPAIDFlash.swf\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vpaid-flash-client/bin/VPAIDFlash.swf\n// module id = 49\n// module chunks = 0 1 2 3","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\nvar stylesInDom = {},\n\tmemoize = function(fn) {\n\t\tvar memo;\n\t\treturn function () {\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\t\treturn memo;\n\t\t};\n\t},\n\tisOldIE = memoize(function() {\n\t\treturn /msie [6-9]\\b/.test(self.navigator.userAgent.toLowerCase());\n\t}),\n\tgetHeadElement = memoize(function () {\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\n\t}),\n\tsingletonElement = null,\n\tsingletonCounter = 0,\n\tstyleElementsInsertedAtTop = [];\n\nmodule.exports = function(list, options) {\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the bottom of <head>.\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list);\n\taddStylesToDom(styles, options);\n\n\treturn function update(newList) {\n\t\tvar mayRemove = [];\n\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\n\t\t\t\t\tdomStyle.parts[j]();\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction addStylesToDom(styles, options) {\n\tfor(var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles(list) {\n\tvar styles = [];\n\tvar newStyles = {};\n\tfor(var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\t\tif(!newStyles[id])\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse\n\t\t\tnewStyles[id].parts.push(part);\n\t}\n\treturn styles;\n}\n\nfunction insertStyleElement(options, styleElement) {\n\tvar head = getHeadElement();\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\n\tif (options.insertAt === \"top\") {\n\t\tif(!lastStyleElementInsertedAtTop) {\n\t\t\thead.insertBefore(styleElement, head.firstChild);\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\thead.appendChild(styleElement);\n\t\t}\n\t\tstyleElementsInsertedAtTop.push(styleElement);\n\t} else if (options.insertAt === \"bottom\") {\n\t\thead.appendChild(styleElement);\n\t} else {\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t}\n}\n\nfunction removeStyleElement(styleElement) {\n\tstyleElement.parentNode.removeChild(styleElement);\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\n\tif(idx >= 0) {\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement(options) {\n\tvar styleElement = document.createElement(\"style\");\n\tstyleElement.type = \"text/css\";\n\tinsertStyleElement(options, styleElement);\n\treturn styleElement;\n}\n\nfunction createLinkElement(options) {\n\tvar linkElement = document.createElement(\"link\");\n\tlinkElement.rel = \"stylesheet\";\n\tinsertStyleElement(options, linkElement);\n\treturn linkElement;\n}\n\nfunction addStyle(obj, options) {\n\tvar styleElement, update, remove;\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\n\t} else if(obj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\") {\n\t\tstyleElement = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t\tif(styleElement.href)\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\n\t\t};\n\t} else {\n\t\tstyleElement = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle(newObj) {\n\t\tif(newObj) {\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\n\t\t\t\treturn;\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = styleElement.childNodes;\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\n\t\tif (childNodes.length) {\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyleElement.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag(styleElement, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyleElement.setAttribute(\"media\", media)\n\t}\n\n\tif(styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = css;\n\t} else {\n\t\twhile(styleElement.firstChild) {\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\n\t\t}\n\t\tstyleElement.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink(linkElement, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\tif(sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = linkElement.href;\n\n\tlinkElement.href = URL.createObjectURL(blob);\n\n\tif(oldSrc)\n\t\tURL.revokeObjectURL(oldSrc);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader/addStyles.js\n// module id = 50\n// module chunks = 0 1 2 3","\n\nconst baseVideoJsComponent = videojs.getComponent('Component');\n\nconst AdsLabel = require('./ads-label')(baseVideoJsComponent);\n\nvideojs.registerComponent('AdsLabel', videojs.extend(baseVideoJsComponent, AdsLabel));\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/plugin/components/ads-label_5.js","\n\nconst baseVideoJsComponent = videojs.getComponent('Component');\n\nconst BlackPoster = require('./black-poster')(baseVideoJsComponent);\n\nvideojs.registerComponent('BlackPoster', videojs.extend(baseVideoJsComponent, BlackPoster));\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/plugin/components/black-poster_5.js","\n\nrequire('./plugin/components/ads-label_5');\nrequire('./plugin/components/black-poster_5');\nrequire('../styles/videojs.vast.vpaid.scss');\n\nconst videoJsVAST = require('./plugin/videojs.vast.vpaid');\n\nvideojs.plugin('vastClient', videoJsVAST);\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/videojs_5.vast.vpaid.js"],"sourceRoot":""}